function A0(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function k0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xd={exports:{}},Fa={},Yd={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function R0(){if(ly)return Re;ly=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,L={};function x(j,G,ge){this.props=j,this.context=G,this.refs=L,this.updater=ge||C}x.prototype.isReactComponent={},x.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},x.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Q(){}Q.prototype=x.prototype;function X(j,G,ge){this.props=j,this.context=G,this.refs=L,this.updater=ge||C}var te=X.prototype=new Q;te.constructor=X,O(te,x.prototype),te.isPureReactComponent=!0;var Y=Array.isArray,pe=Object.prototype.hasOwnProperty,oe={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(j,G,ge){var Ae,ke={},Ve=null,Ue=null;if(G!=null)for(Ae in G.ref!==void 0&&(Ue=G.ref),G.key!==void 0&&(Ve=""+G.key),G)pe.call(G,Ae)&&!N.hasOwnProperty(Ae)&&(ke[Ae]=G[Ae]);var ze=arguments.length-2;if(ze===1)ke.children=ge;else if(1<ze){for(var He=Array(ze),Tt=0;Tt<ze;Tt++)He[Tt]=arguments[Tt+2];ke.children=He}if(j&&j.defaultProps)for(Ae in ze=j.defaultProps,ze)ke[Ae]===void 0&&(ke[Ae]=ze[Ae]);return{$$typeof:r,type:j,key:Ve,ref:Ue,props:ke,_owner:oe.current}}function k(j,G){return{$$typeof:r,type:j.type,key:G,ref:j.ref,props:j.props,_owner:j._owner}}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function V(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ge){return G[ge]})}var M=/\/+/g;function R(j,G){return typeof j=="object"&&j!==null&&j.key!=null?V(""+j.key):G.toString(36)}function qe(j,G,ge,Ae,ke){var Ve=typeof j;(Ve==="undefined"||Ve==="boolean")&&(j=null);var Ue=!1;if(j===null)Ue=!0;else switch(Ve){case"string":case"number":Ue=!0;break;case"object":switch(j.$$typeof){case r:case e:Ue=!0}}if(Ue)return Ue=j,ke=ke(Ue),j=Ae===""?"."+R(Ue,0):Ae,Y(ke)?(ge="",j!=null&&(ge=j.replace(M,"$&/")+"/"),qe(ke,G,ge,"",function(Tt){return Tt})):ke!=null&&(P(ke)&&(ke=k(ke,ge+(!ke.key||Ue&&Ue.key===ke.key?"":(""+ke.key).replace(M,"$&/")+"/")+j)),G.push(ke)),1;if(Ue=0,Ae=Ae===""?".":Ae+":",Y(j))for(var ze=0;ze<j.length;ze++){Ve=j[ze];var He=Ae+R(Ve,ze);Ue+=qe(Ve,G,ge,He,ke)}else if(He=T(j),typeof He=="function")for(j=He.call(j),ze=0;!(Ve=j.next()).done;)Ve=Ve.value,He=Ae+R(Ve,ze++),Ue+=qe(Ve,G,ge,He,ke);else if(Ve==="object")throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ue}function ot(j,G,ge){if(j==null)return j;var Ae=[],ke=0;return qe(j,Ae,"","",function(Ve){return G.call(ge,Ve,ke++)}),Ae}function et(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(ge){(j._status===0||j._status===-1)&&(j._status=1,j._result=ge)},function(ge){(j._status===0||j._status===-1)&&(j._status=2,j._result=ge)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var Oe={current:null},se={transition:null},_e={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:se,ReactCurrentOwner:oe};function le(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:ot,forEach:function(j,G,ge){ot(j,function(){G.apply(this,arguments)},ge)},count:function(j){var G=0;return ot(j,function(){G++}),G},toArray:function(j){return ot(j,function(G){return G})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Re.Component=x,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=s,Re.Suspense=p,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Re.act=le,Re.cloneElement=function(j,G,ge){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Ae=O({},j.props),ke=j.key,Ve=j.ref,Ue=j._owner;if(G!=null){if(G.ref!==void 0&&(Ve=G.ref,Ue=oe.current),G.key!==void 0&&(ke=""+G.key),j.type&&j.type.defaultProps)var ze=j.type.defaultProps;for(He in G)pe.call(G,He)&&!N.hasOwnProperty(He)&&(Ae[He]=G[He]===void 0&&ze!==void 0?ze[He]:G[He])}var He=arguments.length-2;if(He===1)Ae.children=ge;else if(1<He){ze=Array(He);for(var Tt=0;Tt<He;Tt++)ze[Tt]=arguments[Tt+2];Ae.children=ze}return{$$typeof:r,type:j.type,key:ke,ref:Ve,props:Ae,_owner:Ue}},Re.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:l,_context:j},j.Consumer=j},Re.createElement=S,Re.createFactory=function(j){var G=S.bind(null,j);return G.type=j,G},Re.createRef=function(){return{current:null}},Re.forwardRef=function(j){return{$$typeof:d,render:j}},Re.isValidElement=P,Re.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:et}},Re.memo=function(j,G){return{$$typeof:y,type:j,compare:G===void 0?null:G}},Re.startTransition=function(j){var G=se.transition;se.transition={};try{j()}finally{se.transition=G}},Re.unstable_act=le,Re.useCallback=function(j,G){return Oe.current.useCallback(j,G)},Re.useContext=function(j){return Oe.current.useContext(j)},Re.useDebugValue=function(){},Re.useDeferredValue=function(j){return Oe.current.useDeferredValue(j)},Re.useEffect=function(j,G){return Oe.current.useEffect(j,G)},Re.useId=function(){return Oe.current.useId()},Re.useImperativeHandle=function(j,G,ge){return Oe.current.useImperativeHandle(j,G,ge)},Re.useInsertionEffect=function(j,G){return Oe.current.useInsertionEffect(j,G)},Re.useLayoutEffect=function(j,G){return Oe.current.useLayoutEffect(j,G)},Re.useMemo=function(j,G){return Oe.current.useMemo(j,G)},Re.useReducer=function(j,G,ge){return Oe.current.useReducer(j,G,ge)},Re.useRef=function(j){return Oe.current.useRef(j)},Re.useState=function(j){return Oe.current.useState(j)},Re.useSyncExternalStore=function(j,G,ge){return Oe.current.useSyncExternalStore(j,G,ge)},Re.useTransition=function(){return Oe.current.useTransition()},Re.version="18.3.1",Re}var uy;function up(){return uy||(uy=1,Yd.exports=R0()),Yd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function P0(){if(cy)return Fa;cy=1;var r=up(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,y){var _,w={},T=null,C=null;y!==void 0&&(T=""+y),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(C=p.ref);for(_ in p)s.call(p,_)&&!l.hasOwnProperty(_)&&(w[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:d,key:T,ref:C,props:w,_owner:o.current}}return Fa.Fragment=t,Fa.jsx=h,Fa.jsxs=h,Fa}var hy;function x0(){return hy||(hy=1,Xd.exports=P0()),Xd.exports}var H=x0(),W=up();const Mr=k0(W),N0=A0({__proto__:null,default:Mr},[W]);var ju={},Jd={exports:{}},rn={},Zd={exports:{}},ef={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function D0(){return dy||(dy=1,function(r){function e(se,_e){var le=se.length;se.push(_e);e:for(;0<le;){var j=le-1>>>1,G=se[j];if(0<o(G,_e))se[j]=_e,se[le]=G,le=j;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var _e=se[0],le=se.pop();if(le!==_e){se[0]=le;e:for(var j=0,G=se.length,ge=G>>>1;j<ge;){var Ae=2*(j+1)-1,ke=se[Ae],Ve=Ae+1,Ue=se[Ve];if(0>o(ke,le))Ve<G&&0>o(Ue,ke)?(se[j]=Ue,se[Ve]=le,j=Ve):(se[j]=ke,se[Ae]=le,j=Ae);else if(Ve<G&&0>o(Ue,le))se[j]=Ue,se[Ve]=le,j=Ve;else break e}}return _e}function o(se,_e){var le=se.sortIndex-_e.sortIndex;return le!==0?le:se.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],y=[],_=1,w=null,T=3,C=!1,O=!1,L=!1,x=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(se){for(var _e=t(y);_e!==null;){if(_e.callback===null)s(y);else if(_e.startTime<=se)s(y),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=t(y)}}function Y(se){if(L=!1,te(se),!O)if(t(p)!==null)O=!0,et(pe);else{var _e=t(y);_e!==null&&Oe(Y,_e.startTime-se)}}function pe(se,_e){O=!1,L&&(L=!1,Q(S),S=-1),C=!0;var le=T;try{for(te(_e),w=t(p);w!==null&&(!(w.expirationTime>_e)||se&&!V());){var j=w.callback;if(typeof j=="function"){w.callback=null,T=w.priorityLevel;var G=j(w.expirationTime<=_e);_e=r.unstable_now(),typeof G=="function"?w.callback=G:w===t(p)&&s(p),te(_e)}else s(p);w=t(p)}if(w!==null)var ge=!0;else{var Ae=t(y);Ae!==null&&Oe(Y,Ae.startTime-_e),ge=!1}return ge}finally{w=null,T=le,C=!1}}var oe=!1,N=null,S=-1,k=5,P=-1;function V(){return!(r.unstable_now()-P<k)}function M(){if(N!==null){var se=r.unstable_now();P=se;var _e=!0;try{_e=N(!0,se)}finally{_e?R():(oe=!1,N=null)}}else oe=!1}var R;if(typeof X=="function")R=function(){X(M)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,ot=qe.port2;qe.port1.onmessage=M,R=function(){ot.postMessage(null)}}else R=function(){x(M,0)};function et(se){N=se,oe||(oe=!0,R())}function Oe(se,_e){S=x(function(){se(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(se){se.callback=null},r.unstable_continueExecution=function(){O||C||(O=!0,et(pe))},r.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(se){switch(T){case 1:case 2:case 3:var _e=3;break;default:_e=T}var le=T;T=_e;try{return se()}finally{T=le}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(se,_e){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=T;T=se;try{return _e()}finally{T=le}},r.unstable_scheduleCallback=function(se,_e,le){var j=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?j+le:j):le=j,se){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=le+G,se={id:_++,callback:_e,priorityLevel:se,startTime:le,expirationTime:G,sortIndex:-1},le>j?(se.sortIndex=le,e(y,se),t(p)===null&&se===t(y)&&(L?(Q(S),S=-1):L=!0,Oe(Y,le-j))):(se.sortIndex=G,e(p,se),O||C||(O=!0,et(pe))),se},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(se){var _e=T;return function(){var le=T;T=_e;try{return se.apply(this,arguments)}finally{T=le}}}}(ef)),ef}var fy;function O0(){return fy||(fy=1,Zd.exports=D0()),Zd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function V0(){if(py)return rn;py=1;var r=up(),e=O0();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(n){return p.call(w,n)?!0:p.call(_,n)?!1:y.test(n)?w[n]=!0:(_[n]=!0,!1)}function C(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function O(n,i,a,c){if(i===null||typeof i>"u"||C(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function L(n,i,a,c,f,g,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=g,this.removeEmptyString=E}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){x[n]=new L(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];x[i]=new L(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){x[n]=new L(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){x[n]=new L(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){x[n]=new L(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){x[n]=new L(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){x[n]=new L(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){x[n]=new L(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){x[n]=new L(n,5,!1,n.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function X(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(Q,X);x[i]=new L(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(Q,X);x[i]=new L(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(Q,X);x[i]=new L(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){x[n]=new L(n,1,!1,n.toLowerCase(),null,!1,!1)}),x.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){x[n]=new L(n,1,!1,n.toLowerCase(),null,!0,!0)});function te(n,i,a,c){var f=x.hasOwnProperty(i)?x[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(O(i,a,f,c)&&(a=null),c||f===null?T(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),oe=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),ot=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),se=Symbol.iterator;function _e(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var le=Object.assign,j;function G(n){if(j===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+n}var ge=!1;function Ae(n,i){if(!n||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var c=B}Reflect.construct(n,[],i)}else{try{i.call()}catch(B){c=B}n.call(i.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),g=c.stack.split(`
`),E=f.length-1,A=g.length-1;1<=E&&0<=A&&f[E]!==g[A];)A--;for(;1<=E&&0<=A;E--,A--)if(f[E]!==g[A]){if(E!==1||A!==1)do if(E--,A--,0>A||f[E]!==g[A]){var D=`
`+f[E].replace(" at new "," at ");return n.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",n.displayName)),D}while(1<=E&&0<=A);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function ke(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=Ae(n.type,!1),n;case 11:return n=Ae(n.type.render,!1),n;case 1:return n=Ae(n.type,!0),n;default:return""}}function Ve(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case oe:return"Portal";case k:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case qe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case P:return(n._context.displayName||"Context")+".Provider";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ot:return i=n.displayName||null,i!==null?i:Ve(n.type)||"Memo";case et:i=n._payload,n=n._init;try{return Ve(n(i))}catch{}}return null}function Ue(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ze(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function He(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Tt(n){var i=He(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function fr(n){n._valueTracker||(n._valueTracker=Tt(n))}function Is(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=He(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Br(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Li(n,i){var a=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Ss(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=ze(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ho(n,i){i=i.checked,i!=null&&te(n,"checked",i,!1)}function Ko(n,i){Ho(n,i);var a=ze(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Cs(n,i.type,a):i.hasOwnProperty("defaultValue")&&Cs(n,i.type,ze(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Il(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Cs(n,i,a){(i!=="number"||Br(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var pr=Array.isArray;function mr(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+ze(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Go(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function As(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(pr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:ze(a)}}function ks(n,i){var a=ze(i.value),c=ze(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function qo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function mt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?mt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var gr,Qo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=gr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function $r(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ji=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(n){ji.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Mi[i]=Mi[n]})});function Xo(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Mi.hasOwnProperty(n)&&Mi[n]?(""+i).trim():i+"px"}function Yo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Xo(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var Jo=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zo(n,i){if(i){if(Jo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function ea(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fi=null;function Rs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ps=null,yn=null,qn=null;function xs(n){if(n=Sa(n)){if(typeof Ps!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Zl(i),Ps(n.stateNode,n.type,i))}}function Qn(n){yn?qn?qn.push(n):qn=[n]:yn=n}function ta(){if(yn){var n=yn,i=qn;if(qn=yn=null,xs(n),i)for(n=0;n<i.length;n++)xs(i[n])}}function Ui(n,i){return n(i)}function na(){}var yr=!1;function ra(n,i,a){if(yr)return n(i,a);yr=!0;try{return Ui(n,i,a)}finally{yr=!1,(yn!==null||qn!==null)&&(na(),ta())}}function at(n,i){var a=n.stateNode;if(a===null)return null;var c=Zl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Ns=!1;if(d)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Ns=!1}function zi(n,i,a,c,f,g,E,A,D){var B=Array.prototype.slice.call(arguments,3);try{i.apply(a,B)}catch(Z){this.onError(Z)}}var Bi=!1,Ds=null,Dn=!1,ia=null,Sh={onError:function(n){Bi=!0,Ds=n}};function Os(n,i,a,c,f,g,E,A,D){Bi=!1,Ds=null,zi.apply(Sh,arguments)}function Sl(n,i,a,c,f,g,E,A,D){if(Os.apply(this,arguments),Bi){if(Bi){var B=Ds;Bi=!1,Ds=null}else throw Error(t(198));Dn||(Dn=!0,ia=B)}}function On(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function $i(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Vn(n){if(On(n)!==n)throw Error(t(188))}function Cl(n){var i=n.alternate;if(!i){if(i=On(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Vn(f),n;if(g===c)return Vn(f),i;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var E=!1,A=f.child;A;){if(A===a){E=!0,a=f,c=g;break}if(A===c){E=!0,c=f,a=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===a){E=!0,a=g,c=f;break}if(A===c){E=!0,c=g,a=f;break}A=A.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function sa(n){return n=Cl(n),n!==null?Vs(n):null}function Vs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Vs(n);if(i!==null)return i;n=n.sibling}return null}var bs=e.unstable_scheduleCallback,oa=e.unstable_cancelCallback,Al=e.unstable_shouldYield,Ch=e.unstable_requestPaint,Ke=e.unstable_now,kl=e.unstable_getCurrentPriorityLevel,Wi=e.unstable_ImmediatePriority,Wr=e.unstable_UserBlockingPriority,_n=e.unstable_NormalPriority,aa=e.unstable_LowPriority,Rl=e.unstable_IdlePriority,Hi=null,an=null;function Pl(n){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Hi,n,void 0,(n.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Nl,la=Math.log,xl=Math.LN2;function Nl(n){return n>>>=0,n===0?32:31-(la(n)/xl|0)|0}var Ls=64,Ms=4194304;function Hr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ki(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,g=n.pingedLanes,E=a&268435455;if(E!==0){var A=E&~f;A!==0?c=Hr(A):(g&=E,g!==0&&(c=Hr(g)))}else E=a&~f,E!==0?c=Hr(E):g!==0&&(c=Hr(g));if(c===0)return 0;if(i!==0&&i!==c&&!(i&f)&&(f=c&-c,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-Ht(i),f=1<<a,c|=n[a],i&=~f;return c}function Ah(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes;0<g;){var E=31-Ht(g),A=1<<E,D=f[E];D===-1?(!(A&a)||A&c)&&(f[E]=Ah(A,i)):D<=i&&(n.expiredLanes|=A),g&=~A}}function ln(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Gi(){var n=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),n}function Kr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Gr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Ht(i),n[i]=a}function We(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-Ht(a),g=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~g}}function qr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Ht(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var Ne=0;function Qr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Dl,js,Ol,Vl,bl,ua=!1,Xn=[],Pt=null,bn=null,Ln=null,Xr=new Map,vn=new Map,Yn=[],kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ll(n,i){switch(n){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Xr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(i.pointerId)}}function Xt(n,i,a,c,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Sa(i),i!==null&&js(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Rh(n,i,a,c,f){switch(i){case"focusin":return Pt=Xt(Pt,n,i,a,c,f),!0;case"dragenter":return bn=Xt(bn,n,i,a,c,f),!0;case"mouseover":return Ln=Xt(Ln,n,i,a,c,f),!0;case"pointerover":var g=f.pointerId;return Xr.set(g,Xt(Xr.get(g)||null,n,i,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,vn.set(g,Xt(vn.get(g)||null,n,i,a,c,f)),!0}return!1}function Ml(n){var i=Ji(n.target);if(i!==null){var a=On(i);if(a!==null){if(i=a.tag,i===13){if(i=$i(a),i!==null){n.blockedOn=i,bl(n.priority,function(){Ol(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Fs(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Fi=c,a.target.dispatchEvent(c),Fi=null}else return i=Sa(a),i!==null&&js(i),n.blockedOn=a,!1;i.shift()}return!0}function qi(n,i,a){vr(n)&&a.delete(i)}function jl(){ua=!1,Pt!==null&&vr(Pt)&&(Pt=null),bn!==null&&vr(bn)&&(bn=null),Ln!==null&&vr(Ln)&&(Ln=null),Xr.forEach(qi),vn.forEach(qi)}function Mn(n,i){n.blockedOn===i&&(n.blockedOn=null,ua||(ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jl)))}function jn(n){function i(f){return Mn(f,n)}if(0<Xn.length){Mn(Xn[0],n);for(var a=1;a<Xn.length;a++){var c=Xn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Pt!==null&&Mn(Pt,n),bn!==null&&Mn(bn,n),Ln!==null&&Mn(Ln,n),Xr.forEach(i),vn.forEach(i),a=0;a<Yn.length;a++)c=Yn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Yn.length&&(a=Yn[0],a.blockedOn===null);)Ml(a),a.blockedOn===null&&Yn.shift()}var wr=Y.ReactCurrentBatchConfig,Yr=!0;function Je(n,i,a,c){var f=Ne,g=wr.transition;wr.transition=null;try{Ne=1,ca(n,i,a,c)}finally{Ne=f,wr.transition=g}}function Ph(n,i,a,c){var f=Ne,g=wr.transition;wr.transition=null;try{Ne=4,ca(n,i,a,c)}finally{Ne=f,wr.transition=g}}function ca(n,i,a,c){if(Yr){var f=Fs(n,i,a,c);if(f===null)Uh(n,i,c,Qi,a),Ll(n,c);else if(Rh(f,n,i,a,c))c.stopPropagation();else if(Ll(n,c),i&4&&-1<kh.indexOf(n)){for(;f!==null;){var g=Sa(f);if(g!==null&&Dl(g),g=Fs(n,i,a,c),g===null&&Uh(n,i,c,Qi,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else Uh(n,i,c,null,a)}}var Qi=null;function Fs(n,i,a,c){if(Qi=null,n=Rs(c),n=Ji(n),n!==null)if(i=On(n),i===null)n=null;else if(a=i.tag,a===13){if(n=$i(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Qi=n,null}function ha(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kl()){case Wi:return 1;case Wr:return 4;case _n:case aa:return 16;case Rl:return 536870912;default:return 16}default:return 16}}var un=null,Us=null,Yt=null;function da(){if(Yt)return Yt;var n,i=Us,a=i.length,c,f="value"in un?un.value:un.textContent,g=f.length;for(n=0;n<a&&i[n]===f[n];n++);var E=a-n;for(c=1;c<=E&&i[a-c]===f[g-c];c++);return Yt=f.slice(n,1<c?1-c:void 0)}function zs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Jn(){return!0}function fa(){return!1}function xt(n){function i(a,c,f,g,E){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Jn:fa,this.isPropagationStopped=fa,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=xt(Fn),Zn=le({},Fn,{view:0,detail:0}),xh=xt(Zn),$s,Er,Jr,Xi=le({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Jr&&(Jr&&n.type==="mousemove"?($s=n.screenX-Jr.screenX,Er=n.screenY-Jr.screenY):Er=$s=0,Jr=n),$s)},movementY:function(n){return"movementY"in n?n.movementY:Er}}),Ws=xt(Xi),pa=le({},Xi,{dataTransfer:0}),Fl=xt(pa),Hs=le({},Zn,{relatedTarget:0}),Ks=xt(Hs),Ul=le({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tr=xt(Ul),zl=le({},Fn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Bl=xt(zl),$l=le({},Fn,{data:0}),ma=xt($l),Gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Wl[n])?!!i[n]:!1}function er(){return Hl}var u=le({},Zn,{key:function(n){if(n.key){var i=Gs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=zs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Kt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(n){return n.type==="keypress"?zs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?zs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=xt(u),v=le({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=xt(v),F=le({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),$=xt(F),ie=le({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=xt(ie),yt=le({},Xi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),be=xt(yt),It=[9,13,27,32],ht=d&&"CompositionEvent"in window,wn=null;d&&"documentMode"in document&&(wn=document.documentMode);var cn=d&&"TextEvent"in window&&!wn,Yi=d&&(!ht||wn&&8<wn&&11>=wn),qs=" ",nm=!1;function rm(n,i){switch(n){case"keyup":return It.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qs=!1;function SE(n,i){switch(n){case"compositionend":return im(i);case"keypress":return i.which!==32?null:(nm=!0,qs);case"textInput":return n=i.data,n===qs&&nm?null:n;default:return null}}function CE(n,i){if(Qs)return n==="compositionend"||!ht&&rm(n,i)?(n=da(),Yt=Us=un=null,Qs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yi&&i.locale!=="ko"?null:i.data;default:return null}}var AE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!AE[n.type]:i==="textarea"}function om(n,i,a,c){Qn(c),i=Xl(i,"onChange"),0<i.length&&(a=new Bs("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var ga=null,ya=null;function kE(n){Sm(n,0)}function Kl(n){var i=eo(n);if(Is(i))return n}function RE(n,i){if(n==="change")return i}var am=!1;if(d){var Nh;if(d){var Dh="oninput"in document;if(!Dh){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Dh=typeof lm.oninput=="function"}Nh=Dh}else Nh=!1;am=Nh&&(!document.documentMode||9<document.documentMode)}function um(){ga&&(ga.detachEvent("onpropertychange",cm),ya=ga=null)}function cm(n){if(n.propertyName==="value"&&Kl(ya)){var i=[];om(i,ya,n,Rs(n)),ra(kE,i)}}function PE(n,i,a){n==="focusin"?(um(),ga=i,ya=a,ga.attachEvent("onpropertychange",cm)):n==="focusout"&&um()}function xE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Kl(ya)}function NE(n,i){if(n==="click")return Kl(i)}function DE(n,i){if(n==="input"||n==="change")return Kl(i)}function OE(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Un=typeof Object.is=="function"?Object.is:OE;function _a(n,i){if(Un(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!p.call(i,f)||!Un(n[f],i[f]))return!1}return!0}function hm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dm(n,i){var a=hm(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hm(a)}}function fm(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?fm(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function pm(){for(var n=window,i=Br();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Br(n.document)}return i}function Oh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function VE(n){var i=pm(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&fm(a.ownerDocument.documentElement,a)){if(c!==null&&Oh(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!n.extend&&g>c&&(f=c,c=g,g=f),f=dm(a,g);var E=dm(a,c);f&&E&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),g>c?(n.addRange(i),n.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var bE=d&&"documentMode"in document&&11>=document.documentMode,Xs=null,Vh=null,va=null,bh=!1;function mm(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bh||Xs==null||Xs!==Br(c)||(c=Xs,"selectionStart"in c&&Oh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),va&&_a(va,c)||(va=c,c=Xl(Vh,"onSelect"),0<c.length&&(i=new Bs("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Xs)))}function Gl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ys={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},Lh={},gm={};d&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function ql(n){if(Lh[n])return Lh[n];if(!Ys[n])return n;var i=Ys[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in gm)return Lh[n]=i[a];return n}var ym=ql("animationend"),_m=ql("animationiteration"),vm=ql("animationstart"),wm=ql("transitionend"),Em=new Map,Tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(n,i){Em.set(n,i),l(i,[n])}for(var Mh=0;Mh<Tm.length;Mh++){var jh=Tm[Mh],LE=jh.toLowerCase(),ME=jh[0].toUpperCase()+jh.slice(1);Zr(LE,"on"+ME)}Zr(ym,"onAnimationEnd"),Zr(_m,"onAnimationIteration"),Zr(vm,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(wm,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jE=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function Im(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Sl(c,i,void 0,n),n.currentTarget=null}function Sm(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var E=c.length-1;0<=E;E--){var A=c[E],D=A.instance,B=A.currentTarget;if(A=A.listener,D!==g&&f.isPropagationStopped())break e;Im(f,A,B),g=D}else for(E=0;E<c.length;E++){if(A=c[E],D=A.instance,B=A.currentTarget,A=A.listener,D!==g&&f.isPropagationStopped())break e;Im(f,A,B),g=D}}}if(Dn)throw n=ia,Dn=!1,ia=null,n}function Qe(n,i){var a=i[Kh];a===void 0&&(a=i[Kh]=new Set);var c=n+"__bubble";a.has(c)||(Cm(i,n,2,!1),a.add(c))}function Fh(n,i,a){var c=0;i&&(c|=4),Cm(a,n,c,i)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Ea(n){if(!n[Ql]){n[Ql]=!0,s.forEach(function(a){a!=="selectionchange"&&(jE.has(a)||Fh(a,!1,n),Fh(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ql]||(i[Ql]=!0,Fh("selectionchange",!1,i))}}function Cm(n,i,a,c){switch(ha(i)){case 1:var f=Je;break;case 4:f=Ph;break;default:f=ca}a=f.bind(null,i,a,n),f=void 0,!Ns||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function Uh(n,i,a,c,f){var g=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var A=c.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(E===4)for(E=c.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;E=E.return}for(;A!==null;){if(E=Ji(A),E===null)return;if(D=E.tag,D===5||D===6){c=g=E;continue e}A=A.parentNode}}c=c.return}ra(function(){var B=g,Z=Rs(a),ee=[];e:{var J=Em.get(n);if(J!==void 0){var ae=Bs,de=n;switch(n){case"keypress":if(zs(a)===0)break e;case"keydown":case"keyup":ae=m;break;case"focusin":de="focus",ae=Ks;break;case"focusout":de="blur",ae=Ks;break;case"beforeblur":case"afterblur":ae=Ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Fl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=$;break;case ym:case _m:case vm:ae=Tr;break;case wm:ae=$e;break;case"scroll":ae=xh;break;case"wheel":ae=be;break;case"copy":case"cut":case"paste":ae=Bl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=I}var fe=(i&4)!==0,lt=!fe&&n==="scroll",U=fe?J!==null?J+"Capture":null:J;fe=[];for(var b=B,z;b!==null;){z=b;var re=z.stateNode;if(z.tag===5&&re!==null&&(z=re,U!==null&&(re=at(b,U),re!=null&&fe.push(Ta(b,re,z)))),lt)break;b=b.return}0<fe.length&&(J=new ae(J,de,null,a,Z),ee.push({event:J,listeners:fe}))}}if(!(i&7)){e:{if(J=n==="mouseover"||n==="pointerover",ae=n==="mouseout"||n==="pointerout",J&&a!==Fi&&(de=a.relatedTarget||a.fromElement)&&(Ji(de)||de[Ir]))break e;if((ae||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(de=a.relatedTarget||a.toElement,ae=B,de=de?Ji(de):null,de!==null&&(lt=On(de),de!==lt||de.tag!==5&&de.tag!==6)&&(de=null)):(ae=null,de=B),ae!==de)){if(fe=Ws,re="onMouseLeave",U="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(fe=I,re="onPointerLeave",U="onPointerEnter",b="pointer"),lt=ae==null?J:eo(ae),z=de==null?J:eo(de),J=new fe(re,b+"leave",ae,a,Z),J.target=lt,J.relatedTarget=z,re=null,Ji(Z)===B&&(fe=new fe(U,b+"enter",de,a,Z),fe.target=z,fe.relatedTarget=lt,re=fe),lt=re,ae&&de)t:{for(fe=ae,U=de,b=0,z=fe;z;z=Js(z))b++;for(z=0,re=U;re;re=Js(re))z++;for(;0<b-z;)fe=Js(fe),b--;for(;0<z-b;)U=Js(U),z--;for(;b--;){if(fe===U||U!==null&&fe===U.alternate)break t;fe=Js(fe),U=Js(U)}fe=null}else fe=null;ae!==null&&Am(ee,J,ae,fe,!1),de!==null&&lt!==null&&Am(ee,lt,de,fe,!0)}}e:{if(J=B?eo(B):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var me=RE;else if(sm(J))if(am)me=DE;else{me=xE;var ve=PE}else(ae=J.nodeName)&&ae.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(me=NE);if(me&&(me=me(n,B))){om(ee,me,a,Z);break e}ve&&ve(n,J,B),n==="focusout"&&(ve=J._wrapperState)&&ve.controlled&&J.type==="number"&&Cs(J,"number",J.value)}switch(ve=B?eo(B):window,n){case"focusin":(sm(ve)||ve.contentEditable==="true")&&(Xs=ve,Vh=B,va=null);break;case"focusout":va=Vh=Xs=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,mm(ee,a,Z);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":mm(ee,a,Z)}var we;if(ht)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Qs?rm(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Yi&&a.locale!=="ko"&&(Qs||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Qs&&(we=da()):(un=Z,Us="value"in un?un.value:un.textContent,Qs=!0)),ve=Xl(B,Ee),0<ve.length&&(Ee=new ma(Ee,n,null,a,Z),ee.push({event:Ee,listeners:ve}),we?Ee.data=we:(we=im(a),we!==null&&(Ee.data=we)))),(we=cn?SE(n,a):CE(n,a))&&(B=Xl(B,"onBeforeInput"),0<B.length&&(Z=new ma("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Z,listeners:B}),Z.data=we))}Sm(ee,i)})}function Ta(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Xl(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=at(n,a),g!=null&&c.unshift(Ta(n,g,f)),g=at(n,i),g!=null&&c.push(Ta(n,g,f))),n=n.return}return c}function Js(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Am(n,i,a,c,f){for(var g=i._reactName,E=[];a!==null&&a!==c;){var A=a,D=A.alternate,B=A.stateNode;if(D!==null&&D===c)break;A.tag===5&&B!==null&&(A=B,f?(D=at(a,g),D!=null&&E.unshift(Ta(a,D,A))):f||(D=at(a,g),D!=null&&E.push(Ta(a,D,A)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var FE=/\r\n?/g,UE=/\u0000|\uFFFD/g;function km(n){return(typeof n=="string"?n:""+n).replace(FE,`
`).replace(UE,"")}function Yl(n,i,a){if(i=km(i),km(n)!==i&&a)throw Error(t(425))}function Jl(){}var zh=null,Bh=null;function $h(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wh=typeof setTimeout=="function"?setTimeout:void 0,zE=typeof clearTimeout=="function"?clearTimeout:void 0,Rm=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof Rm<"u"?function(n){return Rm.resolve(null).then(n).catch($E)}:Wh;function $E(n){setTimeout(function(){throw n})}function Hh(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),jn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);jn(i)}function ei(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Pm(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),tr="__reactFiber$"+Zs,Ia="__reactProps$"+Zs,Ir="__reactContainer$"+Zs,Kh="__reactEvents$"+Zs,WE="__reactListeners$"+Zs,HE="__reactHandles$"+Zs;function Ji(n){var i=n[tr];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Ir]||a[tr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Pm(n);n!==null;){if(a=n[tr])return a;n=Pm(n)}return i}n=a,a=n.parentNode}return null}function Sa(n){return n=n[tr]||n[Ir],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function eo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Zl(n){return n[Ia]||null}var Gh=[],to=-1;function ti(n){return{current:n}}function Xe(n){0>to||(n.current=Gh[to],Gh[to]=null,to--)}function Ge(n,i){to++,Gh[to]=n.current,n.current=i}var ni={},Lt=ti(ni),Jt=ti(!1),Zi=ni;function no(n,i){var a=n.type.contextTypes;if(!a)return ni;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=i[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Zt(n){return n=n.childContextTypes,n!=null}function eu(){Xe(Jt),Xe(Lt)}function xm(n,i,a){if(Lt.current!==ni)throw Error(t(168));Ge(Lt,i),Ge(Jt,a)}function Nm(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Ue(n)||"Unknown",f));return le({},a,c)}function tu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ni,Zi=Lt.current,Ge(Lt,n),Ge(Jt,Jt.current),!0}function Dm(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Nm(n,i,Zi),c.__reactInternalMemoizedMergedChildContext=n,Xe(Jt),Xe(Lt),Ge(Lt,n)):Xe(Jt),Ge(Jt,a)}var Sr=null,nu=!1,qh=!1;function Om(n){Sr===null?Sr=[n]:Sr.push(n)}function KE(n){nu=!0,Om(n)}function ri(){if(!qh&&Sr!==null){qh=!0;var n=0,i=Ne;try{var a=Sr;for(Ne=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Sr=null,nu=!1}catch(f){throw Sr!==null&&(Sr=Sr.slice(n+1)),bs(Wi,ri),f}finally{Ne=i,qh=!1}}return null}var ro=[],io=0,ru=null,iu=0,En=[],Tn=0,es=null,Cr=1,Ar="";function ts(n,i){ro[io++]=iu,ro[io++]=ru,ru=n,iu=i}function Vm(n,i,a){En[Tn++]=Cr,En[Tn++]=Ar,En[Tn++]=es,es=n;var c=Cr;n=Ar;var f=32-Ht(c)-1;c&=~(1<<f),a+=1;var g=32-Ht(i)+f;if(30<g){var E=f-f%5;g=(c&(1<<E)-1).toString(32),c>>=E,f-=E,Cr=1<<32-Ht(i)+f|a<<f|c,Ar=g+n}else Cr=1<<g|a<<f|c,Ar=n}function Qh(n){n.return!==null&&(ts(n,1),Vm(n,1,0))}function Xh(n){for(;n===ru;)ru=ro[--io],ro[io]=null,iu=ro[--io],ro[io]=null;for(;n===es;)es=En[--Tn],En[Tn]=null,Ar=En[--Tn],En[Tn]=null,Cr=En[--Tn],En[Tn]=null}var hn=null,dn=null,Ze=!1,zn=null;function bm(n,i){var a=An(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Lm(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,hn=n,dn=ei(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,hn=n,dn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=es!==null?{id:Cr,overflow:Ar}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=An(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,hn=n,dn=null,!0):!1;default:return!1}}function Yh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Jh(n){if(Ze){var i=dn;if(i){var a=i;if(!Lm(n,i)){if(Yh(n))throw Error(t(418));i=ei(a.nextSibling);var c=hn;i&&Lm(n,i)?bm(c,a):(n.flags=n.flags&-4097|2,Ze=!1,hn=n)}}else{if(Yh(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ze=!1,hn=n}}}function Mm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;hn=n}function su(n){if(n!==hn)return!1;if(!Ze)return Mm(n),Ze=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!$h(n.type,n.memoizedProps)),i&&(i=dn)){if(Yh(n))throw jm(),Error(t(418));for(;i;)bm(n,i),i=ei(i.nextSibling)}if(Mm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){dn=ei(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}dn=null}}else dn=hn?ei(n.stateNode.nextSibling):null;return!0}function jm(){for(var n=dn;n;)n=ei(n.nextSibling)}function so(){dn=hn=null,Ze=!1}function Zh(n){zn===null?zn=[n]:zn.push(n)}var GE=Y.ReactCurrentBatchConfig;function Ca(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,g=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(E){var A=f.refs;E===null?delete A[g]:A[g]=E},i._stringRef=g,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function ou(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Fm(n){var i=n._init;return i(n._payload)}function Um(n){function i(U,b){if(n){var z=U.deletions;z===null?(U.deletions=[b],U.flags|=16):z.push(b)}}function a(U,b){if(!n)return null;for(;b!==null;)i(U,b),b=b.sibling;return null}function c(U,b){for(U=new Map;b!==null;)b.key!==null?U.set(b.key,b):U.set(b.index,b),b=b.sibling;return U}function f(U,b){return U=hi(U,b),U.index=0,U.sibling=null,U}function g(U,b,z){return U.index=z,n?(z=U.alternate,z!==null?(z=z.index,z<b?(U.flags|=2,b):z):(U.flags|=2,b)):(U.flags|=1048576,b)}function E(U){return n&&U.alternate===null&&(U.flags|=2),U}function A(U,b,z,re){return b===null||b.tag!==6?(b=Wd(z,U.mode,re),b.return=U,b):(b=f(b,z),b.return=U,b)}function D(U,b,z,re){var me=z.type;return me===N?Z(U,b,z.props.children,re,z.key):b!==null&&(b.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===et&&Fm(me)===b.type)?(re=f(b,z.props),re.ref=Ca(U,b,z),re.return=U,re):(re=xu(z.type,z.key,z.props,null,U.mode,re),re.ref=Ca(U,b,z),re.return=U,re)}function B(U,b,z,re){return b===null||b.tag!==4||b.stateNode.containerInfo!==z.containerInfo||b.stateNode.implementation!==z.implementation?(b=Hd(z,U.mode,re),b.return=U,b):(b=f(b,z.children||[]),b.return=U,b)}function Z(U,b,z,re,me){return b===null||b.tag!==7?(b=us(z,U.mode,re,me),b.return=U,b):(b=f(b,z),b.return=U,b)}function ee(U,b,z){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Wd(""+b,U.mode,z),b.return=U,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pe:return z=xu(b.type,b.key,b.props,null,U.mode,z),z.ref=Ca(U,null,b),z.return=U,z;case oe:return b=Hd(b,U.mode,z),b.return=U,b;case et:var re=b._init;return ee(U,re(b._payload),z)}if(pr(b)||_e(b))return b=us(b,U.mode,z,null),b.return=U,b;ou(U,b)}return null}function J(U,b,z,re){var me=b!==null?b.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return me!==null?null:A(U,b,""+z,re);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case pe:return z.key===me?D(U,b,z,re):null;case oe:return z.key===me?B(U,b,z,re):null;case et:return me=z._init,J(U,b,me(z._payload),re)}if(pr(z)||_e(z))return me!==null?null:Z(U,b,z,re,null);ou(U,z)}return null}function ae(U,b,z,re,me){if(typeof re=="string"&&re!==""||typeof re=="number")return U=U.get(z)||null,A(b,U,""+re,me);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case pe:return U=U.get(re.key===null?z:re.key)||null,D(b,U,re,me);case oe:return U=U.get(re.key===null?z:re.key)||null,B(b,U,re,me);case et:var ve=re._init;return ae(U,b,z,ve(re._payload),me)}if(pr(re)||_e(re))return U=U.get(z)||null,Z(b,U,re,me,null);ou(b,re)}return null}function de(U,b,z,re){for(var me=null,ve=null,we=b,Ee=b=0,At=null;we!==null&&Ee<z.length;Ee++){we.index>Ee?(At=we,we=null):At=we.sibling;var Fe=J(U,we,z[Ee],re);if(Fe===null){we===null&&(we=At);break}n&&we&&Fe.alternate===null&&i(U,we),b=g(Fe,b,Ee),ve===null?me=Fe:ve.sibling=Fe,ve=Fe,we=At}if(Ee===z.length)return a(U,we),Ze&&ts(U,Ee),me;if(we===null){for(;Ee<z.length;Ee++)we=ee(U,z[Ee],re),we!==null&&(b=g(we,b,Ee),ve===null?me=we:ve.sibling=we,ve=we);return Ze&&ts(U,Ee),me}for(we=c(U,we);Ee<z.length;Ee++)At=ae(we,U,Ee,z[Ee],re),At!==null&&(n&&At.alternate!==null&&we.delete(At.key===null?Ee:At.key),b=g(At,b,Ee),ve===null?me=At:ve.sibling=At,ve=At);return n&&we.forEach(function(di){return i(U,di)}),Ze&&ts(U,Ee),me}function fe(U,b,z,re){var me=_e(z);if(typeof me!="function")throw Error(t(150));if(z=me.call(z),z==null)throw Error(t(151));for(var ve=me=null,we=b,Ee=b=0,At=null,Fe=z.next();we!==null&&!Fe.done;Ee++,Fe=z.next()){we.index>Ee?(At=we,we=null):At=we.sibling;var di=J(U,we,Fe.value,re);if(di===null){we===null&&(we=At);break}n&&we&&di.alternate===null&&i(U,we),b=g(di,b,Ee),ve===null?me=di:ve.sibling=di,ve=di,we=At}if(Fe.done)return a(U,we),Ze&&ts(U,Ee),me;if(we===null){for(;!Fe.done;Ee++,Fe=z.next())Fe=ee(U,Fe.value,re),Fe!==null&&(b=g(Fe,b,Ee),ve===null?me=Fe:ve.sibling=Fe,ve=Fe);return Ze&&ts(U,Ee),me}for(we=c(U,we);!Fe.done;Ee++,Fe=z.next())Fe=ae(we,U,Ee,Fe.value,re),Fe!==null&&(n&&Fe.alternate!==null&&we.delete(Fe.key===null?Ee:Fe.key),b=g(Fe,b,Ee),ve===null?me=Fe:ve.sibling=Fe,ve=Fe);return n&&we.forEach(function(C0){return i(U,C0)}),Ze&&ts(U,Ee),me}function lt(U,b,z,re){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case pe:e:{for(var me=z.key,ve=b;ve!==null;){if(ve.key===me){if(me=z.type,me===N){if(ve.tag===7){a(U,ve.sibling),b=f(ve,z.props.children),b.return=U,U=b;break e}}else if(ve.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===et&&Fm(me)===ve.type){a(U,ve.sibling),b=f(ve,z.props),b.ref=Ca(U,ve,z),b.return=U,U=b;break e}a(U,ve);break}else i(U,ve);ve=ve.sibling}z.type===N?(b=us(z.props.children,U.mode,re,z.key),b.return=U,U=b):(re=xu(z.type,z.key,z.props,null,U.mode,re),re.ref=Ca(U,b,z),re.return=U,U=re)}return E(U);case oe:e:{for(ve=z.key;b!==null;){if(b.key===ve)if(b.tag===4&&b.stateNode.containerInfo===z.containerInfo&&b.stateNode.implementation===z.implementation){a(U,b.sibling),b=f(b,z.children||[]),b.return=U,U=b;break e}else{a(U,b);break}else i(U,b);b=b.sibling}b=Hd(z,U.mode,re),b.return=U,U=b}return E(U);case et:return ve=z._init,lt(U,b,ve(z._payload),re)}if(pr(z))return de(U,b,z,re);if(_e(z))return fe(U,b,z,re);ou(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,b!==null&&b.tag===6?(a(U,b.sibling),b=f(b,z),b.return=U,U=b):(a(U,b),b=Wd(z,U.mode,re),b.return=U,U=b),E(U)):a(U,b)}return lt}var oo=Um(!0),zm=Um(!1),au=ti(null),lu=null,ao=null,ed=null;function td(){ed=ao=lu=null}function nd(n){var i=au.current;Xe(au),n._currentValue=i}function rd(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function lo(n,i){lu=n,ed=ao=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(en=!0),n.firstContext=null)}function In(n){var i=n._currentValue;if(ed!==n)if(n={context:n,memoizedValue:i,next:null},ao===null){if(lu===null)throw Error(t(308));ao=n,lu.dependencies={lanes:0,firstContext:n}}else ao=ao.next=n;return i}var ns=null;function id(n){ns===null?ns=[n]:ns.push(n)}function Bm(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,id(i)):(a.next=f.next,f.next=a),i.interleaved=a,kr(n,c)}function kr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ii=!1;function sd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $m(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Rr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function si(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,je&2){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,kr(n,a)}return f=c.interleaved,f===null?(i.next=i,id(c)):(i.next=f.next,f.next=i),c.interleaved=i,kr(n,a)}function uu(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,qr(n,a)}}function Wm(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function cu(n,i,a,c){var f=n.updateQueue;ii=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,B=D.next;D.next=null,E===null?g=B:E.next=B,E=D;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==E&&(A===null?Z.firstBaseUpdate=B:A.next=B,Z.lastBaseUpdate=D))}if(g!==null){var ee=f.baseState;E=0,Z=B=D=null,A=g;do{var J=A.lane,ae=A.eventTime;if((c&J)===J){Z!==null&&(Z=Z.next={eventTime:ae,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var de=n,fe=A;switch(J=i,ae=a,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ee=de.call(ae,ee,J);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,J=typeof de=="function"?de.call(ae,ee,J):de,J==null)break e;ee=le({},ee,J);break e;case 2:ii=!0}}A.callback!==null&&A.lane!==0&&(n.flags|=64,J=f.effects,J===null?f.effects=[A]:J.push(A))}else ae={eventTime:ae,lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(B=Z=ae,D=ee):Z=Z.next=ae,E|=J;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;J=A,A=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(D=ee),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=Z,i=f.shared.interleaved,i!==null){f=i;do E|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);ss|=E,n.lanes=E,n.memoizedState=ee}}function Hm(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Aa={},nr=ti(Aa),ka=ti(Aa),Ra=ti(Aa);function rs(n){if(n===Aa)throw Error(t(174));return n}function od(n,i){switch(Ge(Ra,i),Ge(ka,n),Ge(nr,Aa),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:gt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=gt(i,n)}Xe(nr),Ge(nr,i)}function uo(){Xe(nr),Xe(ka),Xe(Ra)}function Km(n){rs(Ra.current);var i=rs(nr.current),a=gt(i,n.type);i!==a&&(Ge(ka,n),Ge(nr,a))}function ad(n){ka.current===n&&(Xe(nr),Xe(ka))}var tt=ti(0);function hu(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ld=[];function ud(){for(var n=0;n<ld.length;n++)ld[n]._workInProgressVersionPrimary=null;ld.length=0}var du=Y.ReactCurrentDispatcher,cd=Y.ReactCurrentBatchConfig,is=0,nt=null,_t=null,St=null,fu=!1,Pa=!1,xa=0,qE=0;function Mt(){throw Error(t(321))}function hd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Un(n[a],i[a]))return!1;return!0}function dd(n,i,a,c,f,g){if(is=g,nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,du.current=n===null||n.memoizedState===null?JE:ZE,n=a(c,f),Pa){g=0;do{if(Pa=!1,xa=0,25<=g)throw Error(t(301));g+=1,St=_t=null,i.updateQueue=null,du.current=e0,n=a(c,f)}while(Pa)}if(du.current=gu,i=_t!==null&&_t.next!==null,is=0,St=_t=nt=null,fu=!1,i)throw Error(t(300));return n}function fd(){var n=xa!==0;return xa=0,n}function rr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?nt.memoizedState=St=n:St=St.next=n,St}function Sn(){if(_t===null){var n=nt.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var i=St===null?nt.memoizedState:St.next;if(i!==null)St=i,_t=n;else{if(n===null)throw Error(t(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},St===null?nt.memoizedState=St=n:St=St.next=n}return St}function Na(n,i){return typeof i=="function"?i(n):i}function pd(n){var i=Sn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=_t,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var A=E=null,D=null,B=g;do{var Z=B.lane;if((is&Z)===Z)D!==null&&(D=D.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var ee={lane:Z,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};D===null?(A=D=ee,E=c):D=D.next=ee,nt.lanes|=Z,ss|=Z}B=B.next}while(B!==null&&B!==g);D===null?E=c:D.next=A,Un(c,i.memoizedState)||(en=!0),i.memoizedState=c,i.baseState=E,i.baseQueue=D,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do g=f.lane,nt.lanes|=g,ss|=g,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function md(n){var i=Sn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);Un(g,i.memoizedState)||(en=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function Gm(){}function qm(n,i){var a=nt,c=Sn(),f=i(),g=!Un(c.memoizedState,f);if(g&&(c.memoizedState=f,en=!0),c=c.queue,gd(Ym.bind(null,a,c,n),[n]),c.getSnapshot!==i||g||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,Da(9,Xm.bind(null,a,c,f,i),void 0,null),Ct===null)throw Error(t(349));is&30||Qm(a,i,f)}return f}function Qm(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Xm(n,i,a,c){i.value=a,i.getSnapshot=c,Jm(i)&&Zm(n)}function Ym(n,i,a){return a(function(){Jm(i)&&Zm(n)})}function Jm(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Un(n,a)}catch{return!0}}function Zm(n){var i=kr(n,1);i!==null&&Hn(i,n,1,-1)}function eg(n){var i=rr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:n},i.queue=n,n=n.dispatch=YE.bind(null,nt,n),[i.memoizedState,n]}function Da(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function tg(){return Sn().memoizedState}function pu(n,i,a,c){var f=rr();nt.flags|=n,f.memoizedState=Da(1|i,a,void 0,c===void 0?null:c)}function mu(n,i,a,c){var f=Sn();c=c===void 0?null:c;var g=void 0;if(_t!==null){var E=_t.memoizedState;if(g=E.destroy,c!==null&&hd(c,E.deps)){f.memoizedState=Da(i,a,g,c);return}}nt.flags|=n,f.memoizedState=Da(1|i,a,g,c)}function ng(n,i){return pu(8390656,8,n,i)}function gd(n,i){return mu(2048,8,n,i)}function rg(n,i){return mu(4,2,n,i)}function ig(n,i){return mu(4,4,n,i)}function sg(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function og(n,i,a){return a=a!=null?a.concat([n]):null,mu(4,4,sg.bind(null,i,n),a)}function yd(){}function ag(n,i){var a=Sn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&hd(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function lg(n,i){var a=Sn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&hd(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function ug(n,i,a){return is&21?(Un(a,i)||(a=Gi(),nt.lanes|=a,ss|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,en=!0),n.memoizedState=a)}function QE(n,i){var a=Ne;Ne=a!==0&&4>a?a:4,n(!0);var c=cd.transition;cd.transition={};try{n(!1),i()}finally{Ne=a,cd.transition=c}}function cg(){return Sn().memoizedState}function XE(n,i,a){var c=ui(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},hg(n))dg(i,a);else if(a=Bm(n,i,a,c),a!==null){var f=qt();Hn(a,n,c,f),fg(a,i,c)}}function YE(n,i,a){var c=ui(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(hg(n))dg(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,A=g(E,a);if(f.hasEagerState=!0,f.eagerState=A,Un(A,E)){var D=i.interleaved;D===null?(f.next=f,id(i)):(f.next=D.next,D.next=f),i.interleaved=f;return}}catch{}finally{}a=Bm(n,i,f,c),a!==null&&(f=qt(),Hn(a,n,c,f),fg(a,i,c))}}function hg(n){var i=n.alternate;return n===nt||i!==null&&i===nt}function dg(n,i){Pa=fu=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function fg(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,qr(n,a)}}var gu={readContext:In,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},JE={readContext:In,useCallback:function(n,i){return rr().memoizedState=[n,i===void 0?null:i],n},useContext:In,useEffect:ng,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,pu(4194308,4,sg.bind(null,i,n),a)},useLayoutEffect:function(n,i){return pu(4194308,4,n,i)},useInsertionEffect:function(n,i){return pu(4,2,n,i)},useMemo:function(n,i){var a=rr();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=rr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=XE.bind(null,nt,n),[c.memoizedState,n]},useRef:function(n){var i=rr();return n={current:n},i.memoizedState=n},useState:eg,useDebugValue:yd,useDeferredValue:function(n){return rr().memoizedState=n},useTransition:function(){var n=eg(!1),i=n[0];return n=QE.bind(null,n[1]),rr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=nt,f=rr();if(Ze){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Ct===null)throw Error(t(349));is&30||Qm(c,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,ng(Ym.bind(null,c,g,n),[n]),c.flags|=2048,Da(9,Xm.bind(null,c,g,a,i),void 0,null),a},useId:function(){var n=rr(),i=Ct.identifierPrefix;if(Ze){var a=Ar,c=Cr;a=(c&~(1<<32-Ht(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=xa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=qE++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},ZE={readContext:In,useCallback:ag,useContext:In,useEffect:gd,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:lg,useReducer:pd,useRef:tg,useState:function(){return pd(Na)},useDebugValue:yd,useDeferredValue:function(n){var i=Sn();return ug(i,_t.memoizedState,n)},useTransition:function(){var n=pd(Na)[0],i=Sn().memoizedState;return[n,i]},useMutableSource:Gm,useSyncExternalStore:qm,useId:cg,unstable_isNewReconciler:!1},e0={readContext:In,useCallback:ag,useContext:In,useEffect:gd,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:lg,useReducer:md,useRef:tg,useState:function(){return md(Na)},useDebugValue:yd,useDeferredValue:function(n){var i=Sn();return _t===null?i.memoizedState=n:ug(i,_t.memoizedState,n)},useTransition:function(){var n=md(Na)[0],i=Sn().memoizedState;return[n,i]},useMutableSource:Gm,useSyncExternalStore:qm,useId:cg,unstable_isNewReconciler:!1};function Bn(n,i){if(n&&n.defaultProps){i=le({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function _d(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:le({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var yu={isMounted:function(n){return(n=n._reactInternals)?On(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=qt(),f=ui(n),g=Rr(c,f);g.payload=i,a!=null&&(g.callback=a),i=si(n,g,f),i!==null&&(Hn(i,n,f,c),uu(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=qt(),f=ui(n),g=Rr(c,f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=si(n,g,f),i!==null&&(Hn(i,n,f,c),uu(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=qt(),c=ui(n),f=Rr(a,c);f.tag=2,i!=null&&(f.callback=i),i=si(n,f,c),i!==null&&(Hn(i,n,c,a),uu(i,n,c))}};function pg(n,i,a,c,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,E):i.prototype&&i.prototype.isPureReactComponent?!_a(a,c)||!_a(f,g):!0}function mg(n,i,a){var c=!1,f=ni,g=i.contextType;return typeof g=="object"&&g!==null?g=In(g):(f=Zt(i)?Zi:Lt.current,c=i.contextTypes,g=(c=c!=null)?no(n,f):ni),i=new i(a,g),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=yu,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=g),i}function gg(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&yu.enqueueReplaceState(i,i.state,null)}function vd(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},sd(n);var g=i.contextType;typeof g=="object"&&g!==null?f.context=In(g):(g=Zt(i)?Zi:Lt.current,f.context=no(n,g)),f.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(_d(n,i,g,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&yu.enqueueReplaceState(f,f.state,null),cu(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function co(n,i){try{var a="",c=i;do a+=ke(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:i,stack:f,digest:null}}function wd(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Ed(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var t0=typeof WeakMap=="function"?WeakMap:Map;function yg(n,i,a){a=Rr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Su||(Su=!0,Ld=c),Ed(n,i)},a}function _g(n,i,a){a=Rr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Ed(n,i)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Ed(n,i),typeof c!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),a}function vg(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new t0;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=m0.bind(null,n,i,a),i.then(n,n))}function wg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Eg(n,i,a,c,f){return n.mode&1?(n.flags|=65536,n.lanes=f,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Rr(-1,1),i.tag=2,si(a,i,1))),a.lanes|=1),n)}var n0=Y.ReactCurrentOwner,en=!1;function Gt(n,i,a,c){i.child=n===null?zm(i,null,a,c):oo(i,n.child,a,c)}function Tg(n,i,a,c,f){a=a.render;var g=i.ref;return lo(i,f),c=dd(n,i,a,c,g,f),a=fd(),n!==null&&!en?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Pr(n,i,f)):(Ze&&a&&Qh(i),i.flags|=1,Gt(n,i,c,f),i.child)}function Ig(n,i,a,c,f){if(n===null){var g=a.type;return typeof g=="function"&&!$d(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,Sg(n,i,g,c,f)):(n=xu(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!(n.lanes&f)){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:_a,a(E,c)&&n.ref===i.ref)return Pr(n,i,f)}return i.flags|=1,n=hi(g,c),n.ref=i.ref,n.return=i,i.child=n}function Sg(n,i,a,c,f){if(n!==null){var g=n.memoizedProps;if(_a(g,c)&&n.ref===i.ref)if(en=!1,i.pendingProps=c=g,(n.lanes&f)!==0)n.flags&131072&&(en=!0);else return i.lanes=n.lanes,Pr(n,i,f)}return Td(n,i,a,c,f)}function Cg(n,i,a){var c=i.pendingProps,f=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(fo,fn),fn|=a;else{if(!(a&1073741824))return n=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ge(fo,fn),fn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Ge(fo,fn),fn|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,Ge(fo,fn),fn|=c;return Gt(n,i,f,a),i.child}function Ag(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Td(n,i,a,c,f){var g=Zt(a)?Zi:Lt.current;return g=no(i,g),lo(i,f),a=dd(n,i,a,c,g,f),c=fd(),n!==null&&!en?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Pr(n,i,f)):(Ze&&c&&Qh(i),i.flags|=1,Gt(n,i,a,f),i.child)}function kg(n,i,a,c,f){if(Zt(a)){var g=!0;tu(i)}else g=!1;if(lo(i,f),i.stateNode===null)vu(n,i),mg(i,a,c),vd(i,a,c,f),c=!0;else if(n===null){var E=i.stateNode,A=i.memoizedProps;E.props=A;var D=E.context,B=a.contextType;typeof B=="object"&&B!==null?B=In(B):(B=Zt(a)?Zi:Lt.current,B=no(i,B));var Z=a.getDerivedStateFromProps,ee=typeof Z=="function"||typeof E.getSnapshotBeforeUpdate=="function";ee||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==c||D!==B)&&gg(i,E,c,B),ii=!1;var J=i.memoizedState;E.state=J,cu(i,c,E,f),D=i.memoizedState,A!==c||J!==D||Jt.current||ii?(typeof Z=="function"&&(_d(i,a,Z,c),D=i.memoizedState),(A=ii||pg(i,a,A,c,J,D,B))?(ee||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=D),E.props=c,E.state=D,E.context=B,c=A):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{E=i.stateNode,$m(n,i),A=i.memoizedProps,B=i.type===i.elementType?A:Bn(i.type,A),E.props=B,ee=i.pendingProps,J=E.context,D=a.contextType,typeof D=="object"&&D!==null?D=In(D):(D=Zt(a)?Zi:Lt.current,D=no(i,D));var ae=a.getDerivedStateFromProps;(Z=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==ee||J!==D)&&gg(i,E,c,D),ii=!1,J=i.memoizedState,E.state=J,cu(i,c,E,f);var de=i.memoizedState;A!==ee||J!==de||Jt.current||ii?(typeof ae=="function"&&(_d(i,a,ae,c),de=i.memoizedState),(B=ii||pg(i,a,B,c,J,de,D)||!1)?(Z||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,de,D),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,de,D)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=de),E.props=c,E.state=de,E.context=D,c=B):(typeof E.componentDidUpdate!="function"||A===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),c=!1)}return Id(n,i,a,c,g,f)}function Id(n,i,a,c,f,g){Ag(n,i);var E=(i.flags&128)!==0;if(!c&&!E)return f&&Dm(i,a,!1),Pr(n,i,g);c=i.stateNode,n0.current=i;var A=E&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&E?(i.child=oo(i,n.child,null,g),i.child=oo(i,null,A,g)):Gt(n,i,A,g),i.memoizedState=c.state,f&&Dm(i,a,!0),i.child}function Rg(n){var i=n.stateNode;i.pendingContext?xm(n,i.pendingContext,i.pendingContext!==i.context):i.context&&xm(n,i.context,!1),od(n,i.containerInfo)}function Pg(n,i,a,c,f){return so(),Zh(f),i.flags|=256,Gt(n,i,a,c),i.child}var Sd={dehydrated:null,treeContext:null,retryLane:0};function Cd(n){return{baseLanes:n,cachePool:null,transitions:null}}function xg(n,i,a){var c=i.pendingProps,f=tt.current,g=!1,E=(i.flags&128)!==0,A;if((A=E)||(A=n!==null&&n.memoizedState===null?!1:(f&2)!==0),A?(g=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Ge(tt,f&1),n===null)return Jh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(E=c.children,n=c.fallback,g?(c=i.mode,g=i.child,E={mode:"hidden",children:E},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Nu(E,c,0,null),n=us(n,c,a,null),g.return=i,n.return=i,g.sibling=n,i.child=g,i.child.memoizedState=Cd(a),i.memoizedState=Sd,n):Ad(i,E));if(f=n.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return r0(n,i,E,c,A,f,a);if(g){g=c.fallback,E=i.mode,f=n.child,A=f.sibling;var D={mode:"hidden",children:c.children};return!(E&1)&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=D,i.deletions=null):(c=hi(f,D),c.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=hi(A,g):(g=us(g,E,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,E=n.child.memoizedState,E=E===null?Cd(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=n.childLanes&~a,i.memoizedState=Sd,c}return g=n.child,n=g.sibling,c=hi(g,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Ad(n,i){return i=Nu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function _u(n,i,a,c){return c!==null&&Zh(c),oo(i,n.child,null,a),n=Ad(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function r0(n,i,a,c,f,g,E){if(a)return i.flags&256?(i.flags&=-257,c=wd(Error(t(422))),_u(n,i,E,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(g=c.fallback,f=i.mode,c=Nu({mode:"visible",children:c.children},f,0,null),g=us(g,f,E,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,i.mode&1&&oo(i,n.child,null,E),i.child.memoizedState=Cd(E),i.memoizedState=Sd,g);if(!(i.mode&1))return _u(n,i,E,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var A=c.dgst;return c=A,g=Error(t(419)),c=wd(g,c,void 0),_u(n,i,E,c)}if(A=(E&n.childLanes)!==0,en||A){if(c=Ct,c!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|E)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,kr(n,f),Hn(c,n,f,-1))}return Bd(),c=wd(Error(t(421))),_u(n,i,E,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=g0.bind(null,n),f._reactRetry=i,null):(n=g.treeContext,dn=ei(f.nextSibling),hn=i,Ze=!0,zn=null,n!==null&&(En[Tn++]=Cr,En[Tn++]=Ar,En[Tn++]=es,Cr=n.id,Ar=n.overflow,es=i),i=Ad(i,c.children),i.flags|=4096,i)}function Ng(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),rd(n.return,i,a)}function kd(n,i,a,c,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function Dg(n,i,a){var c=i.pendingProps,f=c.revealOrder,g=c.tail;if(Gt(n,i,c.children,a),c=tt.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ng(n,a,i);else if(n.tag===19)Ng(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ge(tt,c),!(i.mode&1))i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&hu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),kd(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&hu(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}kd(i,!0,a,null,g);break;case"together":kd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function vu(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Pr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ss|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=hi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=hi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function i0(n,i,a){switch(i.tag){case 3:Rg(i),so();break;case 5:Km(i);break;case 1:Zt(i.type)&&tu(i);break;case 4:od(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Ge(au,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ge(tt,tt.current&1),i.flags|=128,null):a&i.child.childLanes?xg(n,i,a):(Ge(tt,tt.current&1),n=Pr(n,i,a),n!==null?n.sibling:null);Ge(tt,tt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return Dg(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ge(tt,tt.current),c)break;return null;case 22:case 23:return i.lanes=0,Cg(n,i,a)}return Pr(n,i,a)}var Og,Rd,Vg,bg;Og=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Rd=function(){},Vg=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,rs(nr.current);var g=null;switch(a){case"input":f=Li(n,f),c=Li(n,c),g=[];break;case"select":f=le({},f,{value:void 0}),c=le({},c,{value:void 0}),g=[];break;case"textarea":f=Go(n,f),c=Go(n,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Jl)}Zo(a,c);var E;a=null;for(B in f)if(!c.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var A=f[B];for(E in A)A.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in c){var D=c[B];if(A=f!=null?f[B]:void 0,c.hasOwnProperty(B)&&D!==A&&(D!=null||A!=null))if(B==="style")if(A){for(E in A)!A.hasOwnProperty(E)||D&&D.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in D)D.hasOwnProperty(E)&&A[E]!==D[E]&&(a||(a={}),a[E]=D[E])}else a||(g||(g=[]),g.push(B,a)),a=D;else B==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(g=g||[]).push(B,D)):B==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(B,""+D):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(D!=null&&B==="onScroll"&&Qe("scroll",n),g||A===D||(g=[])):(g=g||[]).push(B,D))}a&&(g=g||[]).push("style",a);var B=g;(i.updateQueue=B)&&(i.flags|=4)}},bg=function(n,i,a,c){a!==c&&(i.flags|=4)};function Oa(n,i){if(!Ze)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function jt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function s0(n,i,a){var c=i.pendingProps;switch(Xh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(i),null;case 1:return Zt(i.type)&&eu(),jt(i),null;case 3:return c=i.stateNode,uo(),Xe(Jt),Xe(Lt),ud(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(su(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zn!==null&&(Fd(zn),zn=null))),Rd(n,i),jt(i),null;case 5:ad(i);var f=rs(Ra.current);if(a=i.type,n!==null&&i.stateNode!=null)Vg(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return jt(i),null}if(n=rs(nr.current),su(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[tr]=i,c[Ia]=g,n=(i.mode&1)!==0,a){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(f=0;f<wa.length;f++)Qe(wa[f],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":Ss(c,g),Qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Qe("invalid",c);break;case"textarea":As(c,g),Qe("invalid",c)}Zo(a,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var A=g[E];E==="children"?typeof A=="string"?c.textContent!==A&&(g.suppressHydrationWarning!==!0&&Yl(c.textContent,A,n),f=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&Yl(c.textContent,A,n),f=["children",""+A]):o.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&Qe("scroll",c)}switch(a){case"input":fr(c),Il(c,g,!0);break;case"textarea":fr(c),qo(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Jl)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=mt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=E.createElement(a,{is:c.is}):(n=E.createElement(a),a==="select"&&(E=n,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):n=E.createElementNS(n,a),n[tr]=i,n[Ia]=c,Og(n,i,!1,!1),i.stateNode=n;e:{switch(E=ea(a,c),a){case"dialog":Qe("cancel",n),Qe("close",n),f=c;break;case"iframe":case"object":case"embed":Qe("load",n),f=c;break;case"video":case"audio":for(f=0;f<wa.length;f++)Qe(wa[f],n);f=c;break;case"source":Qe("error",n),f=c;break;case"img":case"image":case"link":Qe("error",n),Qe("load",n),f=c;break;case"details":Qe("toggle",n),f=c;break;case"input":Ss(n,c),f=Li(n,c),Qe("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=le({},c,{value:void 0}),Qe("invalid",n);break;case"textarea":As(n,c),f=Go(n,c),Qe("invalid",n);break;default:f=c}Zo(a,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var D=A[g];g==="style"?Yo(n,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Qo(n,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&$r(n,D):typeof D=="number"&&$r(n,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&Qe("scroll",n):D!=null&&te(n,g,D,E))}switch(a){case"input":fr(n),Il(n,c,!1);break;case"textarea":fr(n),qo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+ze(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?mr(n,!!c.multiple,g,!1):c.defaultValue!=null&&mr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=Jl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return jt(i),null;case 6:if(n&&i.stateNode!=null)bg(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=rs(Ra.current),rs(nr.current),su(i)){if(c=i.stateNode,a=i.memoizedProps,c[tr]=i,(g=c.nodeValue!==a)&&(n=hn,n!==null))switch(n.tag){case 3:Yl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Yl(c.nodeValue,a,(n.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[tr]=i,i.stateNode=c}return jt(i),null;case 13:if(Xe(tt),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ze&&dn!==null&&i.mode&1&&!(i.flags&128))jm(),so(),i.flags|=98560,g=!1;else if(g=su(i),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[tr]=i}else so(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;jt(i),g=!1}else zn!==null&&(Fd(zn),zn=null),g=!0;if(!g)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||tt.current&1?vt===0&&(vt=3):Bd())),i.updateQueue!==null&&(i.flags|=4),jt(i),null);case 4:return uo(),Rd(n,i),n===null&&Ea(i.stateNode.containerInfo),jt(i),null;case 10:return nd(i.type._context),jt(i),null;case 17:return Zt(i.type)&&eu(),jt(i),null;case 19:if(Xe(tt),g=i.memoizedState,g===null)return jt(i),null;if(c=(i.flags&128)!==0,E=g.rendering,E===null)if(c)Oa(g,!1);else{if(vt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(E=hu(n),E!==null){for(i.flags|=128,Oa(g,!1),c=E.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,n=c,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,n=E.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ge(tt,tt.current&1|2),i.child}n=n.sibling}g.tail!==null&&Ke()>po&&(i.flags|=128,c=!0,Oa(g,!1),i.lanes=4194304)}else{if(!c)if(n=hu(E),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Oa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Ze)return jt(i),null}else 2*Ke()-g.renderingStartTime>po&&a!==1073741824&&(i.flags|=128,c=!0,Oa(g,!1),i.lanes=4194304);g.isBackwards?(E.sibling=i.child,i.child=E):(a=g.last,a!==null?a.sibling=E:i.child=E,g.last=E)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ke(),i.sibling=null,a=tt.current,Ge(tt,c?a&1|2:a&1),i):(jt(i),null);case 22:case 23:return zd(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?fn&1073741824&&(jt(i),i.subtreeFlags&6&&(i.flags|=8192)):jt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function o0(n,i){switch(Xh(i),i.tag){case 1:return Zt(i.type)&&eu(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return uo(),Xe(Jt),Xe(Lt),ud(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return ad(i),null;case 13:if(Xe(tt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));so()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Xe(tt),null;case 4:return uo(),null;case 10:return nd(i.type._context),null;case 22:case 23:return zd(),null;case 24:return null;default:return null}}var wu=!1,Ft=!1,a0=typeof WeakSet=="function"?WeakSet:Set,he=null;function ho(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){it(n,i,c)}else a.current=null}function Pd(n,i,a){try{a()}catch(c){it(n,i,c)}}var Lg=!1;function l0(n,i){if(zh=Yr,n=pm(),Oh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,A=-1,D=-1,B=0,Z=0,ee=n,J=null;t:for(;;){for(var ae;ee!==a||f!==0&&ee.nodeType!==3||(A=E+f),ee!==g||c!==0&&ee.nodeType!==3||(D=E+c),ee.nodeType===3&&(E+=ee.nodeValue.length),(ae=ee.firstChild)!==null;)J=ee,ee=ae;for(;;){if(ee===n)break t;if(J===a&&++B===f&&(A=E),J===g&&++Z===c&&(D=E),(ae=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=ae}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bh={focusedElem:n,selectionRange:a},Yr=!1,he=i;he!==null;)if(i=he,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,he=n;else for(;he!==null;){i=he;try{var de=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,lt=de.memoizedState,U=i.stateNode,b=U.getSnapshotBeforeUpdate(i.elementType===i.type?fe:Bn(i.type,fe),lt);U.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){it(i,i.return,re)}if(n=i.sibling,n!==null){n.return=i.return,he=n;break}he=i.return}return de=Lg,Lg=!1,de}function Va(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var g=f.destroy;f.destroy=void 0,g!==void 0&&Pd(i,a,g)}f=f.next}while(f!==c)}}function Eu(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function xd(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Mg(n){var i=n.alternate;i!==null&&(n.alternate=null,Mg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[tr],delete i[Ia],delete i[Kh],delete i[WE],delete i[HE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function jg(n){return n.tag===5||n.tag===3||n.tag===4}function Fg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||jg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nd(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jl));else if(c!==4&&(n=n.child,n!==null))for(Nd(n,i,a),n=n.sibling;n!==null;)Nd(n,i,a),n=n.sibling}function Dd(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Dd(n,i,a),n=n.sibling;n!==null;)Dd(n,i,a),n=n.sibling}var Nt=null,$n=!1;function oi(n,i,a){for(a=a.child;a!==null;)Ug(n,i,a),a=a.sibling}function Ug(n,i,a){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Hi,a)}catch{}switch(a.tag){case 5:Ft||ho(a,i);case 6:var c=Nt,f=$n;Nt=null,oi(n,i,a),Nt=c,$n=f,Nt!==null&&($n?(n=Nt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&($n?(n=Nt,a=a.stateNode,n.nodeType===8?Hh(n.parentNode,a):n.nodeType===1&&Hh(n,a),jn(n)):Hh(Nt,a.stateNode));break;case 4:c=Nt,f=$n,Nt=a.stateNode.containerInfo,$n=!0,oi(n,i,a),Nt=c,$n=f;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&Pd(a,i,E),f=f.next}while(f!==c)}oi(n,i,a);break;case 1:if(!Ft&&(ho(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){it(a,i,A)}oi(n,i,a);break;case 21:oi(n,i,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,oi(n,i,a),Ft=c):oi(n,i,a);break;default:oi(n,i,a)}}function zg(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new a0),i.forEach(function(c){var f=y0.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Wn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=n,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 5:Nt=A.stateNode,$n=!1;break e;case 3:Nt=A.stateNode.containerInfo,$n=!0;break e;case 4:Nt=A.stateNode.containerInfo,$n=!0;break e}A=A.return}if(Nt===null)throw Error(t(160));Ug(g,E,f),Nt=null,$n=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(B){it(f,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Bg(i,n),i=i.sibling}function Bg(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Wn(i,n),ir(n),c&4){try{Va(3,n,n.return),Eu(3,n)}catch(fe){it(n,n.return,fe)}try{Va(5,n,n.return)}catch(fe){it(n,n.return,fe)}}break;case 1:Wn(i,n),ir(n),c&512&&a!==null&&ho(a,a.return);break;case 5:if(Wn(i,n),ir(n),c&512&&a!==null&&ho(a,a.return),n.flags&32){var f=n.stateNode;try{$r(f,"")}catch(fe){it(n,n.return,fe)}}if(c&4&&(f=n.stateNode,f!=null)){var g=n.memoizedProps,E=a!==null?a.memoizedProps:g,A=n.type,D=n.updateQueue;if(n.updateQueue=null,D!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Ho(f,g),ea(A,E);var B=ea(A,g);for(E=0;E<D.length;E+=2){var Z=D[E],ee=D[E+1];Z==="style"?Yo(f,ee):Z==="dangerouslySetInnerHTML"?Qo(f,ee):Z==="children"?$r(f,ee):te(f,Z,ee,B)}switch(A){case"input":Ko(f,g);break;case"textarea":ks(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?mr(f,!!g.multiple,ae,!1):J!==!!g.multiple&&(g.defaultValue!=null?mr(f,!!g.multiple,g.defaultValue,!0):mr(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ia]=g}catch(fe){it(n,n.return,fe)}}break;case 6:if(Wn(i,n),ir(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,g=n.memoizedProps;try{f.nodeValue=g}catch(fe){it(n,n.return,fe)}}break;case 3:if(Wn(i,n),ir(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{jn(i.containerInfo)}catch(fe){it(n,n.return,fe)}break;case 4:Wn(i,n),ir(n);break;case 13:Wn(i,n),ir(n),f=n.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(bd=Ke())),c&4&&zg(n);break;case 22:if(Z=a!==null&&a.memoizedState!==null,n.mode&1?(Ft=(B=Ft)||Z,Wn(i,n),Ft=B):Wn(i,n),ir(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!Z&&n.mode&1)for(he=n,Z=n.child;Z!==null;){for(ee=he=Z;he!==null;){switch(J=he,ae=J.child,J.tag){case 0:case 11:case 14:case 15:Va(4,J,J.return);break;case 1:ho(J,J.return);var de=J.stateNode;if(typeof de.componentWillUnmount=="function"){c=J,a=J.return;try{i=c,de.props=i.memoizedProps,de.state=i.memoizedState,de.componentWillUnmount()}catch(fe){it(c,a,fe)}}break;case 5:ho(J,J.return);break;case 22:if(J.memoizedState!==null){Hg(ee);continue}}ae!==null?(ae.return=J,he=ae):Hg(ee)}Z=Z.sibling}e:for(Z=null,ee=n;;){if(ee.tag===5){if(Z===null){Z=ee;try{f=ee.stateNode,B?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=ee.stateNode,D=ee.memoizedProps.style,E=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=Xo("display",E))}catch(fe){it(n,n.return,fe)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=B?"":ee.memoizedProps}catch(fe){it(n,n.return,fe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===n)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===n)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===n)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Wn(i,n),ir(n),c&4&&zg(n);break;case 21:break;default:Wn(i,n),ir(n)}}function ir(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(jg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&($r(f,""),c.flags&=-33);var g=Fg(n);Dd(n,g,f);break;case 3:case 4:var E=c.stateNode.containerInfo,A=Fg(n);Nd(n,A,E);break;default:throw Error(t(161))}}catch(D){it(n,n.return,D)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function u0(n,i,a){he=n,$g(n)}function $g(n,i,a){for(var c=(n.mode&1)!==0;he!==null;){var f=he,g=f.child;if(f.tag===22&&c){var E=f.memoizedState!==null||wu;if(!E){var A=f.alternate,D=A!==null&&A.memoizedState!==null||Ft;A=wu;var B=Ft;if(wu=E,(Ft=D)&&!B)for(he=f;he!==null;)E=he,D=E.child,E.tag===22&&E.memoizedState!==null?Kg(f):D!==null?(D.return=E,he=D):Kg(f);for(;g!==null;)he=g,$g(g),g=g.sibling;he=f,wu=A,Ft=B}Wg(n)}else f.subtreeFlags&8772&&g!==null?(g.return=f,he=g):Wg(n)}}function Wg(n){for(;he!==null;){var i=he;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Ft||Eu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Bn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Hm(i,g,c);break;case 3:var E=i.updateQueue;if(E!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Hm(i,E,a)}break;case 5:var A=i.stateNode;if(a===null&&i.flags&4){a=A;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var Z=B.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&jn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||i.flags&512&&xd(i)}catch(J){it(i,i.return,J)}}if(i===n){he=null;break}if(a=i.sibling,a!==null){a.return=i.return,he=a;break}he=i.return}}function Hg(n){for(;he!==null;){var i=he;if(i===n){he=null;break}var a=i.sibling;if(a!==null){a.return=i.return,he=a;break}he=i.return}}function Kg(n){for(;he!==null;){var i=he;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Eu(4,i)}catch(D){it(i,a,D)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(D){it(i,f,D)}}var g=i.return;try{xd(i)}catch(D){it(i,g,D)}break;case 5:var E=i.return;try{xd(i)}catch(D){it(i,E,D)}}}catch(D){it(i,i.return,D)}if(i===n){he=null;break}var A=i.sibling;if(A!==null){A.return=i.return,he=A;break}he=i.return}}var c0=Math.ceil,Tu=Y.ReactCurrentDispatcher,Od=Y.ReactCurrentOwner,Cn=Y.ReactCurrentBatchConfig,je=0,Ct=null,dt=null,Dt=0,fn=0,fo=ti(0),vt=0,ba=null,ss=0,Iu=0,Vd=0,La=null,tn=null,bd=0,po=1/0,xr=null,Su=!1,Ld=null,ai=null,Cu=!1,li=null,Au=0,Ma=0,Md=null,ku=-1,Ru=0;function qt(){return je&6?Ke():ku!==-1?ku:ku=Ke()}function ui(n){return n.mode&1?je&2&&Dt!==0?Dt&-Dt:GE.transition!==null?(Ru===0&&(Ru=Gi()),Ru):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:ha(n.type)),n):1}function Hn(n,i,a,c){if(50<Ma)throw Ma=0,Md=null,Error(t(185));Gr(n,a,c),(!(je&2)||n!==Ct)&&(n===Ct&&(!(je&2)&&(Iu|=a),vt===4&&ci(n,Dt)),nn(n,c),a===1&&je===0&&!(i.mode&1)&&(po=Ke()+500,nu&&ri()))}function nn(n,i){var a=n.callbackNode;_r(n,i);var c=Ki(n,n===Ct?Dt:0);if(c===0)a!==null&&oa(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&oa(a),i===1)n.tag===0?KE(qg.bind(null,n)):Om(qg.bind(null,n)),BE(function(){!(je&6)&&ri()}),a=null;else{switch(Qr(c)){case 1:a=Wi;break;case 4:a=Wr;break;case 16:a=_n;break;case 536870912:a=Rl;break;default:a=_n}a=ny(a,Gg.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Gg(n,i){if(ku=-1,Ru=0,je&6)throw Error(t(327));var a=n.callbackNode;if(mo()&&n.callbackNode!==a)return null;var c=Ki(n,n===Ct?Dt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=Pu(n,c);else{i=c;var f=je;je|=2;var g=Xg();(Ct!==n||Dt!==i)&&(xr=null,po=Ke()+500,as(n,i));do try{f0();break}catch(A){Qg(n,A)}while(!0);td(),Tu.current=g,je=f,dt!==null?i=0:(Ct=null,Dt=0,i=vt)}if(i!==0){if(i===2&&(f=ln(n),f!==0&&(c=f,i=jd(n,f))),i===1)throw a=ba,as(n,0),ci(n,c),nn(n,Ke()),a;if(i===6)ci(n,c);else{if(f=n.current.alternate,!(c&30)&&!h0(f)&&(i=Pu(n,c),i===2&&(g=ln(n),g!==0&&(c=g,i=jd(n,g))),i===1))throw a=ba,as(n,0),ci(n,c),nn(n,Ke()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:ls(n,tn,xr);break;case 3:if(ci(n,c),(c&130023424)===c&&(i=bd+500-Ke(),10<i)){if(Ki(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){qt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Wh(ls.bind(null,n,tn,xr),i);break}ls(n,tn,xr);break;case 4:if(ci(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var E=31-Ht(c);g=1<<E,E=i[E],E>f&&(f=E),c&=~g}if(c=f,c=Ke()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*c0(c/1960))-c,10<c){n.timeoutHandle=Wh(ls.bind(null,n,tn,xr),c);break}ls(n,tn,xr);break;case 5:ls(n,tn,xr);break;default:throw Error(t(329))}}}return nn(n,Ke()),n.callbackNode===a?Gg.bind(null,n):null}function jd(n,i){var a=La;return n.current.memoizedState.isDehydrated&&(as(n,i).flags|=256),n=Pu(n,i),n!==2&&(i=tn,tn=a,i!==null&&Fd(i)),n}function Fd(n){tn===null?tn=n:tn.push.apply(tn,n)}function h0(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!Un(g(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ci(n,i){for(i&=~Vd,i&=~Iu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Ht(i),c=1<<a;n[a]=-1,i&=~c}}function qg(n){if(je&6)throw Error(t(327));mo();var i=Ki(n,0);if(!(i&1))return nn(n,Ke()),null;var a=Pu(n,i);if(n.tag!==0&&a===2){var c=ln(n);c!==0&&(i=c,a=jd(n,c))}if(a===1)throw a=ba,as(n,0),ci(n,i),nn(n,Ke()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ls(n,tn,xr),nn(n,Ke()),null}function Ud(n,i){var a=je;je|=1;try{return n(i)}finally{je=a,je===0&&(po=Ke()+500,nu&&ri())}}function os(n){li!==null&&li.tag===0&&!(je&6)&&mo();var i=je;je|=1;var a=Cn.transition,c=Ne;try{if(Cn.transition=null,Ne=1,n)return n()}finally{Ne=c,Cn.transition=a,je=i,!(je&6)&&ri()}}function zd(){fn=fo.current,Xe(fo)}function as(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,zE(a)),dt!==null)for(a=dt.return;a!==null;){var c=a;switch(Xh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&eu();break;case 3:uo(),Xe(Jt),Xe(Lt),ud();break;case 5:ad(c);break;case 4:uo();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:nd(c.type._context);break;case 22:case 23:zd()}a=a.return}if(Ct=n,dt=n=hi(n.current,null),Dt=fn=i,vt=0,ba=null,Vd=Iu=ss=0,tn=La=null,ns!==null){for(i=0;i<ns.length;i++)if(a=ns[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var E=g.next;g.next=f,c.next=E}a.pending=c}ns=null}return n}function Qg(n,i){do{var a=dt;try{if(td(),du.current=gu,fu){for(var c=nt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}fu=!1}if(is=0,St=_t=nt=null,Pa=!1,xa=0,Od.current=null,a===null||a.return===null){vt=1,ba=i,dt=null;break}e:{var g=n,E=a.return,A=a,D=i;if(i=Dt,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var B=D,Z=A,ee=Z.tag;if(!(Z.mode&1)&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ae=wg(E);if(ae!==null){ae.flags&=-257,Eg(ae,E,A,g,i),ae.mode&1&&vg(g,B,i),i=ae,D=B;var de=i.updateQueue;if(de===null){var fe=new Set;fe.add(D),i.updateQueue=fe}else de.add(D);break e}else{if(!(i&1)){vg(g,B,i),Bd();break e}D=Error(t(426))}}else if(Ze&&A.mode&1){var lt=wg(E);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),Eg(lt,E,A,g,i),Zh(co(D,A));break e}}g=D=co(D,A),vt!==4&&(vt=2),La===null?La=[g]:La.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var U=yg(g,D,i);Wm(g,U);break e;case 1:A=D;var b=g.type,z=g.stateNode;if(!(g.flags&128)&&(typeof b.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ai===null||!ai.has(z)))){g.flags|=65536,i&=-i,g.lanes|=i;var re=_g(g,A,i);Wm(g,re);break e}}g=g.return}while(g!==null)}Jg(a)}catch(me){i=me,dt===a&&a!==null&&(dt=a=a.return);continue}break}while(!0)}function Xg(){var n=Tu.current;return Tu.current=gu,n===null?gu:n}function Bd(){(vt===0||vt===3||vt===2)&&(vt=4),Ct===null||!(ss&268435455)&&!(Iu&268435455)||ci(Ct,Dt)}function Pu(n,i){var a=je;je|=2;var c=Xg();(Ct!==n||Dt!==i)&&(xr=null,as(n,i));do try{d0();break}catch(f){Qg(n,f)}while(!0);if(td(),je=a,Tu.current=c,dt!==null)throw Error(t(261));return Ct=null,Dt=0,vt}function d0(){for(;dt!==null;)Yg(dt)}function f0(){for(;dt!==null&&!Al();)Yg(dt)}function Yg(n){var i=ty(n.alternate,n,fn);n.memoizedProps=n.pendingProps,i===null?Jg(n):dt=i,Od.current=null}function Jg(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=o0(a,i),a!==null){a.flags&=32767,dt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,dt=null;return}}else if(a=s0(a,i,fn),a!==null){dt=a;return}if(i=i.sibling,i!==null){dt=i;return}dt=i=n}while(i!==null);vt===0&&(vt=5)}function ls(n,i,a){var c=Ne,f=Cn.transition;try{Cn.transition=null,Ne=1,p0(n,i,a,c)}finally{Cn.transition=f,Ne=c}return null}function p0(n,i,a,c){do mo();while(li!==null);if(je&6)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(We(n,g),n===Ct&&(dt=Ct=null,Dt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Cu||(Cu=!0,ny(_n,function(){return mo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Cn.transition,Cn.transition=null;var E=Ne;Ne=1;var A=je;je|=4,Od.current=null,l0(n,a),Bg(a,n),VE(Bh),Yr=!!zh,Bh=zh=null,n.current=a,u0(a),Ch(),je=A,Ne=E,Cn.transition=g}else n.current=a;if(Cu&&(Cu=!1,li=n,Au=f),g=n.pendingLanes,g===0&&(ai=null),Pl(a.stateNode),nn(n,Ke()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Su)throw Su=!1,n=Ld,Ld=null,n;return Au&1&&n.tag!==0&&mo(),g=n.pendingLanes,g&1?n===Md?Ma++:(Ma=0,Md=n):Ma=0,ri(),null}function mo(){if(li!==null){var n=Qr(Au),i=Cn.transition,a=Ne;try{if(Cn.transition=null,Ne=16>n?16:n,li===null)var c=!1;else{if(n=li,li=null,Au=0,je&6)throw Error(t(331));var f=je;for(je|=4,he=n.current;he!==null;){var g=he,E=g.child;if(he.flags&16){var A=g.deletions;if(A!==null){for(var D=0;D<A.length;D++){var B=A[D];for(he=B;he!==null;){var Z=he;switch(Z.tag){case 0:case 11:case 15:Va(8,Z,g)}var ee=Z.child;if(ee!==null)ee.return=Z,he=ee;else for(;he!==null;){Z=he;var J=Z.sibling,ae=Z.return;if(Mg(Z),Z===B){he=null;break}if(J!==null){J.return=ae,he=J;break}he=ae}}}var de=g.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var lt=fe.sibling;fe.sibling=null,fe=lt}while(fe!==null)}}he=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,he=E;else e:for(;he!==null;){if(g=he,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Va(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,he=U;break e}he=g.return}}var b=n.current;for(he=b;he!==null;){E=he;var z=E.child;if(E.subtreeFlags&2064&&z!==null)z.return=E,he=z;else e:for(E=b;he!==null;){if(A=he,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Eu(9,A)}}catch(me){it(A,A.return,me)}if(A===E){he=null;break e}var re=A.sibling;if(re!==null){re.return=A.return,he=re;break e}he=A.return}}if(je=f,ri(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Hi,n)}catch{}c=!0}return c}finally{Ne=a,Cn.transition=i}}return!1}function Zg(n,i,a){i=co(a,i),i=yg(n,i,1),n=si(n,i,1),i=qt(),n!==null&&(Gr(n,1,i),nn(n,i))}function it(n,i,a){if(n.tag===3)Zg(n,n,a);else for(;i!==null;){if(i.tag===3){Zg(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ai===null||!ai.has(c))){n=co(a,n),n=_g(i,n,1),i=si(i,n,1),n=qt(),i!==null&&(Gr(i,1,n),nn(i,n));break}}i=i.return}}function m0(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=qt(),n.pingedLanes|=n.suspendedLanes&a,Ct===n&&(Dt&a)===a&&(vt===4||vt===3&&(Dt&130023424)===Dt&&500>Ke()-bd?as(n,0):Vd|=a),nn(n,i)}function ey(n,i){i===0&&(n.mode&1?(i=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):i=1);var a=qt();n=kr(n,i),n!==null&&(Gr(n,i,a),nn(n,a))}function g0(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),ey(n,a)}function y0(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),ey(n,a)}var ty;ty=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Jt.current)en=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return en=!1,i0(n,i,a);en=!!(n.flags&131072)}else en=!1,Ze&&i.flags&1048576&&Vm(i,iu,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;vu(n,i),n=i.pendingProps;var f=no(i,Lt.current);lo(i,a),f=dd(null,i,c,n,f,a);var g=fd();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zt(c)?(g=!0,tu(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,sd(i),f.updater=yu,i.stateNode=f,f._reactInternals=i,vd(i,c,n,a),i=Id(null,i,c,!0,g,a)):(i.tag=0,Ze&&g&&Qh(i),Gt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(vu(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=v0(c),n=Bn(c,n),f){case 0:i=Td(null,i,c,n,a);break e;case 1:i=kg(null,i,c,n,a);break e;case 11:i=Tg(null,i,c,n,a);break e;case 14:i=Ig(null,i,c,Bn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Bn(c,f),Td(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Bn(c,f),kg(n,i,c,f,a);case 3:e:{if(Rg(i),n===null)throw Error(t(387));c=i.pendingProps,g=i.memoizedState,f=g.element,$m(n,i),cu(i,c,null,a);var E=i.memoizedState;if(c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=co(Error(t(423)),i),i=Pg(n,i,c,a,f);break e}else if(c!==f){f=co(Error(t(424)),i),i=Pg(n,i,c,a,f);break e}else for(dn=ei(i.stateNode.containerInfo.firstChild),hn=i,Ze=!0,zn=null,a=zm(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(so(),c===f){i=Pr(n,i,a);break e}Gt(n,i,c,a)}i=i.child}return i;case 5:return Km(i),n===null&&Jh(i),c=i.type,f=i.pendingProps,g=n!==null?n.memoizedProps:null,E=f.children,$h(c,f)?E=null:g!==null&&$h(c,g)&&(i.flags|=32),Ag(n,i),Gt(n,i,E,a),i.child;case 6:return n===null&&Jh(i),null;case 13:return xg(n,i,a);case 4:return od(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=oo(i,null,c,a):Gt(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Bn(c,f),Tg(n,i,c,f,a);case 7:return Gt(n,i,i.pendingProps,a),i.child;case 8:return Gt(n,i,i.pendingProps.children,a),i.child;case 12:return Gt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,g=i.memoizedProps,E=f.value,Ge(au,c._currentValue),c._currentValue=E,g!==null)if(Un(g.value,E)){if(g.children===f.children&&!Jt.current){i=Pr(n,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var A=g.dependencies;if(A!==null){E=g.child;for(var D=A.firstContext;D!==null;){if(D.context===c){if(g.tag===1){D=Rr(-1,a&-a),D.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var Z=B.pending;Z===null?D.next=D:(D.next=Z.next,Z.next=D),B.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),rd(g.return,a,i),A.lanes|=a;break}D=D.next}}else if(g.tag===10)E=g.type===i.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,A=E.alternate,A!==null&&(A.lanes|=a),rd(E,a,i),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Gt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,lo(i,a),f=In(f),c=c(f),i.flags|=1,Gt(n,i,c,a),i.child;case 14:return c=i.type,f=Bn(c,i.pendingProps),f=Bn(c.type,f),Ig(n,i,c,f,a);case 15:return Sg(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Bn(c,f),vu(n,i),i.tag=1,Zt(c)?(n=!0,tu(i)):n=!1,lo(i,a),mg(i,c,f),vd(i,c,f,a),Id(null,i,c,!0,n,a);case 19:return Dg(n,i,a);case 22:return Cg(n,i,a)}throw Error(t(156,i.tag))};function ny(n,i){return bs(n,i)}function _0(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(n,i,a,c){return new _0(n,i,a,c)}function $d(n){return n=n.prototype,!(!n||!n.isReactComponent)}function v0(n){if(typeof n=="function")return $d(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===ot)return 14}return 2}function hi(n,i){var a=n.alternate;return a===null?(a=An(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function xu(n,i,a,c,f,g){var E=2;if(c=n,typeof n=="function")$d(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case N:return us(a.children,f,g,i);case S:E=8,f|=8;break;case k:return n=An(12,a,i,f|2),n.elementType=k,n.lanes=g,n;case R:return n=An(13,a,i,f),n.elementType=R,n.lanes=g,n;case qe:return n=An(19,a,i,f),n.elementType=qe,n.lanes=g,n;case Oe:return Nu(a,f,g,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:E=10;break e;case V:E=9;break e;case M:E=11;break e;case ot:E=14;break e;case et:E=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=An(E,a,i,f),i.elementType=n,i.type=c,i.lanes=g,i}function us(n,i,a,c){return n=An(7,n,c,i),n.lanes=a,n}function Nu(n,i,a,c){return n=An(22,n,c,i),n.elementType=Oe,n.lanes=a,n.stateNode={isHidden:!1},n}function Wd(n,i,a){return n=An(6,n,null,i),n.lanes=a,n}function Hd(n,i,a){return i=An(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function w0(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kr(0),this.expirationTimes=Kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Kd(n,i,a,c,f,g,E,A,D){return n=new w0(n,i,a,A,D),i===1?(i=1,g===!0&&(i|=8)):i=0,g=An(3,null,null,i),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},sd(g),n}function E0(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function ry(n){if(!n)return ni;n=n._reactInternals;e:{if(On(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Zt(a))return Nm(n,a,i)}return i}function iy(n,i,a,c,f,g,E,A,D){return n=Kd(a,c,!0,n,f,g,E,A,D),n.context=ry(null),a=n.current,c=qt(),f=ui(a),g=Rr(c,f),g.callback=i??null,si(a,g,f),n.current.lanes=f,Gr(n,f,c),nn(n,c),n}function Du(n,i,a,c){var f=i.current,g=qt(),E=ui(f);return a=ry(a),i.context===null?i.context=a:i.pendingContext=a,i=Rr(g,E),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=si(f,i,E),n!==null&&(Hn(n,f,E,g),uu(n,f,E)),E}function Ou(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function sy(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Gd(n,i){sy(n,i),(n=n.alternate)&&sy(n,i)}var oy=typeof reportError=="function"?reportError:function(n){console.error(n)};function qd(n){this._internalRoot=n}Vu.prototype.render=qd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Du(n,i,null,null)},Vu.prototype.unmount=qd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;os(function(){Du(null,n,null,null)}),i[Ir]=null}};function Vu(n){this._internalRoot=n}Vu.prototype.unstable_scheduleHydration=function(n){if(n){var i=Vl();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Yn.length&&i!==0&&i<Yn[a].priority;a++);Yn.splice(a,0,n),a===0&&Ml(n)}};function Qd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function bu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ay(){}function T0(n,i,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var B=Ou(E);g.call(B)}}var E=iy(i,c,n,0,null,!1,!1,"",ay);return n._reactRootContainer=E,n[Ir]=E.current,Ea(n.nodeType===8?n.parentNode:n),os(),E}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var A=c;c=function(){var B=Ou(D);A.call(B)}}var D=Kd(n,0,!1,null,null,!1,!1,"",ay);return n._reactRootContainer=D,n[Ir]=D.current,Ea(n.nodeType===8?n.parentNode:n),os(function(){Du(i,D,a,c)}),D}function Lu(n,i,a,c,f){var g=a._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var A=f;f=function(){var D=Ou(E);A.call(D)}}Du(i,E,n,f)}else E=T0(a,i,n,f,c);return Ou(E)}Dl=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Hr(i.pendingLanes);a!==0&&(qr(i,a|1),nn(i,Ke()),!(je&6)&&(po=Ke()+500,ri()))}break;case 13:os(function(){var c=kr(n,1);if(c!==null){var f=qt();Hn(c,n,1,f)}}),Gd(n,1)}},js=function(n){if(n.tag===13){var i=kr(n,134217728);if(i!==null){var a=qt();Hn(i,n,134217728,a)}Gd(n,134217728)}},Ol=function(n){if(n.tag===13){var i=ui(n),a=kr(n,i);if(a!==null){var c=qt();Hn(a,n,i,c)}Gd(n,i)}},Vl=function(){return Ne},bl=function(n,i){var a=Ne;try{return Ne=n,i()}finally{Ne=a}},Ps=function(n,i,a){switch(i){case"input":if(Ko(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=Zl(c);if(!f)throw Error(t(90));Is(c),Ko(c,f)}}}break;case"textarea":ks(n,a);break;case"select":i=a.value,i!=null&&mr(n,!!a.multiple,i,!1)}},Ui=Ud,na=os;var I0={usingClientEntryPoint:!1,Events:[Sa,eo,Zl,Qn,ta,Ud]},ja={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S0={bundleType:ja.bundleType,version:ja.version,rendererPackageName:ja.rendererPackageName,rendererConfig:ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=sa(n),n===null?null:n.stateNode},findFiberByHostInstance:ja.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Hi=Mu.inject(S0),an=Mu}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I0,rn.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qd(i))throw Error(t(200));return E0(n,i,null,a)},rn.createRoot=function(n,i){if(!Qd(n))throw Error(t(299));var a=!1,c="",f=oy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Kd(n,1,!1,null,null,a,!1,c,f),n[Ir]=i.current,Ea(n.nodeType===8?n.parentNode:n),new qd(i)},rn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=sa(i),n=n===null?null:n.stateNode,n},rn.flushSync=function(n){return os(n)},rn.hydrate=function(n,i,a){if(!bu(i))throw Error(t(200));return Lu(null,n,i,!0,a)},rn.hydrateRoot=function(n,i,a){if(!Qd(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",E=oy;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),i=iy(i,null,n,1,a??null,f,!1,g,E),n[Ir]=i.current,Ea(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Vu(i)},rn.render=function(n,i,a){if(!bu(i))throw Error(t(200));return Lu(null,n,i,!1,a)},rn.unmountComponentAtNode=function(n){if(!bu(n))throw Error(t(40));return n._reactRootContainer?(os(function(){Lu(null,null,n,!1,function(){n._reactRootContainer=null,n[Ir]=null})}),!0):!1},rn.unstable_batchedUpdates=Ud,rn.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!bu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Lu(n,i,a,!1,c)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var my;function G_(){if(my)return Jd.exports;my=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jd.exports=V0(),Jd.exports}var gy;function b0(){if(gy)return ju;gy=1;var r=G_();return ju.createRoot=r.createRoot,ju.hydrateRoot=r.hydrateRoot,ju}var L0=b0();G_();/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},il.apply(this,arguments)}var yi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(yi||(yi={}));const yy="popstate";function M0(r){r===void 0&&(r={});function e(s,o){let{pathname:l,search:h,hash:d}=s.location;return Tf("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:ac(o)}return F0(e,t,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function q_(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j0(){return Math.random().toString(36).substr(2,8)}function _y(r,e){return{usr:r.state,key:r.key,idx:e}}function Tf(r,e,t,s){return t===void 0&&(t=null),il({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Lo(e):e,{state:t,key:e&&e.key||s||j0()})}function ac(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Lo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function F0(r,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d=yi.Pop,p=null,y=_();y==null&&(y=0,h.replaceState(il({},h.state,{idx:y}),""));function _(){return(h.state||{idx:null}).idx}function w(){d=yi.Pop;let x=_(),Q=x==null?null:x-y;y=x,p&&p({action:d,location:L.location,delta:Q})}function T(x,Q){d=yi.Push;let X=Tf(L.location,x,Q);y=_()+1;let te=_y(X,y),Y=L.createHref(X);try{h.pushState(te,"",Y)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(Y)}l&&p&&p({action:d,location:L.location,delta:1})}function C(x,Q){d=yi.Replace;let X=Tf(L.location,x,Q);y=_();let te=_y(X,y),Y=L.createHref(X);h.replaceState(te,"",Y),l&&p&&p({action:d,location:L.location,delta:0})}function O(x){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof x=="string"?x:ac(x);return X=X.replace(/ $/,"%20"),ct(Q,"No window.location.(origin|href) available to create URL for href: "+X),new URL(X,Q)}let L={get action(){return d},get location(){return r(o,h)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(yy,w),p=x,()=>{o.removeEventListener(yy,w),p=null}},createHref(x){return e(o,x)},createURL:O,encodeLocation(x){let Q=O(x);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:T,replace:C,go(x){return h.go(x)}};return L}var vy;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(vy||(vy={}));function U0(r,e,t){return t===void 0&&(t="/"),z0(r,e,t)}function z0(r,e,t,s){let o=typeof e=="string"?Lo(e):e,l=cp(o.pathname||"/",t);if(l==null)return null;let h=Q_(r);B0(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let y=eT(l);d=Y0(h[p],y)}return d}function Q_(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(ct(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let y=vi([s,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(ct(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Q_(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:Q0(y,l.index),routesMeta:_})};return r.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let p of X_(l.path))o(l,h,p)}),e}function X_(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=X_(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function B0(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:X0(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const $0=/^:[\w-]+$/,W0=3,H0=2,K0=1,G0=10,q0=-2,wy=r=>r==="*";function Q0(r,e){let t=r.split("/"),s=t.length;return t.some(wy)&&(s+=q0),e&&(s+=H0),t.filter(o=>!wy(o)).reduce((o,l)=>o+($0.test(l)?W0:l===""?K0:G0),s)}function X0(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Y0(r,e,t){let{routesMeta:s}=r,o={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],y=d===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",w=J0({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),T=p.route;if(!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:vi([l,w.pathname]),pathnameBase:iT(vi([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=vi([l,w.pathnameBase]))}return h}function J0(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Z0(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,_,w)=>{let{paramName:T,isOptional:C}=_;if(T==="*"){let L=d[w]||"";h=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const O=d[w];return C&&!O?y[T]=void 0:y[T]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function Z0(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),q_(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function eT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return q_(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function cp(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function tT(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Lo(r):r;return{pathname:t?t.startsWith("/")?t:nT(t,e):e,search:sT(s),hash:oT(o)}}function nT(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function tf(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hp(r,e){let t=rT(r);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function dp(r,e,t,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=Lo(r):(o=il({},r),ct(!o.pathname||!o.pathname.includes("?"),tf("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),tf("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),tf("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let w=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}d=w>=0?e[w]:"/"}let p=tT(o,d),y=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}const vi=r=>r.join("/").replace(/\/\/+/g,"/"),iT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),sT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,oT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function aT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Y_=["post","put","patch","delete"];new Set(Y_);const lT=["get",...Y_];new Set(lT);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},sl.apply(this,arguments)}const fp=W.createContext(null),uT=W.createContext(null),Ni=W.createContext(null),Zc=W.createContext(null),Di=W.createContext({outlet:null,matches:[],isDataRoute:!1}),J_=W.createContext(null);function cT(r,e){let{relative:t}=e===void 0?{}:e;Mo()||ct(!1);let{basename:s,navigator:o}=W.useContext(Ni),{hash:l,pathname:h,search:d}=tv(r,{relative:t}),p=h;return s!=="/"&&(p=h==="/"?s:vi([s,h])),o.createHref({pathname:p,search:d,hash:l})}function Mo(){return W.useContext(Zc)!=null}function ml(){return Mo()||ct(!1),W.useContext(Zc).location}function Z_(r){W.useContext(Ni).static||W.useLayoutEffect(r)}function ev(){let{isDataRoute:r}=W.useContext(Di);return r?IT():hT()}function hT(){Mo()||ct(!1);let r=W.useContext(fp),{basename:e,future:t,navigator:s}=W.useContext(Ni),{matches:o}=W.useContext(Di),{pathname:l}=ml(),h=JSON.stringify(hp(o,t.v7_relativeSplatPath)),d=W.useRef(!1);return Z_(()=>{d.current=!0}),W.useCallback(function(y,_){if(_===void 0&&(_={}),!d.current)return;if(typeof y=="number"){s.go(y);return}let w=dp(y,JSON.parse(h),l,_.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:vi([e,w.pathname])),(_.replace?s.replace:s.push)(w,_.state,_)},[e,s,h,l,r])}function tv(r,e){let{relative:t}=e===void 0?{}:e,{future:s}=W.useContext(Ni),{matches:o}=W.useContext(Di),{pathname:l}=ml(),h=JSON.stringify(hp(o,s.v7_relativeSplatPath));return W.useMemo(()=>dp(r,JSON.parse(h),l,t==="path"),[r,h,l,t])}function dT(r,e){return fT(r,e)}function fT(r,e,t,s){Mo()||ct(!1);let{navigator:o}=W.useContext(Ni),{matches:l}=W.useContext(Di),h=l[l.length-1],d=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let y=ml(),_;if(e){var w;let x=typeof e=="string"?Lo(e):e;p==="/"||(w=x.pathname)!=null&&w.startsWith(p)||ct(!1),_=x}else _=y;let T=_.pathname||"/",C=T;if(p!=="/"){let x=p.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(x.length).join("/")}let O=U0(r,{pathname:C}),L=_T(O&&O.map(x=>Object.assign({},x,{params:Object.assign({},d,x.params),pathname:vi([p,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?p:vi([p,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,t,s);return e&&L?W.createElement(Zc.Provider,{value:{location:sl({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:yi.Pop}},L):L}function pT(){let r=TT(),e=aT(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:o},t):null,null)}const mT=W.createElement(pT,null);class gT extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?W.createElement(Di.Provider,{value:this.props.routeContext},W.createElement(J_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yT(r){let{routeContext:e,match:t,children:s}=r,o=W.useContext(fp);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(Di.Provider,{value:e},s)}function _T(r,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var l;if(!t)return null;if(t.errors)r=t.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let h=r,d=(o=t)==null?void 0:o.errors;if(d!=null){let _=h.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);_>=0||ct(!1),h=h.slice(0,Math.min(h.length,_+1))}let p=!1,y=-1;if(t&&s&&s.v7_partialHydration)for(let _=0;_<h.length;_++){let w=h[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=_),w.route.id){let{loaderData:T,errors:C}=t,O=w.route.loader&&T[w.route.id]===void 0&&(!C||C[w.route.id]===void 0);if(w.route.lazy||O){p=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((_,w,T)=>{let C,O=!1,L=null,x=null;t&&(C=d&&w.route.id?d[w.route.id]:void 0,L=w.route.errorElement||mT,p&&(y<0&&T===0?(O=!0,x=null):y===T&&(O=!0,x=w.route.hydrateFallbackElement||null)));let Q=e.concat(h.slice(0,T+1)),X=()=>{let te;return C?te=L:O?te=x:w.route.Component?te=W.createElement(w.route.Component,null):w.route.element?te=w.route.element:te=_,W.createElement(yT,{match:w,routeContext:{outlet:_,matches:Q,isDataRoute:t!=null},children:te})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?W.createElement(gT,{location:t.location,revalidation:t.revalidation,component:L,error:C,children:X(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):X()},null)}var nv=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(nv||{}),lc=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(lc||{});function vT(r){let e=W.useContext(fp);return e||ct(!1),e}function wT(r){let e=W.useContext(uT);return e||ct(!1),e}function ET(r){let e=W.useContext(Di);return e||ct(!1),e}function rv(r){let e=ET(),t=e.matches[e.matches.length-1];return t.route.id||ct(!1),t.route.id}function TT(){var r;let e=W.useContext(J_),t=wT(lc.UseRouteError),s=rv(lc.UseRouteError);return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function IT(){let{router:r}=vT(nv.UseNavigateStable),e=rv(lc.UseNavigateStable),t=W.useRef(!1);return Z_(()=>{t.current=!0}),W.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,sl({fromRouteId:e},l)))},[r,e])}const Ey={};function ST(r,e){Ey[e]||(Ey[e]=!0,console.warn(e))}const Ty=(r,e,t)=>ST(r,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+r+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function CT(r,e){(r==null?void 0:r.v7_startTransition)===void 0&&Ty("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(r==null?void 0:r.v7_relativeSplatPath)===void 0&&Ty("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function AT(r){let{to:e,replace:t,state:s,relative:o}=r;Mo()||ct(!1);let{future:l,static:h}=W.useContext(Ni),{matches:d}=W.useContext(Di),{pathname:p}=ml(),y=ev(),_=dp(e,hp(d,l.v7_relativeSplatPath),p,o==="path"),w=JSON.stringify(_);return W.useEffect(()=>y(JSON.parse(w),{replace:t,state:s,relative:o}),[y,w,o,t,s]),null}function Xu(r){ct(!1)}function kT(r){let{basename:e="/",children:t=null,location:s,navigationType:o=yi.Pop,navigator:l,static:h=!1,future:d}=r;Mo()&&ct(!1);let p=e.replace(/^\/*/,"/"),y=W.useMemo(()=>({basename:p,navigator:l,static:h,future:sl({v7_relativeSplatPath:!1},d)}),[p,d,l,h]);typeof s=="string"&&(s=Lo(s));let{pathname:_="/",search:w="",hash:T="",state:C=null,key:O="default"}=s,L=W.useMemo(()=>{let x=cp(_,p);return x==null?null:{location:{pathname:x,search:w,hash:T,state:C,key:O},navigationType:o}},[p,_,w,T,C,O,o]);return L==null?null:W.createElement(Ni.Provider,{value:y},W.createElement(Zc.Provider,{children:t,value:L}))}function RT(r){let{children:e,location:t}=r;return dT(If(e),t)}new Promise(()=>{});function If(r,e){e===void 0&&(e=[]);let t=[];return W.Children.forEach(r,(s,o)=>{if(!W.isValidElement(s))return;let l=[...e,o];if(s.type===W.Fragment){t.push.apply(t,If(s.props.children,l));return}s.type!==Xu&&ct(!1),!s.props.index||!s.props.children||ct(!1);let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=If(s.props.children,l)),t.push(h)}),t}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sf(){return Sf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Sf.apply(this,arguments)}function PT(r,e){if(r==null)return{};var t={},s=Object.keys(r),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function xT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function NT(r,e){return r.button===0&&(!e||e==="_self")&&!xT(r)}const DT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OT="6";try{window.__reactRouterVersion=OT}catch{}const VT="startTransition",Iy=N0[VT];function bT(r){let{basename:e,children:t,future:s,window:o}=r,l=W.useRef();l.current==null&&(l.current=M0({window:o,v5Compat:!0}));let h=l.current,[d,p]=W.useState({action:h.action,location:h.location}),{v7_startTransition:y}=s||{},_=W.useCallback(w=>{y&&Iy?Iy(()=>p(w)):p(w)},[p,y]);return W.useLayoutEffect(()=>h.listen(_),[h,_]),W.useEffect(()=>CT(s),[s]),W.createElement(kT,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:h,future:s})}const LT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sy=W.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:l,replace:h,state:d,target:p,to:y,preventScrollReset:_,viewTransition:w}=e,T=PT(e,DT),{basename:C}=W.useContext(Ni),O,L=!1;if(typeof y=="string"&&MT.test(y)&&(O=y,LT))try{let te=new URL(window.location.href),Y=y.startsWith("//")?new URL(te.protocol+y):new URL(y),pe=cp(Y.pathname,C);Y.origin===te.origin&&pe!=null?y=pe+Y.search+Y.hash:L=!0}catch{}let x=cT(y,{relative:o}),Q=jT(y,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:w});function X(te){s&&s(te),te.defaultPrevented||Q(te)}return W.createElement("a",Sf({},T,{href:O||x,onClick:L||l?s:X,ref:t,target:p}))});var Cy;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Cy||(Cy={}));var Ay;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Ay||(Ay={}));function jT(r,e){let{target:t,replace:s,state:o,preventScrollReset:l,relative:h,viewTransition:d}=e===void 0?{}:e,p=ev(),y=ml(),_=tv(r,{relative:h});return W.useCallback(w=>{if(NT(w,t)){w.preventDefault();let T=s!==void 0?s:ac(y)===ac(_);p(r,{replace:T,state:o,preventScrollReset:l,relative:h,viewTransition:d})}},[y,p,_,s,o,t,r,l,h,d])}var Cf=function(r,e){return Cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])},Cf(r,e)};function FT(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cf(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var kt=function(){return kt=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},kt.apply(this,arguments)};function UT(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function go(r,e,t,s){function o(l){return l instanceof t?l:new t(function(h){h(l)})}return new(t||(t=Promise))(function(l,h){function d(_){try{y(s.next(_))}catch(w){h(w)}}function p(_){try{y(s.throw(_))}catch(w){h(w)}}function y(_){_.done?l(_.value):o(_.value).then(d,p)}y((s=s.apply(r,[])).next())})}function yo(r,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=d(0),h.throw=d(1),h.return=d(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(y){return function(_){return p([y,_])}}function p(y){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(t=0)),t;)try{if(s=1,o&&(l=y[0]&2?o.return:y[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,y[1])).done)return l;switch(o=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){t.label=y[1];break}if(y[0]===6&&t.label<l[1]){t.label=l[1],l=y;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(y);break}l[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(r,t)}catch(_){y=[6,_],o=0}finally{s=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function lr(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]])}return t}var ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function mp(r,e){return r(e={exports:{}},e.exports),e.exports}var cs=mp(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function s(){var o=this;this.locked=new Map,this.addToLocked=function(l,h){var d=o.locked.get(l);d===void 0?h===void 0?o.locked.set(l,[]):o.locked.set(l,[h]):h!==void 0&&(d.unshift(h),o.locked.set(l,d))},this.isLocked=function(l){return o.locked.has(l)},this.lock=function(l){return new Promise(function(h,d){o.isLocked(l)?o.addToLocked(l,h):(o.addToLocked(l),h())})},this.unlock=function(l){var h=o.locked.get(l);if(h!==void 0&&h.length!==0){var d=h.pop();o.locked.set(l,h),d!==void 0&&setTimeout(d,0)}else o.locked.delete(l)}}return s.getInstance=function(){return s.instance===void 0&&(s.instance=new s),s.instance},s}();e.default=function(){return t.getInstance()}});pp(cs);var zT=pp(mp(function(r,e){var t=ds&&ds.__awaiter||function(_,w,T,C){return new(T||(T=Promise))(function(O,L){function x(te){try{X(C.next(te))}catch(Y){L(Y)}}function Q(te){try{X(C.throw(te))}catch(Y){L(Y)}}function X(te){te.done?O(te.value):new T(function(Y){Y(te.value)}).then(x,Q)}X((C=C.apply(_,w||[])).next())})},s=ds&&ds.__generator||function(_,w){var T,C,O,L,x={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return L={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function Q(X){return function(te){return function(Y){if(T)throw new TypeError("Generator is already executing.");for(;x;)try{if(T=1,C&&(O=2&Y[0]?C.return:Y[0]?C.throw||((O=C.return)&&O.call(C),0):C.next)&&!(O=O.call(C,Y[1])).done)return O;switch(C=0,O&&(Y=[2&Y[0],O.value]),Y[0]){case 0:case 1:O=Y;break;case 4:return x.label++,{value:Y[1],done:!1};case 5:x.label++,C=Y[1],Y=[0];continue;case 7:Y=x.ops.pop(),x.trys.pop();continue;default:if(O=x.trys,!((O=O.length>0&&O[O.length-1])||Y[0]!==6&&Y[0]!==2)){x=0;continue}if(Y[0]===3&&(!O||Y[1]>O[0]&&Y[1]<O[3])){x.label=Y[1];break}if(Y[0]===6&&x.label<O[1]){x.label=O[1],O=Y;break}if(O&&x.label<O[2]){x.label=O[2],x.ops.push(Y);break}O[2]&&x.ops.pop(),x.trys.pop();continue}Y=w.call(_,x)}catch(pe){Y=[6,pe],C=0}finally{T=O=0}if(5&Y[0])throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}([X,te])}}},o=ds;Object.defineProperty(e,"__esModule",{value:!0});var l="browser-tabs-lock-key",h={key:function(_){return t(o,void 0,void 0,function(){return s(this,function(w){throw new Error("Unsupported")})})},getItem:function(_){return t(o,void 0,void 0,function(){return s(this,function(w){throw new Error("Unsupported")})})},clear:function(){return t(o,void 0,void 0,function(){return s(this,function(_){return[2,window.localStorage.clear()]})})},removeItem:function(_){return t(o,void 0,void 0,function(){return s(this,function(w){throw new Error("Unsupported")})})},setItem:function(_,w){return t(o,void 0,void 0,function(){return s(this,function(T){throw new Error("Unsupported")})})},keySync:function(_){return window.localStorage.key(_)},getItemSync:function(_){return window.localStorage.getItem(_)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(_){return window.localStorage.removeItem(_)},setItemSync:function(_,w){return window.localStorage.setItem(_,w)}};function d(_){return new Promise(function(w){return setTimeout(w,_)})}function p(_){for(var w="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",T="",C=0;C<_;C++)T+=w[Math.floor(Math.random()*w.length)];return T}var y=function(){function _(w){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+p(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=w,_.waiters===void 0&&(_.waiters=[])}return _.prototype.acquireLock=function(w,T){return T===void 0&&(T=5e3),t(this,void 0,void 0,function(){var C,O,L,x,Q,X,te;return s(this,function(Y){switch(Y.label){case 0:C=Date.now()+p(4),O=Date.now()+T,L=l+"-"+w,x=this.storageHandler===void 0?h:this.storageHandler,Y.label=1;case 1:return Date.now()<O?[4,d(30)]:[3,8];case 2:return Y.sent(),x.getItemSync(L)!==null?[3,5]:(Q=this.id+"-"+w+"-"+C,[4,d(Math.floor(25*Math.random()))]);case 3:return Y.sent(),x.setItemSync(L,JSON.stringify({id:this.id,iat:C,timeoutKey:Q,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,d(30)];case 4:return Y.sent(),(X=x.getItemSync(L))!==null&&(te=JSON.parse(X)).id===this.id&&te.iat===C?(this.acquiredIatSet.add(C),this.refreshLockWhileAcquired(L,C),[2,!0]):[3,7];case 5:return _.lockCorrector(this.storageHandler===void 0?h:this.storageHandler),[4,this.waitForSomethingToChange(O)];case 6:Y.sent(),Y.label=7;case 7:return C=Date.now()+p(4),[3,1];case 8:return[2,!1]}})})},_.prototype.refreshLockWhileAcquired=function(w,T){return t(this,void 0,void 0,function(){var C=this;return s(this,function(O){return setTimeout(function(){return t(C,void 0,void 0,function(){var L,x,Q;return s(this,function(X){switch(X.label){case 0:return[4,cs.default().lock(T)];case 1:return X.sent(),this.acquiredIatSet.has(T)?(L=this.storageHandler===void 0?h:this.storageHandler,(x=L.getItemSync(w))===null?(cs.default().unlock(T),[2]):((Q=JSON.parse(x)).timeRefreshed=Date.now(),L.setItemSync(w,JSON.stringify(Q)),cs.default().unlock(T),this.refreshLockWhileAcquired(w,T),[2])):(cs.default().unlock(T),[2])}})})},1e3),[2]})})},_.prototype.waitForSomethingToChange=function(w){return t(this,void 0,void 0,function(){return s(this,function(T){switch(T.label){case 0:return[4,new Promise(function(C){var O=!1,L=Date.now(),x=!1;function Q(){if(x||(window.removeEventListener("storage",Q),_.removeFromWaiting(Q),clearTimeout(X),x=!0),!O){O=!0;var te=50-(Date.now()-L);te>0?setTimeout(C,te):C(null)}}window.addEventListener("storage",Q),_.addToWaiting(Q);var X=setTimeout(Q,Math.max(0,w-Date.now()))})];case 1:return T.sent(),[2]}})})},_.addToWaiting=function(w){this.removeFromWaiting(w),_.waiters!==void 0&&_.waiters.push(w)},_.removeFromWaiting=function(w){_.waiters!==void 0&&(_.waiters=_.waiters.filter(function(T){return T!==w}))},_.notifyWaiters=function(){_.waiters!==void 0&&_.waiters.slice().forEach(function(w){return w()})},_.prototype.releaseLock=function(w){return t(this,void 0,void 0,function(){return s(this,function(T){switch(T.label){case 0:return[4,this.releaseLock__private__(w)];case 1:return[2,T.sent()]}})})},_.prototype.releaseLock__private__=function(w){return t(this,void 0,void 0,function(){var T,C,O,L;return s(this,function(x){switch(x.label){case 0:return T=this.storageHandler===void 0?h:this.storageHandler,C=l+"-"+w,(O=T.getItemSync(C))===null?[2]:(L=JSON.parse(O)).id!==this.id?[3,2]:[4,cs.default().lock(L.iat)];case 1:x.sent(),this.acquiredIatSet.delete(L.iat),T.removeItemSync(C),cs.default().unlock(L.iat),_.notifyWaiters(),x.label=2;case 2:return[2]}})})},_.lockCorrector=function(w){for(var T=Date.now()-5e3,C=w,O=[],L=0;;){var x=C.keySync(L);if(x===null)break;O.push(x),L++}for(var Q=!1,X=0;X<O.length;X++){var te=O[X];if(te.includes(l)){var Y=C.getItemSync(te);if(Y!==null){var pe=JSON.parse(Y);(pe.timeRefreshed===void 0&&pe.timeAcquired<T||pe.timeRefreshed!==void 0&&pe.timeRefreshed<T)&&(C.removeItemSync(te),Q=!0)}}}Q&&_.notifyWaiters()},_.waiters=void 0,_}();e.default=y}));const BT={timeoutInSeconds:60},iv={name:"auth0-spa-js",version:"2.1.3"},sv=()=>Date.now();let pn=class Af extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,Af.prototype)}static fromPayload({error:e,error_description:t}){return new Af(e,t)}},$T=class ov extends pn{constructor(e,t,s,o=null){super(e,t),this.state=s,this.appState=o,Object.setPrototypeOf(this,ov.prototype)}},kf=class av extends pn{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,av.prototype)}},WT=class lv extends kf{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,lv.prototype)}},HT=class uv extends pn{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,uv.prototype)}},KT=class cv extends pn{constructor(e,t,s){super(e,t),this.mfa_token=s,Object.setPrototypeOf(this,cv.prototype)}},hv=class dv extends pn{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${ky(e,["default"])}', scope: '${ky(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,dv.prototype)}};function ky(r,e=[]){return r&&!e.includes(r)?r:""}const Yu=()=>window.crypto,nf=()=>{const r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(Yu().getRandomValues(new Uint8Array(43))).forEach(t=>e+=r[t%r.length]),e},Ry=r=>btoa(r),Rf=r=>{var{clientId:e}=r,t=lr(r,["clientId"]);return new URLSearchParams((s=>Object.keys(s).filter(o=>s[o]!==void 0).reduce((o,l)=>Object.assign(Object.assign({},o),{[l]:s[l]}),{}))(Object.assign({client_id:e},t))).toString()},Py=r=>(e=>decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))(r.replace(/_/g,"/").replace(/-/g,"+")),GT=async(r,e)=>{const t=await fetch(r,e);return{ok:t.ok,json:await t.json()}},qT=async(r,e,t)=>{const s=new AbortController;let o;return e.signal=s.signal,Promise.race([GT(r,e),new Promise((l,h)=>{o=setTimeout(()=>{s.abort(),h(new Error("Timeout when executing 'fetch'"))},t)})]).finally(()=>{clearTimeout(o)})},QT=async(r,e,t,s,o,l,h)=>{return d={auth:{audience:e,scope:t},timeout:o,fetchUrl:r,fetchOptions:s,useFormData:h},p=l,new Promise(function(y,_){const w=new MessageChannel;w.port1.onmessage=function(T){T.data.error?_(new Error(T.data.error)):y(T.data),w.port1.close()},p.postMessage(d,[w.port2])});var d,p},XT=async(r,e,t,s,o,l,h=1e4)=>o?QT(r,e,t,s,h,o,l):qT(r,s,h);async function YT(r,e){var{baseUrl:t,timeout:s,audience:o,scope:l,auth0Client:h,useFormData:d}=r,p=lr(r,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const y=d?Rf(p):JSON.stringify(p);return await async function(_,w,T,C,O,L,x){let Q,X=null;for(let S=0;S<3;S++)try{Q=await XT(_,T,C,O,L,x,w),X=null;break}catch(k){X=k}if(X)throw X;const te=Q.json,{error:Y,error_description:pe}=te,oe=lr(te,["error","error_description"]),{ok:N}=Q;if(!N){const S=pe||`HTTP error. Unable to fetch ${_}`;throw Y==="mfa_required"?new KT(Y,S,oe.mfa_token):Y==="missing_refresh_token"?new hv(T,C):new pn(Y||"request_error",S)}return oe}(`${t}/oauth/token`,s,o||"default",l,{method:"POST",body:y,headers:{"Content-Type":d?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(h||iv))}},e,d)}const Fu=(...r)=>{return(e=r.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};let fs=class Pf{constructor(e,t="@@auth0spajs@@",s){this.prefix=t,this.suffix=s,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,s,o,l]=e.split("::");return new Pf({clientId:s,scope:l,audience:o},t)}static fromCacheEntry(e){const{scope:t,audience:s,client_id:o}=e;return new Pf({scope:t,audience:s,clientId:o})}};class JT{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}}let fv=class{constructor(){this.enclosedCache=function(){let e={};return{set(t,s){e[t]=s},get(t){const s=e[t];if(s)return s},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}},ZT=class{constructor(e,t,s){this.cache=e,this.keyManifest=t,this.nowProvider=s||sv}async setIdToken(e,t,s){var o;const l=this.getIdTokenCacheKey(e);await this.cache.set(l,{id_token:t,decodedToken:s}),await((o=this.keyManifest)===null||o===void 0?void 0:o.add(l))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const s=await this.get(e);return!s||!s.id_token||!s.decodedToken?void 0:{id_token:s.id_token,decodedToken:s.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var s;let o=await this.cache.get(e.toKey());if(!o){const d=await this.getCacheKeys();if(!d)return;const p=this.matchExistingCacheKey(e,d);p&&(o=await this.cache.get(p))}if(!o)return;const l=await this.nowProvider(),h=Math.floor(l/1e3);return o.expiresAt-t<h?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},await this.cache.set(e.toKey(),o),o.body):(await this.cache.remove(e.toKey()),void await((s=this.keyManifest)===null||s===void 0?void 0:s.remove(e.toKey()))):o.body}async set(e){var t;const s=new fs({clientId:e.client_id,scope:e.scope,audience:e.audience}),o=await this.wrapCacheEntry(e);await this.cache.set(s.toKey(),o),await((t=this.keyManifest)===null||t===void 0?void 0:t.add(s.toKey()))}async clear(e){var t;const s=await this.getCacheKeys();s&&(await s.filter(o=>!e||o.includes(e)).reduce(async(o,l)=>{await o,await this.cache.remove(l)},Promise.resolve()),await((t=this.keyManifest)===null||t===void 0?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new fs({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter(s=>{var o;const l=fs.fromKey(s),h=new Set(l.scope&&l.scope.split(" ")),d=((o=e.scope)===null||o===void 0?void 0:o.split(" "))||[],p=l.scope&&d.reduce((y,_)=>y&&h.has(_),!0);return l.prefix==="@@auth0spajs@@"&&l.clientId===e.clientId&&l.audience===e.audience&&p})[0]}},e1=class{constructor(e,t,s){this.storage=e,this.clientId=t,this.cookieDomain=s,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}};const Ua=r=>typeof r=="number",t1=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],n1=r=>{if(!r.id_token)throw new Error("ID token is required but missing");const e=(l=>{const h=l.split("."),[d,p,y]=h;if(h.length!==3||!d||!p||!y)throw new Error("ID token could not be decoded");const _=JSON.parse(Py(p)),w={__raw:l},T={};return Object.keys(_).forEach(C=>{w[C]=_[C],t1.includes(C)||(T[C]=_[C])}),{encoded:{header:d,payload:p,signature:y},header:JSON.parse(Py(d)),claims:w,user:T}})(r.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==r.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${r.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(r.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${r.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==r.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${r.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==r.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${r.aud}" but found "${e.claims.aud}"`);if(r.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==r.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${r.nonce}", found "${e.claims.nonce}"`)}if(r.max_age&&!Ua(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!Ua(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Ua(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const t=r.leeway||60,s=new Date(r.now||Date.now()),o=new Date(0);if(o.setUTCSeconds(e.claims.exp+t),s>o)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${s}) is after expiration time (${o})`);if(e.claims.nbf!=null&&Ua(e.claims.nbf)){const l=new Date(0);if(l.setUTCSeconds(e.claims.nbf-t),s<l)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${s}) is before ${l}`)}if(e.claims.auth_time!=null&&Ua(e.claims.auth_time)){const l=new Date(0);if(l.setUTCSeconds(parseInt(e.claims.auth_time)+r.max_age+t),s>l)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${s}) is after last auth at ${l}`)}if(r.organization){const l=r.organization.trim();if(l.startsWith("org_")){const h=l;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(h!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${h}", found "${e.claims.org_id}"`)}else{const h=l.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(h!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${h}", found "${e.claims.org_name}"`)}}return e};var ps=mp(function(r,e){var t=ds&&ds.__assign||function(){return t=Object.assign||function(p){for(var y,_=1,w=arguments.length;_<w;_++)for(var T in y=arguments[_])Object.prototype.hasOwnProperty.call(y,T)&&(p[T]=y[T]);return p},t.apply(this,arguments)};function s(p,y){if(!y)return"";var _="; "+p;return y===!0?_:_+"="+y}function o(p,y,_){return encodeURIComponent(p).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(y).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(w){if(typeof w.expires=="number"){var T=new Date;T.setMilliseconds(T.getMilliseconds()+864e5*w.expires),w.expires=T}return s("Expires",w.expires?w.expires.toUTCString():"")+s("Domain",w.domain)+s("Path",w.path)+s("Secure",w.secure)+s("SameSite",w.sameSite)}(_)}function l(p){for(var y={},_=p?p.split("; "):[],w=/(%[\dA-F]{2})+/gi,T=0;T<_.length;T++){var C=_[T].split("="),O=C.slice(1).join("=");O.charAt(0)==='"'&&(O=O.slice(1,-1));try{y[C[0].replace(w,decodeURIComponent)]=O.replace(w,decodeURIComponent)}catch{}}return y}function h(){return l(document.cookie)}function d(p,y,_){document.cookie=o(p,y,t({path:"/"},_))}e.__esModule=!0,e.encode=o,e.parse=l,e.getAll=h,e.get=function(p){return h()[p]},e.set=d,e.remove=function(p,y){d(p,"",t(t({},y),{expires:-1}))}});pp(ps),ps.encode,ps.parse,ps.getAll;var r1=ps.get,pv=ps.set,mv=ps.remove;const _o={get(r){const e=r1(r);if(e!==void 0)return JSON.parse(e)},save(r,e,t){let s={};window.location.protocol==="https:"&&(s={secure:!0,sameSite:"none"}),t!=null&&t.daysUntilExpire&&(s.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(s.domain=t.cookieDomain),pv(r,JSON.stringify(e),s)},remove(r,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),mv(r,t)}},i1={get(r){return _o.get(r)||_o.get(`_legacy_${r}`)},save(r,e,t){let s={};window.location.protocol==="https:"&&(s={secure:!0}),t!=null&&t.daysUntilExpire&&(s.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(s.domain=t.cookieDomain),pv(`_legacy_${r}`,JSON.stringify(e),s),_o.save(r,e,t)},remove(r,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),mv(r,t),_o.remove(r,e),_o.remove(`_legacy_${r}`,e)}},s1={get(r){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(r);return e!=null?JSON.parse(e):void 0},save(r,e){sessionStorage.setItem(r,JSON.stringify(e))},remove(r){sessionStorage.removeItem(r)}};function o1(r,e,t){var s=e===void 0?null:e,o=function(p,y){var _=atob(p);if(y){for(var w=new Uint8Array(_.length),T=0,C=_.length;T<C;++T)w[T]=_.charCodeAt(T);return String.fromCharCode.apply(null,new Uint16Array(w.buffer))}return _}(r,t!==void 0&&t),l=o.indexOf(`
`,10)+1,h=o.substring(l)+(s?"//# sourceMappingURL="+s:""),d=new Blob([h],{type:"application/javascript"});return URL.createObjectURL(d)}var xy,Ny,Dy,rf,a1=(xy="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",Ny=null,Dy=!1,function(r){return rf=rf||o1(xy,Ny,Dy),new Worker(rf,r)});const sf={};class l1{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const s=new Set(((t=await this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);s.add(e),await this.cache.set(this.manifestKey,{keys:[...s]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const s=new Set(t.keys);return s.delete(e),s.size>0?await this.cache.set(this.manifestKey,{keys:[...s]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const u1={memory:()=>new fv().enclosedCache,localstorage:()=>new JT},Oy=r=>u1[r],Vy=r=>{const{openUrl:e,onRedirect:t}=r,s=lr(r,["openUrl","onRedirect"]);return Object.assign(Object.assign({},s),{openUrl:e===!1||e?e:t})},of=new zT;let c1=class{constructor(e){let t,s;if(this.userCache=new fv().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await of.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!Yu())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Yu().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)s=e.cache;else{if(t=e.cacheLocation||"memory",!Oy(t))throw new Error(`Invalid cache location "${t}"`);s=Oy(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?_o:i1,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(h=>`auth0.${h}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const o=e.useCookiesForTransactions?this.cookieStorage:s1;var l;this.scope=Fu("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new e1(o,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||sv,this.cacheManager=new ZT(s,s.allKeys?void 0:new l1(s,this.options.clientId),this.nowProvider),this.domainUrl=(l=this.options.domain,/^https?:\/\//.test(l)?l:`https://${l}`),this.tokenIssuer=((h,d)=>h?h.startsWith("https://")?h:`https://${h}/`:`${d}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new a1)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||iv)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${Rf(e)}`)}async _verifyIdToken(e,t,s){const o=await this.nowProvider();return n1({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:s,leeway:this.options.leeway,max_age:(l=this.options.authorizationParams.max_age,typeof l!="string"?l:parseInt(l,10)||void 0),now:o});var l}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,s){const o=Ry(nf()),l=Ry(nf()),h=nf(),d=(_=>{const w=new Uint8Array(_);return(T=>{const C={"+":"-","/":"_","=":""};return T.replace(/[+/=]/g,O=>C[O])})(window.btoa(String.fromCharCode(...Array.from(w))))})(await(async _=>await Yu().subtle.digest({name:"SHA-256"},new TextEncoder().encode(_)))(h)),p=((_,w,T,C,O,L,x,Q)=>Object.assign(Object.assign(Object.assign({client_id:_.clientId},_.authorizationParams),T),{scope:Fu(w,T.scope),response_type:"code",response_mode:Q||"query",state:C,nonce:O,redirect_uri:x||_.authorizationParams.redirect_uri,code_challenge:L,code_challenge_method:"S256"}))(this.options,this.scope,e,o,l,d,e.redirect_uri||this.options.authorizationParams.redirect_uri||s,t==null?void 0:t.response_mode),y=this._authorizeUrl(p);return{nonce:l,code_verifier:h,scope:p.scope,audience:p.audience||"default",redirect_uri:p.redirect_uri,state:o,url:y}}async loginWithPopup(e,t){var s;if(e=e||{},!(t=t||{}).popup&&(t.popup=(d=>{const p=window.screenX+(window.innerWidth-400)/2,y=window.screenY+(window.innerHeight-600)/2;return window.open(d,"auth0:authorize:popup",`left=${p},top=${y},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const o=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=o.url;const l=await(d=>new Promise((p,y)=>{let _;const w=setInterval(()=>{d.popup&&d.popup.closed&&(clearInterval(w),clearTimeout(T),window.removeEventListener("message",_,!1),y(new HT(d.popup)))},1e3),T=setTimeout(()=>{clearInterval(w),y(new WT(d.popup)),window.removeEventListener("message",_,!1)},1e3*(d.timeoutInSeconds||60));_=function(C){if(C.data&&C.data.type==="authorization_response"){if(clearTimeout(T),clearInterval(w),window.removeEventListener("message",_,!1),d.popup.close(),C.data.response.error)return y(pn.fromPayload(C.data.response));p(C.data.response)}},window.addEventListener("message",_)}))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(o.state!==l.state)throw new pn("state_mismatch","Invalid state");const h=((s=e.authorizationParams)===null||s===void 0?void 0:s.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:"authorization_code",code:l.code,redirect_uri:o.redirect_uri},{nonceIn:o.nonce,organization:h})}async getUser(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var t;const s=Vy(e),{openUrl:o,fragment:l,appState:h}=s,d=lr(s,["openUrl","fragment","appState"]),p=((t=d.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,y=await this._prepareAuthorizeUrl(d.authorizationParams||{}),{url:_}=y,w=lr(y,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},w),{appState:h}),p&&{organization:p}));const T=l?`${_}#${l}`:_;o?await o(T):window.location.assign(T)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");const{state:s,code:o,error:l,error_description:h}=(w=>{w.indexOf("#")>-1&&(w=w.substring(0,w.indexOf("#")));const T=new URLSearchParams(w);return{state:T.get("state"),code:T.get("code")||void 0,error:T.get("error")||void 0,error_description:T.get("error_description")||void 0}})(t.join("")),d=this.transactionManager.get();if(!d)throw new pn("missing_transaction","Invalid state");if(this.transactionManager.remove(),l)throw new $T(l,h||l,s,d.appState);if(!d.code_verifier||d.state&&d.state!==s)throw new pn("state_mismatch","Invalid state");const p=d.organization,y=d.nonce,_=d.redirect_uri;return await this._requestToken(Object.assign({audience:d.audience,scope:d.scope,code_verifier:d.code_verifier,grant_type:"authorization_code",code:o},_?{redirect_uri:_}:{}),{nonceIn:y,organization:p}),{appState:d.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var t;const s=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Fu(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope)})}),o=await((l,h)=>{let d=sf[h];return d||(d=l().finally(()=>{delete sf[h],d=null}),sf[h]=d),d})(()=>this._getTokenSilently(s),`${this.options.clientId}::${s.authorizationParams.audience}::${s.authorizationParams.scope}`);return e.detailedResponse?o:o==null?void 0:o.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,s=lr(e,["cacheMode"]);if(t!=="off"){const o=await this._getEntryFromCache({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId});if(o)return o}if(t!=="cache-only"){if(!await(async(o,l=3)=>{for(let h=0;h<l;h++)if(await o())return!0;return!1})(()=>of.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new kf;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),t!=="off"){const y=await this._getEntryFromCache({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId});if(y)return y}const o=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(s):await this._getTokenFromIFrame(s),{id_token:l,access_token:h,oauthTokenScope:d,expires_in:p}=o;return Object.assign(Object.assign({id_token:l,access_token:h},d?{scope:d}:null),{expires_in:p})}finally{await of.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var s;const o=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Fu(this.scope,(s=e.authorizationParams)===null||s===void 0?void 0:s.scope)})});return t=Object.assign(Object.assign({},BT),t),await this.loginWithPopup(o,t),(await this.cacheManager.get(new fs({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:s}=t,o=lr(t,["federated"]),l=s?"&federated":"";return this._url(`/v2/logout?${Rf(Object.assign({clientId:e.clientId},o))}`)+l}async logout(e={}){const t=Vy(e),{openUrl:s}=t,o=lr(t,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const l=this._buildLogoutUrl(o);s?await s(l):s!==!1&&window.location.assign(l)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),s=this.cookieStorage.get(this.orgHintCookieName);s&&!t.organization&&(t.organization=s);const{url:o,state:l,nonce:h,code_verifier:d,redirect_uri:p,scope:y,audience:_}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new pn("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const w=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,T=await((O,L,x=60)=>new Promise((Q,X)=>{const te=window.document.createElement("iframe");te.setAttribute("width","0"),te.setAttribute("height","0"),te.style.display="none";const Y=()=>{window.document.body.contains(te)&&(window.document.body.removeChild(te),window.removeEventListener("message",pe,!1))};let pe;const oe=setTimeout(()=>{X(new kf),Y()},1e3*x);pe=function(N){if(N.origin!=L||!N.data||N.data.type!=="authorization_response")return;const S=N.source;S&&S.close(),N.data.response.error?X(pn.fromPayload(N.data.response)):Q(N.data.response),clearTimeout(oe),window.removeEventListener("message",pe,!1),setTimeout(Y,2e3)},window.addEventListener("message",pe,!1),window.document.body.appendChild(te),te.setAttribute("src",O)}))(o,this.domainUrl,w);if(l!==T.state)throw new pn("state_mismatch","Invalid state");const C=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:d,code:T.code,grant_type:"authorization_code",redirect_uri:p,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:h,organization:t.organization});return Object.assign(Object.assign({},C),{scope:y,oauthTokenScope:C.scope,audience:_})}catch(w){throw w.error==="login_required"&&this.logout({openUrl:!1}),w}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new fs({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new hv(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const s=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,o=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const l=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:s}),o&&{timeout:o}));return Object.assign(Object.assign({},l),{scope:e.authorizationParams.scope,oauthTokenScope:l.scope,audience:e.authorizationParams.audience||"default"})}catch(l){if((l.message.indexOf("Missing Refresh Token")>-1||l.message&&l.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw l}}async _saveEntryInCache(e){const{id_token:t,decodedToken:s}=e,o=lr(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:s}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(o)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=await this.cacheManager.getIdToken(new fs({clientId:this.options.clientId,audience:e,scope:this.scope})),s=this.userCache.get("@@user@@");return t&&t.id_token===(s==null?void 0:s.id_token)?s:(this.userCache.set("@@user@@",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:s}){const o=await this.cacheManager.get(new fs({scope:e,audience:t,clientId:s}),60);if(o&&o.access_token){const{access_token:l,oauthTokenScope:h,expires_in:d}=o,p=await this._getIdTokenFromCache();return p&&Object.assign(Object.assign({id_token:p.id_token,access_token:l},h?{scope:h}:null),{expires_in:d})}}async _requestToken(e,t){const{nonceIn:s,organization:o}=t||{},l=await YT(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),h=await this._verifyIdToken(l.id_token,s,o);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},l),{decodedToken:h,scope:e.scope,audience:e.audience||"default"}),l.scope?{oauthTokenScope:l.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(o||h.claims.org_id),Object.assign(Object.assign({},l),{decodedToken:h})}};var gv={isAuthenticated:!1,isLoading:!0},Nr=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},h1=kt(kt({},gv),{buildAuthorizeUrl:Nr,buildLogoutUrl:Nr,getAccessTokenSilently:Nr,getAccessTokenWithPopup:Nr,getIdTokenClaims:Nr,loginWithRedirect:Nr,loginWithPopup:Nr,logout:Nr,handleRedirectCallback:Nr}),yv=W.createContext(h1),by=function(r){FT(e,r);function e(t,s){var o=r.call(this,s||t)||this;return o.error=t,o.error_description=s,Object.setPrototypeOf(o,e.prototype),o}return e}(Error),d1=/[?&]code=[^&]+/,f1=/[?&]state=[^&]+/,p1=/[?&]error=[^&]+/,m1=function(r){return r===void 0&&(r=window.location.search),(d1.test(r)||p1.test(r))&&f1.test(r)},_v=function(r){return function(e){return e instanceof Error?e:e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"?"error_description"in e&&typeof e.error_description=="string"?new by(e.error,e.error_description):new by(e.error):new Error(r)}},Ly=_v("Login failed"),af=_v("Get access token failed"),vv=function(r){var e;r!=null&&r.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),r.authorizationParams=r.authorizationParams||{},r.authorizationParams.redirect_uri=r.redirectUri,delete r.redirectUri),!((e=r==null?void 0:r.authorizationParams)===null||e===void 0)&&e.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),r.authorizationParams.redirect_uri=r.authorizationParams.redirectUri,delete r.authorizationParams.redirectUri)},g1=function(r,e){switch(e.type){case"LOGIN_POPUP_STARTED":return kt(kt({},r),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return kt(kt({},r),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return r.user===e.user?r:kt(kt({},r),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return kt(kt({},r),{isAuthenticated:!1,user:void 0});case"ERROR":return kt(kt({},r),{isLoading:!1,error:e.error})}},y1=function(r){return vv(r),kt(kt({},r),{auth0Client:{name:"auth0-react",version:"2.3.0"}})},_1=function(r){window.history.replaceState({},document.title,(r==null?void 0:r.returnTo)||window.location.pathname)},v1=function(r){var e=r.children,t=r.skipRedirectCallback,s=r.onRedirectCallback,o=s===void 0?_1:s,l=r.context,h=l===void 0?yv:l,d=UT(r,["children","skipRedirectCallback","onRedirectCallback","context"]),p=W.useState(function(){return new c1(y1(d))})[0],y=W.useReducer(g1,gv),_=y[0],w=y[1],T=W.useRef(!1),C=W.useCallback(function(oe){return w({type:"ERROR",error:oe}),oe},[]);W.useEffect(function(){T.current||(T.current=!0,function(){return go(void 0,void 0,void 0,function(){var oe,N,S;return yo(this,function(k){switch(k.label){case 0:return k.trys.push([0,7,,8]),oe=void 0,m1()&&!t?[4,p.handleRedirectCallback()]:[3,3];case 1:return N=k.sent().appState,[4,p.getUser()];case 2:return oe=k.sent(),o(N,oe),[3,6];case 3:return[4,p.checkSession()];case 4:return k.sent(),[4,p.getUser()];case 5:oe=k.sent(),k.label=6;case 6:return w({type:"INITIALISED",user:oe}),[3,8];case 7:return S=k.sent(),C(Ly(S)),[3,8];case 8:return[2]}})})}())},[p,o,t,C]);var O=W.useCallback(function(oe){return vv(oe),p.loginWithRedirect(oe)},[p]),L=W.useCallback(function(oe,N){return go(void 0,void 0,void 0,function(){var S,k;return yo(this,function(P){switch(P.label){case 0:w({type:"LOGIN_POPUP_STARTED"}),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,p.loginWithPopup(oe,N)];case 2:return P.sent(),[3,4];case 3:return S=P.sent(),C(Ly(S)),[2];case 4:return[4,p.getUser()];case 5:return k=P.sent(),w({type:"LOGIN_POPUP_COMPLETE",user:k}),[2]}})})},[p]),x=W.useCallback(function(oe){return oe===void 0&&(oe={}),go(void 0,void 0,void 0,function(){return yo(this,function(N){switch(N.label){case 0:return[4,p.logout(oe)];case 1:return N.sent(),(oe.openUrl||oe.openUrl===!1)&&w({type:"LOGOUT"}),[2]}})})},[p]),Q=W.useCallback(function(oe){return go(void 0,void 0,void 0,function(){var N,S,k,P;return yo(this,function(V){switch(V.label){case 0:return V.trys.push([0,2,3,5]),[4,p.getTokenSilently(oe)];case 1:return N=V.sent(),[3,5];case 2:throw S=V.sent(),af(S);case 3:return k=w,P={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,p.getUser()];case 4:return k.apply(void 0,[(P.user=V.sent(),P)]),[7];case 5:return[2,N]}})})},[p]),X=W.useCallback(function(oe,N){return go(void 0,void 0,void 0,function(){var S,k,P,V;return yo(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,3,5]),[4,p.getTokenWithPopup(oe,N)];case 1:return S=M.sent(),[3,5];case 2:throw k=M.sent(),af(k);case 3:return P=w,V={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,p.getUser()];case 4:return P.apply(void 0,[(V.user=M.sent(),V)]),[7];case 5:return[2,S]}})})},[p]),te=W.useCallback(function(){return p.getIdTokenClaims()},[p]),Y=W.useCallback(function(oe){return go(void 0,void 0,void 0,function(){var N,S,k;return yo(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,3,5]),[4,p.handleRedirectCallback(oe)];case 1:return[2,P.sent()];case 2:throw N=P.sent(),af(N);case 3:return S=w,k={type:"HANDLE_REDIRECT_COMPLETE"},[4,p.getUser()];case 4:return S.apply(void 0,[(k.user=P.sent(),k)]),[7];case 5:return[2]}})})},[p]),pe=W.useMemo(function(){return kt(kt({},_),{getAccessTokenSilently:Q,getAccessTokenWithPopup:X,getIdTokenClaims:te,loginWithRedirect:O,loginWithPopup:L,logout:x,handleRedirectCallback:Y})},[_,Q,X,te,O,L,x,Y]);return Mr.createElement(h.Provider,{value:pe},e)},gl=function(r){return r===void 0&&(r=yv),W.useContext(r)},My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},w1=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,_=l>>2,w=(l&3)<<4|d>>4;let T=(d&15)<<2|y>>6,C=y&63;p||(C=64,h||(T=64)),s.push(t[_],t[w],t[T],t[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):w1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||y==null||w==null)throw new E1;const T=l<<2|d>>4;if(s.push(T),y!==64){const C=d<<4&240|y>>2;if(s.push(C),w!==64){const O=y<<6&192|w;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class E1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T1=function(r){const e=wv(r);return Ev.encodeByteArray(e,!0)},uc=function(r){return T1(r).replace(/\./g,"")},I1=function(r){try{return Ev.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=()=>S1().__FIREBASE_DEFAULTS__,A1=()=>{if(typeof process>"u"||typeof My>"u")return;const r=My.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},k1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&I1(r[1]);return e&&JSON.parse(e)},gp=()=>{try{return C1()||A1()||k1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},R1=r=>{var e,t;return(t=(e=gp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},P1=r=>{const e=R1(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Tv=()=>{var r;return(r=gp())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[uc(JSON.stringify(t)),uc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O1(){var r;const e=(r=gp())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V1(){return!O1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b1(){try{return typeof indexedDB=="object"}catch{return!1}}function L1(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="FirebaseError";class jo extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=M1,Object.setPrototypeOf(this,jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iv.prototype.create)}}class Iv{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?j1(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new jo(o,d,s)}}function j1(r,e){return r.replace(F1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const F1=/\{\$([^}]+)}/g;function cc(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(jy(l)&&jy(h)){if(!cc(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function jy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(r){return r&&r._delegate?r._delegate:r}class ol{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new x1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B1(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:z1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z1(r){return r===hs?void 0:r}function B1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new U1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const W1={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},H1=Me.INFO,K1={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},G1=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=K1[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sv{constructor(e){this.name=e,this._logLevel=H1,this._logHandler=G1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const q1=(r,e)=>e.some(t=>r instanceof t);let Fy,Uy;function Q1(){return Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X1(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cv=new WeakMap,xf=new WeakMap,Av=new WeakMap,lf=new WeakMap,yp=new WeakMap;function Y1(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(wi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Cv.set(t,r)}).catch(()=>{}),yp.set(e,r),e}function J1(r){if(xf.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});xf.set(r,e)}let Nf={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return xf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Av.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Z1(r){Nf=r(Nf)}function eI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(uf(this),e,...t);return Av.set(s,e.sort?e.sort():[e]),wi(s)}:X1().includes(r)?function(...e){return r.apply(uf(this),e),wi(Cv.get(this))}:function(...e){return wi(r.apply(uf(this),e))}}function tI(r){return typeof r=="function"?eI(r):(r instanceof IDBTransaction&&J1(r),q1(r,Q1())?new Proxy(r,Nf):r)}function wi(r){if(r instanceof IDBRequest)return Y1(r);if(lf.has(r))return lf.get(r);const e=tI(r);return e!==r&&(lf.set(r,e),yp.set(e,r)),e}const uf=r=>yp.get(r);function nI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),d=wi(h);return s&&h.addEventListener("upgradeneeded",p=>{s(wi(h.result),p.oldVersion,p.newVersion,wi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const rI=["get","getKey","getAll","getAllKeys","count"],iI=["put","add","delete","clear"],cf=new Map;function zy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(cf.get(e))return cf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=iI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||rI.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return cf.set(e,l),l}Z1(r=>({...r,get:(e,t,s)=>zy(e,t)||r.get(e,t,s),has:(e,t)=>!!zy(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function oI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Df="@firebase/app",By="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Sv("@firebase/app"),aI="@firebase/app-compat",lI="@firebase/analytics-compat",uI="@firebase/analytics",cI="@firebase/app-check-compat",hI="@firebase/app-check",dI="@firebase/auth",fI="@firebase/auth-compat",pI="@firebase/database",mI="@firebase/data-connect",gI="@firebase/database-compat",yI="@firebase/functions",_I="@firebase/functions-compat",vI="@firebase/installations",wI="@firebase/installations-compat",EI="@firebase/messaging",TI="@firebase/messaging-compat",II="@firebase/performance",SI="@firebase/performance-compat",CI="@firebase/remote-config",AI="@firebase/remote-config-compat",kI="@firebase/storage",RI="@firebase/storage-compat",PI="@firebase/firestore",xI="@firebase/vertexai",NI="@firebase/firestore-compat",DI="firebase",OI="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]",VI={[Df]:"fire-core",[aI]:"fire-core-compat",[uI]:"fire-analytics",[lI]:"fire-analytics-compat",[hI]:"fire-app-check",[cI]:"fire-app-check-compat",[dI]:"fire-auth",[fI]:"fire-auth-compat",[pI]:"fire-rtdb",[mI]:"fire-data-connect",[gI]:"fire-rtdb-compat",[yI]:"fire-fn",[_I]:"fire-fn-compat",[vI]:"fire-iid",[wI]:"fire-iid-compat",[EI]:"fire-fcm",[TI]:"fire-fcm-compat",[II]:"fire-perf",[SI]:"fire-perf-compat",[CI]:"fire-rc",[AI]:"fire-rc-compat",[kI]:"fire-gcs",[RI]:"fire-gcs-compat",[PI]:"fire-fst",[NI]:"fire-fst-compat",[xI]:"fire-vertex","fire-js":"fire-js",[DI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,bI=new Map,Vf=new Map;function $y(r,e){try{r.container.addComponent(e)}catch(t){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function dc(r){const e=r.name;if(Vf.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Vf.set(e,r);for(const t of hc.values())$y(t,r);for(const t of bI.values())$y(t,r);return!0}function LI(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Iv("app","Firebase",MI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=OI;function kv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Of,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Ei.create("bad-app-name",{appName:String(o)});if(t||(t=Tv()),!t)throw Ei.create("no-options");const l=hc.get(o);if(l){if(cc(t,l.options)&&cc(s,l.config))return l;throw Ei.create("duplicate-app",{appName:o})}const h=new $1(o);for(const p of Vf.values())h.addComponent(p);const d=new jI(t,s,h);return hc.set(o,d),d}function UI(r=Of){const e=hc.get(r);if(!e&&r===Of&&Tv())return kv();if(!e)throw Ei.create("no-app",{appName:r});return e}function So(r,e,t){var s;let o=(s=VI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(d.join(" "));return}dc(new ol(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firebase-heartbeat-database",BI=1,al="firebase-heartbeat-store";let hf=null;function Rv(){return hf||(hf=nI(zI,BI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(al)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ei.create("idb-open",{originalErrorMessage:r.message})})),hf}async function $I(r){try{const t=(await Rv()).transaction(al),s=await t.objectStore(al).get(Pv(r));return await t.done,s}catch(e){if(e instanceof jo)jr.warn(e.message);else{const t=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(t.message)}}}async function Wy(r,e){try{const s=(await Rv()).transaction(al,"readwrite");await s.objectStore(al).put(e,Pv(r)),await s.done}catch(t){if(t instanceof jo)jr.warn(t.message);else{const s=Ei.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});jr.warn(s.message)}}}function Pv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=1024,HI=30*24*60*60*1e3;class KI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Hy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=HI}),this._storage.overwrite(this._heartbeatsCache))}catch(s){jr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hy(),{heartbeatsToSend:s,unsentEntries:o}=GI(this._heartbeatsCache.heartbeats),l=uc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return jr.warn(t),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function GI(r,e=WI){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Ky(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ky(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class qI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b1()?L1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $I(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ky(r){return uc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r){dc(new ol("platform-logger",e=>new sI(e),"PRIVATE")),dc(new ol("heartbeat",e=>new KI(e),"PRIVATE")),So(Df,By,r),So(Df,By,"esm2017"),So("fire-js","")}QI("");var Gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,xv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function k(){}k.prototype=S.prototype,N.D=S.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(P,V,M){for(var R=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)R[qe-2]=arguments[qe];return S.prototype[V].apply(P,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,k){k||(k=0);var P=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)P[V]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(V=0;16>V;++V)P[V]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=N.g[0],k=N.g[1],V=N.g[2];var M=N.g[3],R=S+(M^k&(V^M))+P[0]+3614090360&4294967295;S=k+(R<<7&4294967295|R>>>25),R=M+(V^S&(k^V))+P[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(k^M&(S^k))+P[2]+606105819&4294967295,V=M+(R<<17&4294967295|R>>>15),R=k+(S^V&(M^S))+P[3]+3250441966&4294967295,k=V+(R<<22&4294967295|R>>>10),R=S+(M^k&(V^M))+P[4]+4118548399&4294967295,S=k+(R<<7&4294967295|R>>>25),R=M+(V^S&(k^V))+P[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(k^M&(S^k))+P[6]+2821735955&4294967295,V=M+(R<<17&4294967295|R>>>15),R=k+(S^V&(M^S))+P[7]+4249261313&4294967295,k=V+(R<<22&4294967295|R>>>10),R=S+(M^k&(V^M))+P[8]+1770035416&4294967295,S=k+(R<<7&4294967295|R>>>25),R=M+(V^S&(k^V))+P[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(k^M&(S^k))+P[10]+4294925233&4294967295,V=M+(R<<17&4294967295|R>>>15),R=k+(S^V&(M^S))+P[11]+2304563134&4294967295,k=V+(R<<22&4294967295|R>>>10),R=S+(M^k&(V^M))+P[12]+1804603682&4294967295,S=k+(R<<7&4294967295|R>>>25),R=M+(V^S&(k^V))+P[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(k^M&(S^k))+P[14]+2792965006&4294967295,V=M+(R<<17&4294967295|R>>>15),R=k+(S^V&(M^S))+P[15]+1236535329&4294967295,k=V+(R<<22&4294967295|R>>>10),R=S+(V^M&(k^V))+P[1]+4129170786&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^V&(S^k))+P[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^k&(M^S))+P[11]+643717713&4294967295,V=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(V^M))+P[0]+3921069994&4294967295,k=V+(R<<20&4294967295|R>>>12),R=S+(V^M&(k^V))+P[5]+3593408605&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^V&(S^k))+P[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^k&(M^S))+P[15]+3634488961&4294967295,V=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(V^M))+P[4]+3889429448&4294967295,k=V+(R<<20&4294967295|R>>>12),R=S+(V^M&(k^V))+P[9]+568446438&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^V&(S^k))+P[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^k&(M^S))+P[3]+4107603335&4294967295,V=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(V^M))+P[8]+1163531501&4294967295,k=V+(R<<20&4294967295|R>>>12),R=S+(V^M&(k^V))+P[13]+2850285829&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^V&(S^k))+P[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^k&(M^S))+P[7]+1735328473&4294967295,V=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(V^M))+P[12]+2368359562&4294967295,k=V+(R<<20&4294967295|R>>>12),R=S+(k^V^M)+P[5]+4294588738&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^V)+P[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^k)+P[11]+1839030562&4294967295,V=M+(R<<16&4294967295|R>>>16),R=k+(V^M^S)+P[14]+4259657740&4294967295,k=V+(R<<23&4294967295|R>>>9),R=S+(k^V^M)+P[1]+2763975236&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^V)+P[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^k)+P[7]+4139469664&4294967295,V=M+(R<<16&4294967295|R>>>16),R=k+(V^M^S)+P[10]+3200236656&4294967295,k=V+(R<<23&4294967295|R>>>9),R=S+(k^V^M)+P[13]+681279174&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^V)+P[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^k)+P[3]+3572445317&4294967295,V=M+(R<<16&4294967295|R>>>16),R=k+(V^M^S)+P[6]+76029189&4294967295,k=V+(R<<23&4294967295|R>>>9),R=S+(k^V^M)+P[9]+3654602809&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^V)+P[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^k)+P[15]+530742520&4294967295,V=M+(R<<16&4294967295|R>>>16),R=k+(V^M^S)+P[2]+3299628645&4294967295,k=V+(R<<23&4294967295|R>>>9),R=S+(V^(k|~M))+P[0]+4096336452&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~V))+P[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~k))+P[14]+2878612391&4294967295,V=M+(R<<15&4294967295|R>>>17),R=k+(M^(V|~S))+P[5]+4237533241&4294967295,k=V+(R<<21&4294967295|R>>>11),R=S+(V^(k|~M))+P[12]+1700485571&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~V))+P[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~k))+P[10]+4293915773&4294967295,V=M+(R<<15&4294967295|R>>>17),R=k+(M^(V|~S))+P[1]+2240044497&4294967295,k=V+(R<<21&4294967295|R>>>11),R=S+(V^(k|~M))+P[8]+1873313359&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~V))+P[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~k))+P[6]+2734768916&4294967295,V=M+(R<<15&4294967295|R>>>17),R=k+(M^(V|~S))+P[13]+1309151649&4294967295,k=V+(R<<21&4294967295|R>>>11),R=S+(V^(k|~M))+P[4]+4149444226&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~V))+P[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~k))+P[2]+718787259&4294967295,V=M+(R<<15&4294967295|R>>>17),R=k+(M^(V|~S))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var k=S-this.blockSize,P=this.B,V=this.h,M=0;M<S;){if(V==0)for(;M<=k;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<S;)if(P[V++]=N.charCodeAt(M++),V==this.blockSize){o(this,P),V=0;break}}else for(;M<S;)if(P[V++]=N[M++],V==this.blockSize){o(this,P),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var k=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=k&255,k/=256;for(this.u(N),N=Array(16),S=k=0;4>S;++S)for(var P=0;32>P;P+=8)N[k++]=this.g[S]>>>P&255;return N};function l(N,S){var k=d;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=S(N)}function h(N,S){this.h=S;for(var k=[],P=!0,V=N.length-1;0<=V;V--){var M=N[V]|0;P&&M==S||(k[V]=M,P=!1)}this.g=k}var d={};function p(N){return-128<=N&&128>N?l(N,function(S){return new h([S|0],0>S?-1:0)}):new h([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return x(y(-N));for(var S=[],k=1,P=0;N>=k;P++)S[P]=N/k|0,k*=4294967296;return new h(S,0)}function _(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return x(_(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(S,8)),P=w,V=0;V<N.length;V+=8){var M=Math.min(8,N.length-V),R=parseInt(N.substring(V,V+M),S);8>M?(M=y(Math.pow(S,M)),P=P.j(M).add(y(R))):(P=P.j(k),P=P.add(y(R)))}return P}var w=p(0),T=p(1),C=p(16777216);r=h.prototype,r.m=function(){if(L(this))return-x(this).m();for(var N=0,S=1,k=0;k<this.g.length;k++){var P=this.i(k);N+=(0<=P?P:4294967296+P)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O(this))return"0";if(L(this))return"-"+x(this).toString(N);for(var S=y(Math.pow(N,6)),k=this,P="";;){var V=Y(k,S).g;k=Q(k,V.j(S));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=V,O(k))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function O(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function L(N){return N.h==-1}r.l=function(N){return N=Q(this,N),L(N)?-1:O(N)?0:1};function x(N){for(var S=N.g.length,k=[],P=0;P<S;P++)k[P]=~N.g[P];return new h(k,~N.h).add(T)}r.abs=function(){return L(this)?x(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],P=0,V=0;V<=S;V++){var M=P+(this.i(V)&65535)+(N.i(V)&65535),R=(M>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);P=R>>>16,M&=65535,R&=65535,k[V]=R<<16|M}return new h(k,k[k.length-1]&-2147483648?-1:0)};function Q(N,S){return N.add(x(S))}r.j=function(N){if(O(this)||O(N))return w;if(L(this))return L(N)?x(this).j(x(N)):x(x(this).j(N));if(L(N))return x(this.j(x(N)));if(0>this.l(C)&&0>N.l(C))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,k=[],P=0;P<2*S;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<N.g.length;V++){var M=this.i(P)>>>16,R=this.i(P)&65535,qe=N.i(V)>>>16,ot=N.i(V)&65535;k[2*P+2*V]+=R*ot,X(k,2*P+2*V),k[2*P+2*V+1]+=M*ot,X(k,2*P+2*V+1),k[2*P+2*V+1]+=R*qe,X(k,2*P+2*V+1),k[2*P+2*V+2]+=M*qe,X(k,2*P+2*V+2)}for(P=0;P<S;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=S;P<2*S;P++)k[P]=0;return new h(k,0)};function X(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function te(N,S){this.g=N,this.h=S}function Y(N,S){if(O(S))throw Error("division by zero");if(O(N))return new te(w,w);if(L(N))return S=Y(x(N),S),new te(x(S.g),x(S.h));if(L(S))return S=Y(N,x(S)),new te(x(S.g),S.h);if(30<N.g.length){if(L(N)||L(S))throw Error("slowDivide_ only works with positive integers.");for(var k=T,P=S;0>=P.l(N);)k=pe(k),P=pe(P);var V=oe(k,1),M=oe(P,1);for(P=oe(P,2),k=oe(k,2);!O(P);){var R=M.add(P);0>=R.l(N)&&(V=V.add(k),M=R),P=oe(P,1),k=oe(k,1)}return S=Q(N,V.j(S)),new te(V,S)}for(V=w;0<=N.l(S);){for(k=Math.max(1,Math.floor(N.m()/S.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=y(k),R=M.j(S);L(R)||0<R.l(N);)k-=P,M=y(k),R=M.j(S);O(M)&&(M=T),V=V.add(M),N=Q(N,R)}return new te(V,N)}r.A=function(N){return Y(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)&N.i(P);return new h(k,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)|N.i(P);return new h(k,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)^N.i(P);return new h(k,this.h^N.h)};function pe(N){for(var S=N.g.length+1,k=[],P=0;P<S;P++)k[P]=N.i(P)<<1|N.i(P-1)>>>31;return new h(k,N.h)}function oe(N,S){var k=S>>5;S%=32;for(var P=N.g.length-k,V=[],M=0;M<P;M++)V[M]=0<S?N.i(M+k)>>>S|N.i(M+k+1)<<32-S:N.i(M+k);return new h(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xv=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,Ti=h}).apply(typeof Gy<"u"?Gy:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nv,Ba,Dv,Ju,bf,Ov,Vv,bv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var v=s;u=u.split(".");for(var I=0;I<u.length-1;I++){var F=u[I];if(!(F in v))break e;v=v[F]}u=u[u.length-1],I=v[u],m=m(I),m!=I&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,I=!1,F={next:function(){if(!I&&v<u.length){var $=v++;return{value:m($,u[$]),done:!1}}return I=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function w(u,m,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,I),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function T(u,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function C(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function O(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,F,$){for(var ie=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ie[$e-2]=arguments[$e];return m.prototype[F].apply(I,ie)}}function L(u){const m=u.length;if(0<m){const v=Array(m);for(let I=0;I<m;I++)v[I]=u[I];return v}return[]}function x(u,m){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(p(I)){const F=u.length||0,$=I.length||0;u.length=F+$;for(let ie=0;ie<$;ie++)u[F+ie]=I[ie]}else u.push(I)}}class Q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){return/^[\s\xa0]*$/.test(u)}function te(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var pe=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function oe(u,m,v){for(const I in u)m.call(v,u[I],I,u)}function N(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let v,I;for(let F=1;F<arguments.length;F++){I=arguments[F];for(v in I)u[v]=I[v];for(let $=0;$<k.length;$++)v=k[$],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function M(u){d.setTimeout(()=>{throw u},0)}function R(){var u=_e;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class qe{constructor(){this.h=this.g=null}add(m,v){const I=ot.get();I.set(m,v),this.h?this.h.next=I:this.g=I,this.h=I}}var ot=new Q(()=>new et,u=>u.reset());class et{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,se=!1,_e=new qe,le=()=>{const u=d.Promise.resolve(void 0);Oe=()=>{u.then(j)}};var j=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(v){M(v)}var m=ot;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function ke(u,m){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pe){e:{try{Y(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}O(ke,ge);var Ve={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ze=0;function He(u,m,v,I,F){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!I,this.ha=F,this.key=++ze,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fr(u){this.src=u,this.g={},this.h=0}fr.prototype.add=function(u,m,v,I,F){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ie=Br(u,m,I,F);return-1<ie?(m=u[ie],v||(m.fa=!1)):(m=new He(m,this.src,$,!!I,F),m.fa=v,u.push(m)),m};function Is(u,m){var v=m.type;if(v in u.g){var I=u.g[v],F=Array.prototype.indexOf.call(I,m,void 0),$;($=0<=F)&&Array.prototype.splice.call(I,F,1),$&&(Tt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Br(u,m,v,I){for(var F=0;F<u.length;++F){var $=u[F];if(!$.da&&$.listener==m&&$.capture==!!v&&$.ha==I)return F}return-1}var Li="closure_lm_"+(1e6*Math.random()|0),Ss={};function Ho(u,m,v,I,F){if(Array.isArray(m)){for(var $=0;$<m.length;$++)Ho(u,m[$],v,I,F);return null}return v=qo(v),u&&u[Ue]?u.K(m,v,y(I)?!!I.capture:!1,F):Ko(u,m,v,!1,I,F)}function Ko(u,m,v,I,F,$){if(!m)throw Error("Invalid event type");var ie=y(F)?!!F.capture:!!F,$e=As(u);if($e||(u[Li]=$e=new fr(u)),v=$e.add(m,v,I,ie,$),v.proxy)return v;if(I=Il(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)Ae||(F=ie),F===void 0&&(F=!1),u.addEventListener(m.toString(),I,F);else if(u.attachEvent)u.attachEvent(mr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Il(){function u(v){return m.call(u.src,u.listener,v)}const m=Go;return u}function Cs(u,m,v,I,F){if(Array.isArray(m))for(var $=0;$<m.length;$++)Cs(u,m[$],v,I,F);else I=y(I)?!!I.capture:!!I,v=qo(v),u&&u[Ue]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],v=Br($,v,I,F),-1<v&&(Tt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=As(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Br(m,v,I,F)),(v=-1<u?m[u]:null)&&pr(v))}function pr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ue])Is(m.i,u);else{var v=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(v,I,u.capture):m.detachEvent?m.detachEvent(mr(v),I):m.addListener&&m.removeListener&&m.removeListener(I),(v=As(m))?(Is(v,u),v.h==0&&(v.src=null,m[Li]=null)):Tt(u)}}}function mr(u){return u in Ss?Ss[u]:Ss[u]="on"+u}function Go(u,m){if(u.da)u=!0;else{m=new ke(m,this);var v=u.listener,I=u.ha||u.src;u.fa&&pr(u),u=v.call(I,m)}return u}function As(u){return u=u[Li],u instanceof fr?u:null}var ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(u){return typeof u=="function"?u:(u[ks]||(u[ks]=function(m){return u.handleEvent(m)}),u[ks])}function mt(){G.call(this),this.i=new fr(this),this.M=this,this.F=null}O(mt,G),mt.prototype[Ue]=!0,mt.prototype.removeEventListener=function(u,m,v,I){Cs(this,u,m,v,I)};function gt(u,m){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new ge(m,u);else if(m instanceof ge)m.target=m.target||u;else{var F=m;m=new ge(I,u),P(m,F)}if(F=!0,v)for(var $=v.length-1;0<=$;$--){var ie=m.g=v[$];F=gr(ie,I,!0,m)&&F}if(ie=m.g=u,F=gr(ie,I,!0,m)&&F,F=gr(ie,I,!1,m)&&F,v)for($=0;$<v.length;$++)ie=m.g=v[$],F=gr(ie,I,!1,m)&&F}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],I=0;I<v.length;I++)Tt(v[I]);delete u.g[m],u.h--}}this.F=null},mt.prototype.K=function(u,m,v,I){return this.i.add(String(u),m,!1,v,I)},mt.prototype.L=function(u,m,v,I){return this.i.add(String(u),m,!0,v,I)};function gr(u,m,v,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,$=0;$<m.length;++$){var ie=m[$];if(ie&&!ie.da&&ie.capture==v){var $e=ie.listener,yt=ie.ha||ie.src;ie.fa&&Is(u.i,ie),F=$e.call(yt,I)!==!1&&F}}return F&&!I.defaultPrevented}function Qo(u,m,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function $r(u){u.g=Qo(()=>{u.g=null,u.i&&(u.i=!1,$r(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Mi extends G{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(u){G.call(this),this.h=u,this.g={}}O(ji,G);var Xo=[];function Yo(u){oe(u.g,function(m,v){this.g.hasOwnProperty(v)&&pr(m)},u),u.g={}}ji.prototype.N=function(){ji.aa.N.call(this),Yo(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jo=d.JSON.stringify,Zo=d.JSON.parse,ea=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fi(){}Fi.prototype.h=null;function Rs(u){return u.h||(u.h=u.i())}function Ps(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){ge.call(this,"d")}O(qn,ge);function xs(){ge.call(this,"c")}O(xs,ge);var Qn={},ta=null;function Ui(){return ta=ta||new mt}Qn.La="serverreachability";function na(u){ge.call(this,Qn.La,u)}O(na,ge);function yr(u){const m=Ui();gt(m,new na(m))}Qn.STAT_EVENT="statevent";function ra(u,m){ge.call(this,Qn.STAT_EVENT,u),this.stat=m}O(ra,ge);function at(u){const m=Ui();gt(m,new ra(m,u))}Qn.Ma="timingevent";function Ns(u,m){ge.call(this,Qn.Ma,u),this.size=m}O(Ns,ge);function Nn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zi(){this.g=!0}zi.prototype.xa=function(){this.g=!1};function Bi(u,m,v,I,F,$){u.info(function(){if(u.g)if($)for(var ie="",$e=$.split("&"),yt=0;yt<$e.length;yt++){var be=$e[yt].split("=");if(1<be.length){var It=be[0];be=be[1];var ht=It.split("_");ie=2<=ht.length&&ht[1]=="type"?ie+(It+"="+be+"&"):ie+(It+"=redacted&")}}else ie=null;else ie=$;return"XMLHTTP REQ ("+I+") [attempt "+F+"]: "+m+`
`+v+`
`+ie})}function Ds(u,m,v,I,F,$,ie){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+F+"]: "+m+`
`+v+`
`+$+" "+ie})}function Dn(u,m,v,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,v)+(I?" "+I:"")})}function ia(u,m){u.info(function(){return"TIMEOUT: "+m})}zi.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var F=I[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return Jo(v)}catch{return m}}var Os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function $i(){}O($i,Fi),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},On=new $i;function Vn(u,m,v,I){this.j=u,this.i=m,this.l=v,this.R=I||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cl}function Cl(){this.i=null,this.g="",this.h=!1}var sa={},Vs={};function bs(u,m,v){u.L=1,u.v=qr(ln(m)),u.m=v,u.P=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),Ke(u),u.A=ln(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Xr(v.i,"t",I),u.C=0,v=u.j.J,u.h=new Cl,u.g=$l(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Mi(T(u.Y,u,u.g),u.O)),m=u.U,v=u.g,I=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Xo[0]=F.toString()),F=Xo);for(var $=0;$<F.length;$++){var ie=Ho(v,F[$],I||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),yr(),Bi(u.i,u.u,u.A,u.l,u.R,u.m)}Vn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Yt(u)==3?m.j():this.Y(u)},Vn.prototype.Y=function(u){try{if(u==this.g)e:{const ht=Yt(this.g);var m=this.g.Ba();const wn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||da(this.g)))){this.J||ht!=4||m==7||(m==8||0>=wn?yr(3):yr(2)),Wi(this);var v=this.g.Z();this.X=v;t:if(Al(this)){var I=da(this.g);u="";var F=I.length,$=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Wr(this);var ie="";break t}this.h.i=new d.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!($&&m==F-1)});I.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Ds(this.i,this.u,this.A,this.l,this.R,ht,v),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,yt=this.g;if(($e=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X($e)){var be=$e;break t}}be=null}if(v=be)Dn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,v);else{this.o=!1,this.s=3,at(12),_n(this),Wr(this);break e}}if(this.P){v=!0;let cn;for(;!this.J&&this.C<ie.length;)if(cn=Ch(this,ie),cn==Vs){ht==4&&(this.s=4,at(14),v=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==sa){this.s=4,at(15),Dn(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else Dn(this.i,this.l,cn,null),aa(this,cn);if(Al(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||ie.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)Dn(this.i,this.l,ie,"[Invalid Chunked Response]"),_n(this),Wr(this);else if(0<ie.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),pa(It),It.M=!0,at(11))}}else Dn(this.i,this.l,ie,null),aa(this,ie);ht==4&&_n(this),this.o&&!this.J&&(ht==4?Ks(this.j,this):(this.o=!1,Ke(this)))}else zs(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),_n(this),Wr(this)}}}catch{}finally{}};function Al(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ch(u,m){var v=u.C,I=m.indexOf(`
`,v);return I==-1?Vs:(v=Number(m.substring(v,I)),isNaN(v)?sa:(I+=1,I+v>m.length?Vs:(m=m.slice(I,I+v),u.C=I+v,m)))}Vn.prototype.cancel=function(){this.J=!0,_n(this)};function Ke(u){u.S=Date.now()+u.I,kl(u,u.I)}function kl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nn(T(u.ba,u),m)}function Wi(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Vn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ia(this.i,this.A),this.L!=2&&(yr(),at(17)),_n(this),this.s=2,Wr(this)):kl(this,this.S-u)};function Wr(u){u.j.G==0||u.J||Ks(u.j,u)}function _n(u){Wi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Yo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function aa(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Ht(v.h,u))){if(!u.K&&Ht(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var F=I;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Hs(v),Fn(v);else break e;Ws(v),at(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Nn(T(v.Za,v),6e3));if(1>=Pl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Tr(v,11)}else if((u.K||v.g==u)&&Hs(v),!X(m))for(F=v.Da.g.parse(m),m=0;m<F.length;m++){let be=F[m];if(v.T=be[0],be=be[1],v.G==2)if(be[0]=="c"){v.K=be[1],v.ia=be[2];const It=be[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const ht=be[4];ht!=null&&(v.Aa=ht,v.j.info("SVER="+v.Aa));const wn=be[5];wn!=null&&typeof wn=="number"&&0<wn&&(I=1.5*wn,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const cn=u.g;if(cn){const Yi=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var $=I.h;$.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(la($,$.h),$.h=null))}if(I.D){const qs=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(I.ya=qs,We(I.I,I.D,qs))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var ie=u;if(I.qa=Bl(I,I.J?I.ia:null,I.W),ie.K){xl(I.h,ie);var $e=ie,yt=I.L;yt&&($e.I=yt),$e.B&&(Wi($e),Ke($e)),I.g=ie}else Xi(I);0<v.i.length&&Zn(v)}else be[0]!="stop"&&be[0]!="close"||Tr(v,7);else v.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Tr(v,7):xt(v):be[0]!="noop"&&v.l&&v.l.ta(be),v.v=0)}}yr(4)}catch{}}var Rl=class{constructor(u,m){this.g=u,this.map=m}};function Hi(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function an(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Pl(u){return u.h?1:u.g?u.g.size:0}function Ht(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function la(u,m){u.g?u.g.add(m):u.h=m}function xl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Hi.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return L(u.i)}function Ls(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,I=0;I<v;I++)m.push(u[I]);return m}m=[],v=0;for(I in u)m[v++]=u[I];return m}function Ms(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const I in u)m[v++]=I;return m}}}function Hr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ms(u),I=Ls(u),F=I.length,$=0;$<F;$++)m.call(void 0,I[$],v&&v[$],u)}var Ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ah(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),F=null;if(0<=I){var $=u[v].substring(0,I);F=u[v].substring(I+1)}else $=u[v];m($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function _r(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _r){this.h=u.h,Gi(this,u.j),this.o=u.o,this.g=u.g,Kr(this,u.s),this.l=u.l;var m=u.i,v=new Xn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Gr(this,v),this.m=u.m}else u&&(m=String(u).match(Ki))?(this.h=!1,Gi(this,m[1]||"",!0),this.o=Ne(m[2]||""),this.g=Ne(m[3]||"",!0),Kr(this,m[4]),this.l=Ne(m[5]||"",!0),Gr(this,m[6]||"",!0),this.m=Ne(m[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}_r.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Qr(m,js,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Qr(m,js,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Qr(v,v.charAt(0)=="/"?Vl:Ol,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Qr(v,ua)),u.join("")};function ln(u){return new _r(u)}function Gi(u,m,v){u.j=v?Ne(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Kr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Gr(u,m,v){m instanceof Xn?(u.i=m,Yn(u.i,u.h)):(v||(m=Qr(m,bl)),u.i=new Xn(m,u.h))}function We(u,m,v){u.i.set(m,v)}function qr(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ne(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Dl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var js=/[#\/\?@]/g,Ol=/[#\?:]/g,Vl=/[#\?]/g,bl=/[#\?@]/g,ua=/#/g;function Xn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Pt(u){u.g||(u.g=new Map,u.h=0,u.i&&Ah(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Xn.prototype,r.add=function(u,m){Pt(this),this.i=null,u=vn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function bn(u,m){Pt(u),m=vn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ln(u,m){return Pt(u),m=vn(u,m),u.g.has(m)}r.forEach=function(u,m){Pt(this),this.g.forEach(function(v,I){v.forEach(function(F){u.call(m,F,I,this)},this)},this)},r.na=function(){Pt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let I=0;I<m.length;I++){const F=u[I];for(let $=0;$<F.length;$++)v.push(m[I])}return v},r.V=function(u){Pt(this);let m=[];if(typeof u=="string")Ln(this,u)&&(m=m.concat(this.g.get(vn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},r.set=function(u,m){return Pt(this),this.i=null,u=vn(this,u),Ln(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Xr(u,m,v){bn(u,m),0<v.length&&(u.i=null,u.g.set(vn(u,m),L(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var I=m[v];const $=encodeURIComponent(String(I)),ie=this.V(I);for(I=0;I<ie.length;I++){var F=$;ie[I]!==""&&(F+="="+encodeURIComponent(String(ie[I]))),u.push(F)}}return this.i=u.join("&")};function vn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Yn(u,m){m&&!u.j&&(Pt(u),u.i=null,u.g.forEach(function(v,I){var F=I.toLowerCase();I!=F&&(bn(this,I),Xr(this,F,v))},u)),u.j=m}function kh(u,m){const v=new zi;if(d.Image){const I=new Image;I.onload=C(Xt,v,"TestLoadImage: loaded",!0,m,I),I.onerror=C(Xt,v,"TestLoadImage: error",!1,m,I),I.onabort=C(Xt,v,"TestLoadImage: abort",!1,m,I),I.ontimeout=C(Xt,v,"TestLoadImage: timeout",!1,m,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function Ll(u,m){const v=new zi,I=new AbortController,F=setTimeout(()=>{I.abort(),Xt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then($=>{clearTimeout(F),$.ok?Xt(v,"TestPingServer: ok",!0,m):Xt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Xt(v,"TestPingServer: error",!1,m)})}function Xt(u,m,v,I,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),I(v)}catch{}}function Rh(){this.g=new ea}function Ml(u,m,v){const I=v||"";try{Hr(u,function(F,$){let ie=F;y(F)&&(ie=Jo(F)),m.push(I+$+"="+encodeURIComponent(ie))})}catch(F){throw m.push(I+"type="+encodeURIComponent("_badmap")),F}}function vr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(vr,Fi),vr.prototype.g=function(){return new qi(this.l,this.j)},vr.prototype.i=function(u){return function(){return u}}({});function qi(u,m){mt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(qi,mt),r=qi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Mn(this):jn(this),this.readyState==3&&jl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Mn(this))},r.Qa=function(u){this.g&&(this.response=u,Mn(this))},r.ga=function(){this.g&&Mn(this)};function Mn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wr(u){let m="";return oe(u,function(v,I){m+=I,m+=":",m+=v,m+=`\r
`}),m}function Yr(u,m,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=wr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):We(u,m,v))}function Je(u){mt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Je,mt);var Ph=/^https?$/i,ca=["POST","PUT"];r=Je.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Rs(this.o):Rs(On),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){Qi(this,$);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var F in I)v.set(F,I[F]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())v.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),F=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ca,m,void 0))||I||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of v)this.g.setRequestHeader($,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Qi(this,$)}};function Qi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Fs(u),un(u)}function Fs(u){u.A||(u.A=!0,gt(u,"complete"),gt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,gt(this,"complete"),gt(this,"abort"),un(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),un(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},r.bb=function(){ha(this)};function ha(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Yt(u)!=4||u.Z()!=2)){if(u.u&&Yt(u)==4)Qo(u.Ea,0,u);else if(gt(u,"readystatechange"),Yt(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var I;if(I=ie===0){var F=String(u.D).match(Ki)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),I=!Ph.test(F?F.toLowerCase():"")}v=I}if(v)gt(u,"complete"),gt(u,"success");else{u.m=6;try{var $=2<Yt(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Fs(u)}}finally{un(u)}}}}function un(u,m){if(u.g){Us(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||gt(u,"ready");try{v.onreadystatechange=I}catch{}}}function Us(u){u.I&&(d.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Yt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Zo(m)}};function da(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zs(u){const m={};u=(u.g&&2<=Yt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(X(u[I]))continue;var v=V(u[I]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=m[F]||[];m[F]=$,$.push(v)}N(m,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function fa(u){this.Aa=0,this.i=[],this.j=new zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jn("baseRetryDelayMs",5e3,u),this.cb=Jn("retryDelaySeedMs",1e4,u),this.Wa=Jn("forwardChannelMaxRetries",2,u),this.wa=Jn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(u&&u.concurrentRequestLimit),this.Da=new Rh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fa.prototype,r.la=8,r.G=1,r.connect=function(u,m,v,I){at(0),this.W=u,this.H=m||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Bl(this,null,this.W),Zn(this)};function xt(u){if(Bs(u),u.G==3){var m=u.U++,v=ln(u.I);if(We(v,"SID",u.K),We(v,"RID",m),We(v,"TYPE","terminate"),Er(u,v),m=new Vn(u,u.j,m),m.L=2,m.v=qr(ln(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=$l(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ke(m)}zl(u)}function Fn(u){u.g&&(pa(u),u.g.cancel(),u.g=null)}function Bs(u){Fn(u),u.u&&(d.clearTimeout(u.u),u.u=null),Hs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Zn(u){if(!an(u.h)&&!u.s){u.s=!0;var m=u.Ga;Oe||le(),se||(Oe(),se=!0),_e.add(m,u),u.B=0}}function xh(u,m){return Pl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nn(T(u.Ga,u,m),Ul(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Vn(this,this.j,u);let $=this.o;if(this.S&&($?($=S($),P($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Jr(this,F,m),v=ln(this.I),We(v,"RID",u),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Er(this,v),$&&(this.O?m="headers="+encodeURIComponent(String(wr($)))+"&"+m:this.m&&Yr(v,this.m,$)),la(this.h,F),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",m),We(v,"SID","null"),F.T=!0,bs(F,v,null)):bs(F,v,m),this.G=2}}else this.G==3&&(u?$s(this,u):this.i.length==0||an(this.h)||$s(this))};function $s(u,m){var v;m?v=m.l:v=u.U++;const I=ln(u.I);We(I,"SID",u.K),We(I,"RID",v),We(I,"AID",u.T),Er(u,I),u.m&&u.o&&Yr(I,u.m,u.o),v=new Vn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Jr(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),la(u.h,v),bs(v,I,m)}function Er(u,m){u.H&&oe(u.H,function(v,I){We(m,I,v)}),u.l&&Hr({},function(v,I){We(m,I,v)})}function Jr(u,m,v){v=Math.min(u.i.length,v);var I=u.l?T(u.l.Na,u.l,u):null;e:{var F=u.i;let $=-1;for(;;){const ie=["count="+v];$==-1?0<v?($=F[0].g,ie.push("ofs="+$)):$=0:ie.push("ofs="+$);let $e=!0;for(let yt=0;yt<v;yt++){let be=F[yt].g;const It=F[yt].map;if(be-=$,0>be)$=Math.max(0,F[yt].g-100),$e=!1;else try{Ml(It,ie,"req"+be+"_")}catch{I&&I(It)}}if($e){I=ie.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,I}function Xi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Oe||le(),se||(Oe(),se=!0),_e.add(m,u),u.v=0}}function Ws(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nn(T(u.Fa,u),Ul(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Fl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nn(T(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Fn(this),Fl(this))};function pa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Fl(u){u.g=new Vn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);We(m,"RID","rpc"),We(m,"SID",u.K),We(m,"AID",u.T),We(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(m,"TO",u.ja),We(m,"TYPE","xmlhttp"),Er(u,m),u.m&&u.o&&Yr(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=qr(ln(m)),v.m=null,v.P=!0,oa(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Fn(this),Ws(this),at(19))};function Hs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ks(u,m){var v=null;if(u.g==m){Hs(u),pa(u),u.g=null;var I=2}else if(Ht(u.h,m))v=m.D,xl(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;I=Ui(),gt(I,new Ns(I,v)),Zn(u)}else Xi(u);else if(F=m.s,F==3||F==0&&0<m.X||!(I==1&&xh(u,m)||I==2&&Ws(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),F){case 1:Tr(u,5);break;case 4:Tr(u,10);break;case 3:Tr(u,6);break;default:Tr(u,2)}}}function Ul(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Tr(u,m){if(u.j.info("Error code "+m),m==2){var v=T(u.fb,u),I=u.Xa;const F=!I;I=new _r(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gi(I,"https"),qr(I),F?kh(I.toString(),v):Ll(I.toString(),v)}else at(2);u.G=0,u.l&&u.l.sa(m),zl(u),Bs(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function zl(u){if(u.G=0,u.ka=[],u.l){const m=Nl(u.h);(m.length!=0||u.i.length!=0)&&(x(u.ka,m),x(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function Bl(u,m,v){var I=v instanceof _r?ln(v):new _r(v);if(I.g!="")m&&(I.g=m+"."+I.g),Kr(I,I.s);else{var F=d.location;I=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var $=new _r(null);I&&Gi($,I),m&&($.g=m),F&&Kr($,F),v&&($.l=v),I=$}return v=u.D,m=u.ya,v&&m&&We(I,v,m),We(I,"VER",u.la),Er(u,I),I}function $l(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Je(new vr({eb:v})):new Je(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ma(){}r=ma.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Gs(){}Gs.prototype.g=function(u,m){return new Kt(u,m)};function Kt(u,m){mt.call(this),this.g=new fa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!X(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!X(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new er(this)}O(Kt,mt),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){xt(this.g)},Kt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Jo(u),u=v);m.i.push(new Rl(m.Ya++,u)),m.G==3&&Zn(m)},Kt.prototype.N=function(){this.g.l=null,delete this.j,xt(this.g),delete this.g,Kt.aa.N.call(this)};function Wl(u){qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(Wl,qn);function Hl(){xs.call(this),this.status=1}O(Hl,xs);function er(u){this.g=u}O(er,ma),er.prototype.ua=function(){gt(this.g,"a")},er.prototype.ta=function(u){gt(this.g,new Wl(u))},er.prototype.sa=function(u){gt(this.g,new Hl)},er.prototype.ra=function(){gt(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,bv=function(){return new Gs},Vv=function(){return Ui()},Ov=Qn,bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Ju=Os,Sl.COMPLETE="complete",Dv=Sl,Ps.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Ba=Ps,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,Nv=Je}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const qy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Sv("@firebase/firestore");function vo(){return ys.logLevel}function ue(r,...e){if(ys.logLevel<=Me.DEBUG){const t=e.map(_p);ys.debug(`Firestore (${Fo}): ${r}`,...t)}}function Fr(r,...e){if(ys.logLevel<=Me.ERROR){const t=e.map(_p);ys.error(`Firestore (${Fo}): ${r}`,...t)}}function Ao(r,...e){if(ys.logLevel<=Me.WARN){const t=e.map(_p);ys.warn(`Firestore (${Fo}): ${r}`,...t)}}function _p(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+r;throw Fr(e),new Error(e)}function Be(r,e){r||Te()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends jo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}}class YI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JI{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ii,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ii)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string"),new Lv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Bt(e)}}class ZI{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eS{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new ZI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const s=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new tS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=rS(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function De(r,e){return r<e?-1:r>e?1:0}function ko(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new wt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new wt(0,0))}static max(){return new Ie(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(),s===void 0?s=e.length-t:s>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=ar.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=ar.isNumericId(e),o=ar.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ar.extractNumericId(e).compare(ar.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class Ye extends ar{construct(e,t,s){return new Ye(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ye(t)}static emptyPath(){return new Ye([])}}const iS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends ar{construct(e,t,s){return new Vt(e,t,s)}static isValidIdentifier(e){return iS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ce(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ce(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new ce(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ye.fromString(e))}static fromName(e){return new ye(Ye.fromString(e).popFirst(5))}static empty(){return new ye(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ye(e.slice()))}}function sS(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new wt(t+1,0):new wt(t,s));return new Ci(o,ye.empty(),e)}function oS(r){return new Ci(r.readTime,r.key,-1)}class Ci{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ci(Ie.min(),ye.empty(),-1)}static max(){return new Ci(Ie.max(),ye.empty(),-1)}}function aS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(r.documentKey,e.documentKey),t!==0?t:De(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(r){if(r.code!==q.FAILED_PRECONDITION||r.message!==lS)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,s)=>{t(e)})}static reject(e){return new K((t,s)=>{s(e)})}static waitFor(e){return new K((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next(o=>o?K.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new K((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{h[y]=_,++d,d===l&&s(h)},_=>o(_))}})}static doWhile(e,t){return new K((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function cS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}eh.oe=-1;function th(r){return r==null}function fc(r){return r===0&&1/r==-1/0}function hS(r){return typeof r=="number"&&Number.isInteger(r)&&!fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Qy(e)),e=fS(r.get(t),e);return Qy(e)}function fS(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Qy(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Oi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function jv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Ot(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new gn([])}unionWith(e){let t=new Et(Vt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Fv("Invalid base64 string: "+l):l}}(e);return new bt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const pS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(r){if(Be(!!r),typeof r=="string"){let e=0;const t=pS.exec(r);if(Be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ut(r.seconds),nanos:ut(r.nanos)}}function ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ki(r){return typeof r=="string"?bt.fromBase64String(r):bt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function nh(r){const e=r.mapValue.fields.__previous_value__;return vp(e)?nh(e):e}function ll(r){const e=Ai(r.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t,s,o,l,h,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class ul{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ri(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vp(r)?4:yS(r)?9007199254740991:gS(r)?10:11:Te()}function dr(r,e){if(r===e)return!0;const t=Ri(r);if(t!==Ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ll(r).isEqual(ll(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ai(o.timestampValue),d=Ai(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return ki(o.bytesValue).isEqual(ki(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ut(o.doubleValue),d=ut(l.doubleValue);return h===d?fc(h)===fc(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return ko(r.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Xy(h)!==Xy(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!dr(h[p],d[p])))return!1;return!0}(r,e);default:return Te()}}function cl(r,e){return(r.values||[]).find(t=>dr(t,e))!==void 0}function Ro(r,e){if(r===e)return 0;const t=Ri(r),s=Ri(e);if(t!==s)return De(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(r.booleanValue,e.booleanValue);case 2:return function(l,h){const d=ut(l.integerValue||l.doubleValue),p=ut(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return Jy(r.timestampValue,e.timestampValue);case 4:return Jy(ll(r),ll(e));case 5:return De(r.stringValue,e.stringValue);case 6:return function(l,h){const d=ki(l),p=ki(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=De(d[y],p[y]);if(_!==0)return _}return De(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const d=De(ut(l.latitude),ut(h.latitude));return d!==0?d:De(ut(l.longitude),ut(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Zy(r.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,y,_;const w=l.fields||{},T=h.fields||{},C=(d=w.value)===null||d===void 0?void 0:d.arrayValue,O=(p=T.value)===null||p===void 0?void 0:p.arrayValue,L=De(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0);return L!==0?L:Zy(C,O)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===Bu.mapValue&&h===Bu.mapValue)return 0;if(l===Bu.mapValue)return 1;if(h===Bu.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=h.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const T=De(p[w],_[w]);if(T!==0)return T;const C=Ro(d[p[w]],y[_[w]]);if(C!==0)return C}return De(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Te()}}function Jy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return De(r,e);const t=Ai(r),s=Ai(e),o=De(t.seconds,s.seconds);return o!==0?o:De(t.nanos,s.nanos)}function Zy(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Ro(t[o],s[o]);if(l)return l}return De(t.length,s.length)}function Po(r){return Lf(r)}function Lf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Ai(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ki(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ye.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Lf(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Lf(t.fields[h])}`;return o+"}"}(r.mapValue):Te()}function Zu(r){switch(Ri(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nh(r);return e?16+Zu(e):16;case 5:return 2*r.stringValue.length;case 6:return ki(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Zu(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Oi(s.fields,(l,h)=>{o+=l.length+Zu(h)}),o}(r.mapValue);default:throw Te()}}function e_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Mf(r){return!!r&&"integerValue"in r}function wp(r){return!!r&&"arrayValue"in r}function t_(r){return!!r&&"nullValue"in r}function n_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ec(r){return!!r&&"mapValue"in r}function gS(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ga(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Oi(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ga(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ga(r.arrayValue.values[t]);return e}return Object.assign({},r)}function yS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ec(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(t)}setAll(e){let t=Vt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=Ga(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ec(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Oi(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new on(Ga(this.value))}}function Uv(r){const e=[];return Oi(r.fields,(t,s)=>{const o=new Vt([t]);if(ec(s)){const l=Uv(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new $t(e,0,Ie.min(),Ie.min(),Ie.min(),on.empty(),0)}static newFoundDocument(e,t,s,o){return new $t(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Ie.min(),Ie.min(),on.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Ie.min(),Ie.min(),on.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t){this.position=e,this.inclusive=t}}function r_(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),t.key):s=Ro(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function i_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!dr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t="asc"){this.field=e,this.dir=t}}function _S(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{}class pt extends zv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new wS(e,t,s):t==="array-contains"?new IS(e,s):t==="in"?new SS(e,s):t==="not-in"?new CS(e,s):t==="array-contains-any"?new AS(e,s):new pt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new ES(e,s):new TS(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ro(t,this.value)):t!==null&&Ri(this.value)===Ri(t)&&this.matchesComparison(Ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends zv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Gn(e,t)}matches(e){return Bv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Bv(r){return r.op==="and"}function $v(r){return vS(r)&&Bv(r)}function vS(r){for(const e of r.filters)if(e instanceof Gn)return!1;return!0}function jf(r){if(r instanceof pt)return r.field.canonicalString()+r.op.toString()+Po(r.value);if($v(r))return r.filters.map(e=>jf(e)).join(",");{const e=r.filters.map(t=>jf(t)).join(",");return`${r.op}(${e})`}}function Wv(r,e){return r instanceof pt?function(s,o){return o instanceof pt&&s.op===o.op&&s.field.isEqual(o.field)&&dr(s.value,o.value)}(r,e):r instanceof Gn?function(s,o){return o instanceof Gn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&Wv(h,o.filters[d]),!0):!1}(r,e):void Te()}function Hv(r){return r instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Po(t.value)}`}(r):r instanceof Gn?function(t){return t.op.toString()+" {"+t.getFilters().map(Hv).join(" ,")+"}"}(r):"Filter"}class wS extends pt{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class ES extends pt{constructor(e,t){super(e,"in",t),this.keys=Kv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TS extends pt{constructor(e,t){super(e,"not-in",t),this.keys=Kv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Kv(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ye.fromName(s.referenceValue))}class IS extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wp(t)&&cl(t.arrayValue,this.value)}}class SS extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cl(this.value.arrayValue,t)}}class CS extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!cl(this.value.arrayValue,t)}}class AS extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>cl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.ue=null}}function s_(r,e=null,t=[],s=[],o=null,l=null,h=null){return new kS(r,e,t,s,o,l,h)}function Ep(r){const e=Se(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>jf(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),th(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Po(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Po(s)).join(",")),e.ue=t}return e.ue}function Tp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!_S(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Wv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!i_(r.startAt,e.startAt)&&i_(r.endAt,e.endAt)}function Ff(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function RS(r,e,t,s,o,l,h,d){return new Bo(r,e,t,s,o,l,h,d)}function rh(r){return new Bo(r)}function o_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Gv(r){return r.collectionGroup!==null}function qa(r){const e=Se(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Et(Vt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new hl(l,s))}),t.has(Vt.keyField().canonicalString())||e.ce.push(new hl(Vt.keyField(),s))}return e.ce}function ur(r){const e=Se(r);return e.le||(e.le=PS(e,qa(r))),e.le}function PS(r,e){if(r.limitType==="F")return s_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new hl(o.field,l)});const t=r.endAt?new pc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new pc(r.startAt.position,r.startAt.inclusive):null;return s_(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Uf(r,e){const t=r.filters.concat([e]);return new Bo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function zf(r,e,t){return new Bo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ih(r,e){return Tp(ur(r),ur(e))&&r.limitType===e.limitType}function qv(r){return`${Ep(ur(r))}|lt:${r.limitType}`}function wo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Hv(o)).join(", ")}]`),th(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Po(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Po(o)).join(",")),`Target(${s})`}(ur(r))}; limitType=${r.limitType})`}function sh(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of qa(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const y=r_(h,d,p);return h.inclusive?y<=0:y<0}(s.startAt,qa(s),o)||s.endAt&&!function(h,d,p){const y=r_(h,d,p);return h.inclusive?y>=0:y>0}(s.endAt,qa(s),o))}(r,e)}function xS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Qv(r){return(e,t)=>{let s=!1;for(const o of qa(r)){const l=NS(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function NS(r,e,t){const s=r.field.isKeyField()?ye.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),y=d.data.field(l);return p!==null&&y!==null?Ro(p,y):Te()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new rt(ye.comparator);function Ur(){return DS}const Xv=new rt(ye.comparator);function $a(...r){let e=Xv;for(const t of r)e=e.insert(t.key,t);return e}function Yv(r){let e=Xv;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ms(){return Qa()}function Jv(){return Qa()}function Qa(){return new vs(r=>r.toString(),(r,e)=>r.isEqual(e))}const OS=new rt(ye.comparator),VS=new Et(ye.comparator);function xe(...r){let e=VS;for(const t of r)e=e.add(t);return e}const bS=new Et(De);function LS(){return bS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function Zv(r){return{integerValue:""+r}}function MS(r,e){return hS(e)?Zv(e):Ip(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function jS(r,e,t){return r instanceof dl?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&vp(l)&&(l=nh(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof xo?tw(r,e):r instanceof fl?nw(r,e):function(o,l){const h=ew(o,l),d=a_(h)+a_(o.Pe);return Mf(h)&&Mf(o.Pe)?Zv(d):Ip(o.serializer,d)}(r,e)}function FS(r,e,t){return r instanceof xo?tw(r,e):r instanceof fl?nw(r,e):t}function ew(r,e){return r instanceof mc?function(s){return Mf(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class dl extends oh{}class xo extends oh{constructor(e){super(),this.elements=e}}function tw(r,e){const t=rw(e);for(const s of r.elements)t.some(o=>dr(o,s))||t.push(s);return{arrayValue:{values:t}}}class fl extends oh{constructor(e){super(),this.elements=e}}function nw(r,e){let t=rw(e);for(const s of r.elements)t=t.filter(o=>!dr(o,s));return{arrayValue:{values:t}}}class mc extends oh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function a_(r){return ut(r.integerValue||r.doubleValue)}function rw(r){return wp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t){this.field=e,this.transform=t}}function US(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof xo&&o instanceof xo||s instanceof fl&&o instanceof fl?ko(s.elements,o.elements,dr):s instanceof mc&&o instanceof mc?dr(s.Pe,o.Pe):s instanceof dl&&o instanceof dl}(r.transform,e.transform)}class zS{constructor(e,t){this.version=e,this.transformResults=t}}class Pn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ah{}function sw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Sp(r.key,Pn.none()):new yl(r.key,r.data,Pn.none());{const t=r.data,s=on.empty();let o=new Et(Vt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Vi(r.key,s,new gn(o.toArray()),Pn.none())}}function BS(r,e,t){r instanceof yl?function(o,l,h){const d=o.value.clone(),p=u_(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Vi?function(o,l,h){if(!tc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=u_(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(ow(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Xa(r,e,t,s){return r instanceof yl?function(l,h,d,p){if(!tc(l.precondition,h))return d;const y=l.value.clone(),_=c_(l.fieldTransforms,p,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof Vi?function(l,h,d,p){if(!tc(l.precondition,h))return d;const y=c_(l.fieldTransforms,p,h),_=h.data;return _.setAll(ow(l)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(r,e,t,s):function(l,h,d){return tc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function $S(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=ew(s.transform,o||null);l!=null&&(t===null&&(t=on.empty()),t.set(s.field,l))}return t||null}function l_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ko(s,o,(l,h)=>US(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yl extends ah{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vi extends ah{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ow(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function u_(r,e,t){const s=new Map;Be(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,FS(h,d,t[o]))}return s}function c_(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,jS(l,h,e))}return s}class Sp extends ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WS extends ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&BS(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Xa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Xa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Jv();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=sw(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(t,s)=>l_(t,s))&&ko(this.baseMutations,e.baseMutations,(t,s)=>l_(t,s))}}class Cp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Be(e.mutations.length===s.length);let o=function(){return OS}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Cp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Le;function qS(r){switch(r){default:return Te();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function aw(r){if(r===void 0)return Fr("GRPC error has no .code"),q.UNKNOWN;switch(r){case ft.OK:return q.OK;case ft.CANCELLED:return q.CANCELLED;case ft.UNKNOWN:return q.UNKNOWN;case ft.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ft.INTERNAL:return q.INTERNAL;case ft.UNAVAILABLE:return q.UNAVAILABLE;case ft.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ft.NOT_FOUND:return q.NOT_FOUND;case ft.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ft.ABORTED:return q.ABORTED;case ft.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ft.DATA_LOSS:return q.DATA_LOSS;default:return Te()}}(Le=ft||(ft={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Ti([4294967295,4294967295],0);function h_(r){const e=QS().encode(r),t=new xv;return t.update(e),new Uint8Array(t.digest())}function d_(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ti([t,s],0),new Ti([o,l],0)]}class Ap{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Wa(`Invalid padding: ${t}`);if(s<0)throw new Wa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wa(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Wa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ti.fromNumber(this.Te)}de(e,t,s){let o=e.add(t.multiply(Ti.fromNumber(s)));return o.compare(XS)===1&&(o=new Ti([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=h_(e),[s,o]=d_(t);for(let l=0;l<this.hashCount;l++){const h=this.de(s,o,l);if(!this.Ee(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Ap(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const t=h_(e),[s,o]=d_(t);for(let l=0;l<this.hashCount;l++){const h=this.de(s,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,_l.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new lh(Ie.min(),o,new rt(De),Ur(),xe())}}class _l{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new _l(s,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class lw{constructor(e,t){this.targetId=e,this.me=t}}class uw{constructor(e,t,s=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class f_{constructor(){this.fe=0,this.ge=p_(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),s=xe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new _l(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=p_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YS{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ur(),this.qe=$u(),this.Qe=$u(),this.Ke=new rt(De)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Ff(l))if(s===0){const h=new ye(l.path);this.We(t,h,$t.newNoDocument(h,Ie.min()))}else Be(s===1);else{const h=this.Ze(t);if(h!==s){const d=this.Xe(e),p=d?this.et(d,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=ki(s).toUint8Array()}catch(p){if(p instanceof Fv)return Ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ap(h,o,l)}catch(p){return Ao(p instanceof Wa?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Be.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.Be.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((l,h)=>{const d=this.Ye(h);if(d){if(l.current&&Ff(d.target)){const p=new ye(d.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,$t.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let s=xe();this.Qe.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new lh(e,t,this.Ke,this.ke,s);return this.ke=Ur(),this.qe=$u(),this.Qe=$u(),this.Ke=new rt(De),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new f_,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(De),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(De),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new f_),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function $u(){return new rt(ye.comparator)}function p_(){return new rt(ye.comparator)}const JS={asc:"ASCENDING",desc:"DESCENDING"},ZS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eC={and:"AND",or:"OR"};class tC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bf(r,e){return r.useProto3Json||th(e)?e:{value:e}}function gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nC(r,e){return gc(r,e.toTimestamp())}function cr(r){return Be(!!r),Ie.fromTimestamp(function(t){const s=Ai(t);return new wt(s.seconds,s.nanos)}(r))}function kp(r,e){return $f(r,e).canonicalString()}function $f(r,e){const t=function(o){return new Ye(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function hw(r){const e=Ye.fromString(r);return Be(gw(e)),e}function Wf(r,e){return kp(r.databaseId,e.path)}function df(r,e){const t=hw(e);if(t.get(1)!==r.databaseId.projectId)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ye(fw(t))}function dw(r,e){return kp(r.databaseId,e)}function rC(r){const e=hw(r);return e.length===4?Ye.emptyPath():fw(e)}function Hf(r){return new Ye(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fw(r){return Be(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function m_(r,e,t){return{name:Wf(r,e),fields:t.value.mapValue.fields}}function iC(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(Be(_===void 0||typeof _=="string"),bt.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),bt.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const _=y.code===void 0?q.UNKNOWN:aw(y.code);return new ce(_,y.message||"")}(h);t=new uw(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=df(r,s.document.name),l=cr(s.document.updateTime),h=s.document.createTime?cr(s.document.createTime):Ie.min(),d=new on({mapValue:{fields:s.document.fields}}),p=$t.newFoundDocument(o,l,h,d),y=s.targetIds||[],_=s.removedTargetIds||[];t=new nc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=df(r,s.document),l=s.readTime?cr(s.readTime):Ie.min(),h=$t.newNoDocument(o,l),d=s.removedTargetIds||[];t=new nc([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=df(r,s.document),l=s.removedTargetIds||[];t=new nc([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new GS(o,l),d=s.targetId;t=new lw(d,h)}}return t}function sC(r,e){let t;if(e instanceof yl)t={update:m_(r,e.key,e.value)};else if(e instanceof Sp)t={delete:Wf(r,e.key)};else if(e instanceof Vi)t={update:m_(r,e.key,e.data),updateMask:pC(e.fieldMask)};else{if(!(e instanceof WS))return Te();t={verify:Wf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof dl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof mc)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw Te()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:nC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(r,e.precondition)),t}function oC(r,e){return r&&r.length>0?(Be(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?cr(o.updateTime):cr(l);return h.isEqual(Ie.min())&&(h=cr(l)),new zS(h,o.transformResults||[])}(t,e))):[]}function aC(r,e){return{documents:[dw(r,e.path)]}}function lC(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=dw(r,o);const l=function(y){if(y.length!==0)return mw(Gn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(_=>function(T){return{field:Eo(T.field),direction:hC(T.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Bf(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function uC(r){let e=rC(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Be(s===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(w){const T=pw(w);return T instanceof Gn&&$v(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(T=>function(O){return new hl(To(O.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,th(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,C=w.values||[];return new pc(C,T)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const T=!w.before,C=w.values||[];return new pc(C,T)}(t.endAt)),RS(e,o,h,l,d,"F",p,y)}function cC(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=To(t.unaryFilter.field);return pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=To(t.unaryFilter.field);return pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=To(t.unaryFilter.field);return pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(t.unaryFilter.field);return pt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(t){return pt.create(To(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Gn.create(t.compositeFilter.filters.map(s=>pw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(r):Te()}function hC(r){return JS[r]}function dC(r){return ZS[r]}function fC(r){return eC[r]}function Eo(r){return{fieldPath:r.canonicalString()}}function To(r){return Vt.fromServerFormat(r.fieldPath)}function mw(r){return r instanceof pt?function(t){if(t.op==="=="){if(n_(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(t_(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(n_(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(t_(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:dC(t.op),value:t.value}}}(r):r instanceof Gn?function(t){const s=t.getFilters().map(o=>mw(o));return s.length===1?s[0]:{compositeFilter:{op:fC(t.op),filters:s}}}(r):Te()}function pC(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t,s,o,l=Ie.min(),h=Ie.min(),d=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.ht=e}}function gC(r){const e=uC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.ln=new _C}addToCollectionParentIndex(e,t){return this.ln.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Ci.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class _C{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Et(Ye.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Et(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new No(0)}static Qn(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_([r,e],[t,s]){const o=De(r,t);return o===0?De(e,s):o}class vC{constructor(e){this.Gn=e,this.buffer=new Et(y_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();y_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wC{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zo(t)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Uo(t)}await this.Yn(3e5)})}}class EC{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return K.resolve(eh.oe);const s=new vC(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(g_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,l,h,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,d=Date.now(),this.removeTargets(e,s,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),vo()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function TC(r,e){return new EC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.changes=new vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Xa(s.mutation,o,gn.empty(),wt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,xe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=xe()){const o=ms();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=$a();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ms();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,xe()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=Ur();const h=Qa(),d=function(){return Qa()}();return t.forEach((p,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Vi)?l=l.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),Xa(_.mutation,y,_.mutation.getFieldMask(),wt.now())):h.set(y.key,gn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>h.set(y,_)),t.forEach((y,_)=>{var w;return d.set(y,new SC(_,(w=h.get(y))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const s=Qa();let o=new rt((h,d)=>h-d),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=s.get(p)||gn.empty();_=d.applyToLocalView(y,_),s.set(p,_);const w=(o.get(d.batchId)||xe()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,w=Jv();_.forEach(T=>{if(!l.has(T)){const C=sw(t.get(T),s.get(T));C!==null&&w.set(T,C),l=l.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,w))}return K.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):K.resolve(ms());let d=-1,p=l;return h.next(y=>K.forEach(y,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(_)?K.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,xe())).next(_=>({batchId:d,changes:Yv(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let o=$a();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=$a();return this.indexManager.getCollectionParents(e,l).next(d=>K.forEach(d,p=>{const y=function(w,T){return new Bo(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(_=>{_.forEach((w,T)=>{h=h.insert(w,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,$t.newInvalidDocument(_)))});let d=$a();return h.forEach((p,y)=>{const _=l.get(p);_!==void 0&&Xa(_.mutation,y,gn.empty(),wt.now()),sh(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return K.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:cr(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:gC(o.bundledQuery),readTime:cr(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.overlays=new rt(ye.comparator),this.dr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ms();return K.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Tt(e,t,l)}),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.dr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=ms(),l=t.length+1,h=new ye(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new rt((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=l.get(y.largestBatchId);_===null&&(_=ms(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=ms(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return K.resolve(d)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.dr.get(o.largestBatchId).delete(s.key);this.dr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new KS(t,s));let l=this.dr.get(t);l===void 0&&(l=xe(),this.dr.set(t,l)),this.dr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.Er=new Et(Rt.Ar),this.Rr=new Et(Rt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const s=new Rt(e,t);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new Rt(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new ye(new Ye([])),s=new Rt(t,e),o=new Rt(t,e+1),l=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ye(new Ye([])),s=new Rt(t,e),o=new Rt(t,e+1);let l=xe();return this.Rr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Rt(e,0),s=this.Er.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Rt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ye.comparator(e.key,t.key)||De(e.br,t.br)}static Vr(e,t){return De(e.br,t.br)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Rt.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new HS(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new Rt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,t){return K.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),l=o<0?0:o;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([s,o],h=>{const d=this.Cr(h.br);l.push(d)}),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Et(De);return t.forEach(o=>{const l=new Rt(o,0),h=new Rt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],d=>{s=s.add(d.br)})}),K.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const h=new Rt(new ye(l),0);let d=new Et(De);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},h),K.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return K.forEach(t.mutations,o=>{const l=new Rt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,t){const s=new Rt(t,0),o=this.vr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.Nr=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let s=Ur();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():$t.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Ur();const h=t.path,d=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||aS(oS(_),s)<=0||(o.has(_.key)||sh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te()}Br(e,t){return K.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new NC(this)}getSize(e){return K.resolve(this.size)}}class NC extends IC{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),K.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.persistence=e,this.Lr=new vs(t=>Ep(t),Tp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new Rp,this.targetCount=0,this.Qr=No.qn()}forEachTarget(e,t){return this.Lr.forEach((s,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),K.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new No(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Un(t),K.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Lr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Lr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),K.waitFor(l).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.Lr.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new eh(0),this.Ur=!1,this.Ur=!0,this.Wr=new RC,this.referenceDelegate=e(this),this.Gr=new DC(this),this.indexManager=new yC,this.remoteDocumentCache=function(o){return new xC(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new mC(t),this.jr=new AC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new PC(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new OC(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return K.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class OC extends uS{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Zr=new Rp,this.Xr=null}static ei(e){return new Pp(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),K.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,s=>{const o=ye.fromPath(s);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return K.or([()=>K.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class yc{constructor(e,t){this.persistence=e,this.ri=new vs(s=>dS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=TC(this,t)}static ei(e,t){return new yc(e,t)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return K.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(l=>l?K.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Br(e,h=>this.ir(e,h,t).next(d=>{d||(s++,l.removeEntry(h,Ie.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zu(e.data.value)),t}ir(e,t,s){return K.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=xe(),o=xe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new xp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return V1()?8:cS(D1())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new VC;return this.ts(e,t,h).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,h,d.size)})}).next(()=>l.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(vo()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",wo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(vo()<=Me.DEBUG&&ue("QueryEngine","Query:",wo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(vo()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",wo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(t))):K.resolve())}Xi(e,t){if(o_(t))return K.resolve(null);let s=ur(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=zf(t,null,"F"),s=ur(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=xe(...l);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.rs(t,d);return this.ss(t,y,h,p.readTime)?this.Xi(e,zf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,s,o){return o_(t)||o.isEqual(Ie.min())?K.resolve(null):this.Zi.getDocuments(e,s).next(l=>{const h=this.rs(t,l);return this.ss(t,h,s,o)?K.resolve(null):(vo()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(t)),this.os(e,h,t,sS(o,-1)).next(d=>d))})}rs(e,t){let s=new Et(Qv(e));return t.forEach((o,l)=>{sh(e,l)&&(s=s.add(l))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,s){return vo()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",wo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ci.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new rt(De),this.cs=new vs(l=>Ep(l),Tp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CC(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function MC(r,e,t,s){return new LC(r,e,t,s)}async function _w(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=xe();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function jC(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const w=y.batch,T=w.keys();let C=K.resolve();return T.forEach(O=>{C=C.next(()=>_.getEntry(p,O)).next(L=>{const x=y.docVersions.get(O);Be(x!==null),L.version.compareTo(x)<0&&(w.applyToRemoteDocument(L,y),L.isValidDocument()&&(L.setReadTime(y.commitVersion),_.addEntry(L)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=xe();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function vw(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function FC(r,e){const t=Se(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;d.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,w)));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(bt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,s)),o=o.insert(w,C),function(L,x,Q){return L.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(T,C,_)&&d.push(t.Gr.updateTargetData(l,C))});let p=Ur(),y=xe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(UC(l,h,e.documentUpdates).next(_=>{p=_.Is,y=_.ds})),!s.isEqual(Ie.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(w=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return K.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function UC(r,e,t){let s=xe(),o=xe();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=Ur();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ue("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:h,ds:o}})}function zC(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function BC(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(l=>l?(o=l,K.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new _i(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function Kf(r,e,t){const s=Se(r),o=s.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!zo(h))throw h;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function __(r,e,t){const s=Se(r);let o=Ie.min(),l=xe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,_){const w=Se(p),T=w.cs.get(_);return T!==void 0?K.resolve(w.us.get(T)):w.Gr.getTargetData(y,_)}(s,h,ur(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?l:xe())).next(d=>($C(s,xS(e),d),{documents:d,Es:l})))}function $C(r,e,t){let s=r.ls.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.ls.set(e,s)}class v_{constructor(){this.activeTargetIds=LS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WC{constructor(){this._o=new v_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new v_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function ff(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class qC extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,s,o,l,h){const d=ff(),p=this.No(t,s.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,l,h),this.Lo(t,p,y,o).then(_=>(ue("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw Ao("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,s,o,l,h,d){return this.Oo(t,s,o,l,h)}Bo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,s){const o=KC[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,s,o){const l=ff();return new Promise((h,d)=>{const p=new Nv;p.setWithCredentials(!0),p.listenOnce(Dv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ju.NO_ERROR:const _=p.getResponseJson();ue(Ut,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case Ju.TIMEOUT:ue(Ut,`RPC '${e}' ${l} timed out`),d(new ce(q.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const w=p.getStatus();if(ue(Ut,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const O=function(x){const Q=x.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(Q)>=0?Q:q.UNKNOWN}(C.status);d(new ce(O,C.message))}else d(new ce(q.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ce(q.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue(Ut,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ue(Ut,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,s,15)})}qo(e,t,s){const o=ff(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=bv(),d=Vv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=l.join("");ue(Ut,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=h.createWebChannel(_,p);let T=!1,C=!1;const O=new GC({Eo:x=>{C?ue(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(T||(ue(Ut,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ue(Ut,`RPC '${e}' stream ${o} sending:`,x),w.send(x))},Ao:()=>w.close()}),L=(x,Q,X)=>{x.listen(Q,te=>{try{X(te)}catch(Y){setTimeout(()=>{throw Y},0)}})};return L(w,Ba.EventType.OPEN,()=>{C||(ue(Ut,`RPC '${e}' stream ${o} transport opened.`),O.So())}),L(w,Ba.EventType.CLOSE,()=>{C||(C=!0,ue(Ut,`RPC '${e}' stream ${o} transport closed`),O.Do())}),L(w,Ba.EventType.ERROR,x=>{C||(C=!0,Ao(Ut,`RPC '${e}' stream ${o} transport errored:`,x),O.Do(new ce(q.UNAVAILABLE,"The operation could not be completed")))}),L(w,Ba.EventType.MESSAGE,x=>{var Q;if(!C){const X=x.data[0];Be(!!X);const te=X,Y=(te==null?void 0:te.error)||((Q=te[0])===null||Q===void 0?void 0:Q.error);if(Y){ue(Ut,`RPC '${e}' stream ${o} received error:`,Y);const pe=Y.status;let oe=function(k){const P=ft[k];if(P!==void 0)return aw(P)}(pe),N=Y.message;oe===void 0&&(oe=q.INTERNAL,N="Unknown error status: "+pe+" with message "+Y.message),C=!0,O.Do(new ce(oe,N)),w.close()}else ue(Ut,`RPC '${e}' stream ${o} received:`,X),O.vo(X)}}),L(d,Ov.STAT_EVENT,x=>{x.stat===bf.PROXY?ue(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===bf.NOPROXY&&ue(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(r){return new tC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t,s=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t,s,o,l,h,d,p){this.li=e,this.Yo=s,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ww(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new ce(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.d_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QC extends Ew{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=iC(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ie.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?cr(h.readTime):Ie.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=Hf(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=Ff(p)?{documents:aC(l,p)}:{query:lC(l,p).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=cw(l,h.resumeToken);const y=Bf(l,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){d.readTime=gc(l,h.snapshotVersion.toTimestamp());const y=Bf(l,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const s=cC(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=Hf(this.serializer),t.removeTarget=e,this.c_(t)}}class XC extends Ew{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=oC(e.writeResults,e.commitTime),s=cr(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=Hf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>sC(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,$f(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(q.UNKNOWN,l.toString())})}ko(e,t,s,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,$f(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(q.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class JC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Fr(t),this.C_=!1):ue("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{ws(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.k_.add(4),await vl(y),y.K_.set("Unknown"),y.k_.delete(4),await ch(y)}(this))})}),this.K_=new JC(s,o)}}async function ch(r){if(ws(r))for(const e of r.q_)await e(!0)}async function vl(r){for(const e of r.q_)await e(!1)}function Tw(r,e){const t=Se(r);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Vp(t)?Op(t):$o(t).s_()&&Dp(t,e))}function Np(r,e){const t=Se(r),s=$o(t);t.L_.delete(e),s.s_()&&Iw(t,e),t.L_.size===0&&(s.s_()?s.a_():ws(t)&&t.K_.set("Unknown"))}function Dp(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$o(r).V_(e)}function Iw(r,e){r.U_.xe(e),$o(r).m_(e)}function Op(r){r.U_=new YS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),$o(r).start(),r.K_.F_()}function Vp(r){return ws(r)&&!$o(r).i_()&&r.L_.size>0}function ws(r){return Se(r).k_.size===0}function Sw(r){r.U_=void 0}async function eA(r){r.K_.set("Online")}async function tA(r){r.L_.forEach((e,t)=>{Dp(r,e)})}async function nA(r,e){Sw(r),Vp(r)?(r.K_.O_(e),Op(r)):r.K_.set("Unknown")}async function rA(r,e,t){if(r.K_.set("Online"),e instanceof uw&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.L_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.L_.delete(d),o.U_.removeTarget(d))}(r,e)}catch(s){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _c(r,s)}else if(e instanceof nc?r.U_.$e(e):e instanceof lw?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Ie.min()))try{const s=await vw(r.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.U_.it(h);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.L_.get(y);_&&l.L_.set(y,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,y)=>{const _=l.L_.get(p);if(!_)return;l.L_.set(p,_.withResumeToken(bt.EMPTY_BYTE_STRING,_.snapshotVersion)),Iw(l,p);const w=new _i(_.target,p,y,_.sequenceNumber);Dp(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ue("RemoteStore","Failed to raise snapshot:",s),await _c(r,s)}}async function _c(r,e,t){if(!zo(e))throw e;r.k_.add(1),await vl(r),r.K_.set("Offline"),t||(t=()=>vw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await ch(r)})}function Cw(r,e){return e().catch(t=>_c(r,t,e))}async function hh(r){const e=Se(r),t=Pi(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;iA(e);)try{const o=await zC(e.localStore,s);if(o===null){e.B_.length===0&&t.a_();break}s=o.batchId,sA(e,o)}catch(o){await _c(e,o)}Aw(e)&&kw(e)}function iA(r){return ws(r)&&r.B_.length<10}function sA(r,e){r.B_.push(e);const t=Pi(r);t.s_()&&t.f_&&t.g_(e.mutations)}function Aw(r){return ws(r)&&!Pi(r).i_()&&r.B_.length>0}function kw(r){Pi(r).start()}async function oA(r){Pi(r).w_()}async function aA(r){const e=Pi(r);for(const t of r.B_)e.g_(t.mutations)}async function lA(r,e,t){const s=r.B_.shift(),o=Cp.from(s,e,t);await Cw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await hh(r)}async function uA(r,e){e&&Pi(r).f_&&await async function(s,o){if(function(h){return qS(h)&&h!==q.ABORTED}(o.code)){const l=s.B_.shift();Pi(s).__(),await Cw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await hh(s)}}(r,e),Aw(r)&&kw(r)}async function E_(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const s=ws(t);t.k_.add(3),await vl(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await ch(t)}async function cA(r,e){const t=Se(r);e?(t.k_.delete(2),await ch(t)):e||(t.k_.add(2),await vl(t),t.K_.set("Unknown"))}function $o(r){return r.W_||(r.W_=function(t,s,o){const l=Se(t);return l.b_(),new QC(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:eA.bind(null,r),mo:tA.bind(null,r),po:nA.bind(null,r),R_:rA.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),Vp(r)?Op(r):r.K_.set("Unknown")):(await r.W_.stop(),Sw(r))})),r.W_}function Pi(r){return r.G_||(r.G_=function(t,s,o){const l=Se(t);return l.b_(),new XC(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:oA.bind(null,r),po:uA.bind(null,r),p_:aA.bind(null,r),y_:lA.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await hh(r)):(await r.G_.stop(),r.B_.length>0&&(ue("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new bp(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(r,e){if(Fr("AsyncQueue",`${e}: ${r}`),zo(r))return new ce(q.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=$a(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.z_=new rt(ye.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Do{constructor(e,t,s,o,l,h,d,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Do(e,t,Co.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class dA{constructor(){this.queries=I_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Se(t),l=o.queries;o.queries=I_(),l.forEach((h,d)=>{for(const p of d.J_)p.onError(s)})})(this,new ce(q.ABORTED,"Firestore shutting down"))}}function I_(){return new vs(r=>qv(r),ih)}async function Rw(r,e){const t=Se(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(s=2):(l=new hA,s=e.Z_()?0:1);try{switch(s){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Lp(h,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Mp(t)}async function Pw(r,e){const t=Se(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function fA(r,e){const t=Se(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.J_)d.ta(o)&&(s=!0);h.H_=o}}s&&Mp(t)}function pA(r,e,t){const s=Se(r),o=s.queries.get(e);if(o)for(const l of o.J_)l.onError(t);s.queries.delete(e)}function Mp(r){r.X_.forEach(e=>{e.next()})}var Gf,S_;(S_=Gf||(Gf={})).na="default",S_.Cache="cache";class xw{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Do(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Gf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.key=e}}class Dw{constructor(e){this.key=e}}class mA{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=Qv(e),this.ma=new Co(this.Va)}get fa(){return this.Ea}ga(e,t){const s=t?t.pa:new T_,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),C=sh(this.query,w)?w:null,O=!!T&&this.mutatedKeys.has(T.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let x=!1;T&&C?T.data.isEqual(C.data)?O!==L&&(s.track({type:3,doc:C}),x=!0):this.ya(T,C)||(s.track({type:2,doc:C}),x=!0,(p&&this.Va(C,p)>0||y&&this.Va(C,y)<0)&&(d=!0)):!T&&C?(s.track({type:0,doc:C}),x=!0):T&&!C&&(s.track({type:1,doc:T}),x=!0,(p||y)&&(d=!0)),x&&(C?(h=h.add(C),l=L?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{ma:h,pa:s,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((_,w)=>function(C,O){const L=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return L(C)-L(O)}(_.type,w.type)||this.Va(_.doc,w.doc)),this.wa(s),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new Do(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new T_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new Dw(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new Nw(s))}),t}va(e){this.Ea=e.Es,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Do.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class gA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class yA{constructor(e){this.key=e,this.Fa=!1}}class _A{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new vs(d=>qv(d),ih),this.Oa=new Map,this.Na=new Set,this.Ba=new rt(ye.comparator),this.La=new Map,this.ka=new Rp,this.qa={},this.Qa=new Map,this.Ka=No.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function vA(r,e,t=!0){const s=jw(r);let o;const l=s.xa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await Ow(s,e,t,!0),o}async function wA(r,e){const t=jw(r);await Ow(t,e,!0,!1)}async function Ow(r,e,t,s){const o=await BC(r.localStore,ur(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await EA(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Tw(r.remoteStore,o),d}async function EA(r,e,t,s,o){r.Ua=(w,T,C)=>async function(L,x,Q,X){let te=x.view.ga(Q);te.ss&&(te=await __(L.localStore,x.query,!1).then(({documents:N})=>x.view.ga(N,te)));const Y=X&&X.targetChanges.get(x.targetId),pe=X&&X.targetMismatches.get(x.targetId)!=null,oe=x.view.applyChanges(te,L.isPrimaryClient,Y,pe);return A_(L,x.targetId,oe.ba),oe.snapshot}(r,w,T,C);const l=await __(r.localStore,e,!0),h=new mA(e,l.Es),d=h.ga(l.documents),p=_l.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(d,r.isPrimaryClient,p);A_(r,t,y.ba);const _=new gA(e,t,h);return r.xa.set(e,_),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),y.snapshot}async function TA(r,e,t){const s=Se(r),o=s.xa.get(e),l=s.Oa.get(o.targetId);if(l.length>1)return s.Oa.set(o.targetId,l.filter(h=>!ih(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Kf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Np(s.remoteStore,o.targetId),qf(s,o.targetId)}).catch(Uo)):(qf(s,o.targetId),await Kf(s.localStore,o.targetId,!0))}async function IA(r,e){const t=Se(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Np(t.remoteStore,s.targetId))}async function SA(r,e,t){const s=NA(r);try{const o=await function(h,d){const p=Se(h),y=wt.now(),_=d.reduce((C,O)=>C.add(O.key),xe());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let O=Ur(),L=xe();return p.hs.getEntries(C,_).next(x=>{O=x,O.forEach((Q,X)=>{X.isValidDocument()||(L=L.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,O)).next(x=>{w=x;const Q=[];for(const X of d){const te=$S(X,w.get(X.key).overlayedDocument);te!=null&&Q.push(new Vi(X.key,te,Uv(te.value.mapValue),Pn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,Q,d)}).next(x=>{T=x;const Q=x.applyToLocalDocumentSet(w,L);return p.documentOverlayCache.saveOverlays(C,x.batchId,Q)})}).then(()=>({batchId:T.batchId,changes:Yv(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let y=h.qa[h.currentUser.toKey()];y||(y=new rt(De)),y=y.insert(d,p),h.qa[h.currentUser.toKey()]=y}(s,o.batchId,t),await wl(s,o.changes),await hh(s.remoteStore)}catch(o){const l=Lp(o,"Failed to persist write");t.reject(l)}}async function Vw(r,e){const t=Se(r);try{const s=await FC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.La.get(l);h&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?Be(h.Fa):o.removedDocuments.size>0&&(Be(h.Fa),h.Fa=!1))}),await wl(t,s,e)}catch(s){await Uo(s)}}function C_(r,e,t){const s=Se(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((l,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Se(h);p.onlineState=d;let y=!1;p.queries.forEach((_,w)=>{for(const T of w.J_)T.ea(d)&&(y=!0)}),y&&Mp(p)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CA(r,e,t){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.La.get(e),l=o&&o.key;if(l){let h=new rt(ye.comparator);h=h.insert(l,$t.newNoDocument(l,Ie.min()));const d=xe().add(l),p=new lh(Ie.min(),new Map,new rt(De),h,d);await Vw(s,p),s.Ba=s.Ba.remove(l),s.La.delete(e),jp(s)}else await Kf(s.localStore,e,!1).then(()=>qf(s,e,t)).catch(Uo)}async function AA(r,e){const t=Se(r),s=e.batch.batchId;try{const o=await jC(t.localStore,e);Lw(t,s,null),bw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await wl(t,o)}catch(o){await Uo(o)}}async function kA(r,e,t){const s=Se(r);try{const o=await function(h,d){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(w=>(Be(w!==null),_=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(s.localStore,e);Lw(s,e,t),bw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await wl(s,o)}catch(o){await Uo(o)}}function bw(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function Lw(r,e,t){const s=Se(r);let o=s.qa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function qf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||Mw(r,s)})}function Mw(r,e){r.Na.delete(e.path.canonicalString());const t=r.Ba.get(e);t!==null&&(Np(r.remoteStore,t),r.Ba=r.Ba.remove(e),r.La.delete(t),jp(r))}function A_(r,e,t){for(const s of t)s instanceof Nw?(r.ka.addReference(s.key,e),RA(r,s)):s instanceof Dw?(ue("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||Mw(r,s.key)):Te()}function RA(r,e){const t=e.key,s=t.path.canonicalString();r.Ba.get(t)||r.Na.has(s)||(ue("SyncEngine","New document in limbo: "+t),r.Na.add(s),jp(r))}function jp(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new ye(Ye.fromString(e)),s=r.Ka.next();r.La.set(s,new yA(t)),r.Ba=r.Ba.insert(t,s),Tw(r.remoteStore,new _i(ur(rh(t.path)),s,"TargetPurposeLimboResolution",eh.oe))}}async function wl(r,e,t){const s=Se(r),o=[],l=[],h=[];s.xa.isEmpty()||(s.xa.forEach((d,p)=>{h.push(s.Ua(p,e,t).then(y=>{var _;if((y||t)&&s.isPrimaryClient){const w=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=xp.zi(p.targetId,y);l.push(w)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(p,y){const _=Se(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>K.forEach(y,T=>K.forEach(T.Wi,C=>_.persistence.referenceDelegate.addReference(w,T.targetId,C)).next(()=>K.forEach(T.Gi,C=>_.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))}catch(w){if(!zo(w))throw w;ue("LocalStore","Failed to update sequence numbers: "+w)}for(const w of y){const T=w.targetId;if(!w.fromCache){const C=_.us.get(T),O=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(O);_.us=_.us.insert(T,L)}}}(s.localStore,l))}async function PA(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const s=await _w(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new ce(q.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wl(t,s.Ts)}}function xA(r,e){const t=Se(r),s=t.La.get(e);if(s&&s.Fa)return xe().add(s.key);{let o=xe();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const d=t.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function jw(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CA.bind(null,e),e.Ma.R_=fA.bind(null,e.eventManager),e.Ma.Wa=pA.bind(null,e.eventManager),e}function NA(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kA.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return MC(this.persistence,new bC,e.initialUser,this.serializer)}ja(e){return new yw(Pp.ei,this.serializer)}za(e){return new WC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class DA extends vc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Be(this.persistence.referenceDelegate instanceof yc);const s=this.persistence.referenceDelegate.garbageCollector;return new wC(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new yw(s=>yc.ei(s,t),this.serializer)}}class Qf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PA.bind(null,this.syncEngine),await cA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dA}()}createDatastore(e){const t=uh(e.databaseInfo.databaseId),s=function(l){return new qC(l)}(e.databaseInfo);return function(l,h,d,p){return new YC(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new ZC(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>C_(this.syncEngine,t,0),function(){return w_.p()?new w_:new HC}())}createSyncEngine(e,t){return function(o,l,h,d,p,y,_){const w=new _A(o,l,h,d,p,y);return _&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Se(o);ue("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await vl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Qf.provider={build:()=>new Qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Bt.UNAUTHENTICATED,this.clientId=Mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ue("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Lp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function mf(r,e){r.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await _w(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function k_(r,e){r.asyncQueue.verifyOperationInProgress();const t=await VA(r);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>E_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>E_(e.remoteStore,o)),r._onlineComponents=e}async function VA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await mf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===q.FAILED_PRECONDITION||o.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ao("Error using user provided cache. Falling back to memory cache: "+t),await mf(r,new vc)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await mf(r,new DA(void 0));return r._offlineComponents}async function Uw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await k_(r,r._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await k_(r,new Qf))),r._onlineComponents}function bA(r){return Uw(r).then(e=>e.syncEngine)}async function Xf(r){const e=await Uw(r),t=e.eventManager;return t.onListen=vA.bind(null,e.syncEngine),t.onUnlisten=TA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IA.bind(null,e.syncEngine),t}function LA(r,e,t={}){const s=new Ii;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,y){const _=new Fw({next:T=>{_.eu(),h.enqueueAndForget(()=>Pw(l,w));const C=T.docs.has(d);!C&&T.fromCache?y.reject(new ce(q.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?y.reject(new ce(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),w=new xw(rh(d.path),_,{includeMetadataChanges:!0,ua:!0});return Rw(l,w)}(await Xf(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r,e,t){if(!t)throw new ce(q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MA(r,e,t,s){if(e===!0&&s===!0)throw new ce(q.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function P_(r){if(!ye.isDocumentKey(r))throw new ce(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function x_(r){if(ye.isDocumentKey(r))throw new ce(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function xn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dh(r);throw new ce(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fh{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new XI;switch(s.type){case"firstParty":return new eS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=R_.get(t);s&&(ue("ComponentProvider","Removing Datastore"),R_.delete(t),s.terminate())}(this),Promise.resolve()}}function jA(r,e,t,s={}){var o;const l=(r=xn(r,fh))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=Bt.MOCK_USER;else{d=N1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new ce(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Bt(y)}r._authCredentials=new YI(new Lv(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class Wt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class Si extends Es{constructor(e,t,s){super(e,t,rh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ye(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function wc(r,e,...t){if(r=hr(r),Bw("collection","path",e),r instanceof fh){const s=Ye.fromString(e,...t);return x_(s),new Si(r,null,s)}{if(!(r instanceof Wt||r instanceof Si))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ye.fromString(e,...t));return x_(s),new Si(r.firestore,null,s)}}function Kn(r,e,...t){if(r=hr(r),arguments.length===1&&(e=Mv.newId()),Bw("doc","path",e),r instanceof fh){const s=Ye.fromString(e,...t);return P_(s),new Wt(r,null,new ye(s))}{if(!(r instanceof Wt||r instanceof Si))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ye.fromString(e,...t));return P_(s),new Wt(r.firestore,r instanceof Si?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ww(this,"async_queue_retry"),this.fu=()=>{const s=pf();s&&ue("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=pf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=pf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Ii;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!zo(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Fr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=bp.createAndSchedule(this,e,t,s,l=>this.Su(l));return this.Eu.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function O_(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class xi extends fh{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new D_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D_(e),this._firestoreClient=void 0,await e}}}function FA(r,e){const t=typeof r=="object"?r:UI(),s=typeof r=="string"?r:"(default)",o=LI(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=P1("firestore");l&&jA(o,...l)}return o}function Fp(r){if(r._terminated)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||UA(r),r._firestoreClient}function UA(r){var e,t,s;const o=r._freezeSettings(),l=function(d,p,y,_){return new mS(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,zw(_.experimentalLongPollingOptions),_.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new OA(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo(bt.fromBase64String(e))}catch(t){throw new ce(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oo(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=/^__.*__$/;class BA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,t,this.fieldTransforms):new yl(e,this.data,t,this.fieldTransforms)}}class $w{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Vi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ww(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class mh{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new mh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Bu(e),o}Lu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ec(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Ww(this.Mu)&&zA.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class $A{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||uh(e)}$u(e,t,s,o=!1){return new mh({Mu:e,methodName:t,Ku:s,path:Vt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gh(r){const e=r._freezeSettings(),t=uh(r._databaseId);return new $A(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Hw(r,e,t,s,o,l={}){const h=r.$u(l.merge||l.mergeFields?2:0,e,t,o);Wp("Data must be an object, but it was:",h,s);const d=Kw(s,h);let p,y;if(l.merge)p=new gn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const T=Yf(e,w,t);if(!h.contains(T))throw new ce(q.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);qw(_,T)||_.push(T)}p=new gn(_),y=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=h.fieldTransforms;return new BA(new on(d),p,y)}class yh extends El{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}function WA(r,e,t){return new mh({Mu:3,Ku:e.settings.Ku,methodName:r._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bp extends El{_toFieldTransform(e){return new iw(e.path,new dl)}isEqual(e){return e instanceof Bp}}class $p extends El{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=WA(this,e,!0),s=this.Uu.map(l=>Wo(l,t)),o=new xo(s);return new iw(e.path,o)}isEqual(e){return e instanceof $p&&cc(this.Uu,e.Uu)}}function HA(r,e,t,s){const o=r.$u(1,e,t);Wp("Data must be an object, but it was:",o,s);const l=[],h=on.empty();Oi(s,(p,y)=>{const _=Hp(e,p,t);y=hr(y);const w=o.Lu(_);if(y instanceof yh)l.push(_);else{const T=Wo(y,w);T!=null&&(l.push(_),h.set(_,T))}});const d=new gn(l);return new $w(h,d,o.fieldTransforms)}function KA(r,e,t,s,o,l){const h=r.$u(1,e,t),d=[Yf(e,s,t)],p=[o];if(l.length%2!=0)throw new ce(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(Yf(e,l[T])),p.push(l[T+1]);const y=[],_=on.empty();for(let T=d.length-1;T>=0;--T)if(!qw(y,d[T])){const C=d[T];let O=p[T];O=hr(O);const L=h.Lu(C);if(O instanceof yh)y.push(C);else{const x=Wo(O,L);x!=null&&(y.push(C),_.set(C,x))}}const w=new gn(y);return new $w(_,w,h.fieldTransforms)}function GA(r,e,t,s=!1){return Wo(t,r.$u(s?4:3,e))}function Wo(r,e){if(Gw(r=hr(r)))return Wp("Unsupported field value:",e,r),Kw(r,e);if(r instanceof El)return function(s,o){if(!Ww(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=Wo(d,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=hr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=wt.fromDate(s);return{timestampValue:gc(o.serializer,l)}}if(s instanceof wt){const l=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gc(o.serializer,l)}}if(s instanceof Up)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Oo)return{bytesValue:cw(o.serializer,s._byteString)};if(s instanceof Wt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:kp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zp)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Ip(d.serializer,p)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${dh(s)}`)}(r,e)}function Kw(r,e){const t={};return jv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oi(r,(s,o)=>{const l=Wo(o,e.Ou(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function Gw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wt||r instanceof Up||r instanceof Oo||r instanceof Wt||r instanceof El||r instanceof zp)}function Wp(r,e,t){if(!Gw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=dh(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function Yf(r,e,t){if((e=hr(e))instanceof ph)return e._internalPath;if(typeof e=="string")return Hp(r,e);throw Ec("Field path arguments must be of type string or ",r,!1,void 0,t)}const qA=new RegExp("[~\\*/\\[\\]]");function Hp(r,e,t){if(e.search(qA)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ph(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ec(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(q.INVALID_ARGUMENT,d+r+p)}function qw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_h("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QA extends Qw{data(){return super.data()}}function _h(r,e){return typeof e=="string"?Hp(r,e):e instanceof ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class Xw extends Kp{}function Yw(r,e,...t){let s=[];e instanceof Kp&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof Gp).length,d=l.filter(p=>p instanceof vh).length;if(h>1||h>0&&d>0)throw new ce(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class vh extends Xw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new vh(e,t,s)}_apply(e){const t=this._parse(e);return Zw(e._query,t),new Es(e.firestore,e.converter,Uf(e._query,t))}_parse(e){const t=gh(e.firestore);return function(l,h,d,p,y,_,w){let T;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){b_(w,_);const C=[];for(const O of w)C.push(V_(p,l,O));T={arrayValue:{values:C}}}else T=V_(p,l,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||b_(w,_),T=GA(d,h,w,_==="in"||_==="not-in");return pt.create(y,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Jw(r,e,t){const s=e,o=_h("where",r);return vh._create(o,s,t)}class Gp extends Kp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Gn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)Zw(h,p),h=Uf(h,p)}(e._query,t),new Es(e.firestore,e.converter,Uf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qp extends Xw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qp(e,t)}_apply(e){const t=function(o,l,h){if(o.startAt!==null)throw new ce(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hl(l,h)}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new Bo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function YA(r,e="asc"){const t=e,s=_h("orderBy",r);return qp._create(s,t)}function V_(r,e,t){if(typeof(t=hr(t))=="string"){if(t==="")throw new ce(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gv(e)&&t.indexOf("/")!==-1)throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ye.fromString(t));if(!ye.isDocumentKey(s))throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return e_(r,new ye(s))}if(t instanceof Wt)return e_(r,t._key);throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(t)}.`)}function b_(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zw(r,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class JA{convertValue(e,t="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Oi(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>ut(h.doubleValue));return new zp(l)}convertGeoPoint(e){return new Up(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=nh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const t=Ai(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ye.fromString(e);Be(gw(s));const o=new ul(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return o.isEqual(t)||Fr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tE extends Qw{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(_h("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class rc extends tE{data(e={}){return super.data(e)}}class ZA{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ha(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new rc(this._firestore,this._userDataWriter,s.key,s,new Ha(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new rc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ha(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new rc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ha(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:ek(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ek(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(r){r=xn(r,Wt);const e=xn(r.firestore,xi);return LA(Fp(e),r._key).then(t=>iE(e,r,t))}class rE extends JA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}}function Jf(r,e,t){r=xn(r,Wt);const s=xn(r.firestore,xi),o=eE(r.converter,e,t);return wh(s,[Hw(gh(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Pn.none())])}function Tc(r,e,t,...s){r=xn(r,Wt);const o=xn(r.firestore,xi),l=gh(o);let h;return h=typeof(e=hr(e))=="string"||e instanceof ph?KA(l,"updateDoc",r._key,e,t,s):HA(l,"updateDoc",r._key,e),wh(o,[h.toMutation(r._key,Pn.exists(!0))])}function tk(r){return wh(xn(r.firestore,xi),[new Sp(r._key,Pn.none())])}function nk(r,e){const t=xn(r.firestore,xi),s=Kn(r),o=eE(r.converter,e);return wh(t,[Hw(gh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Pn.exists(!1))]).then(()=>s)}function Vo(r,...e){var t,s,o;r=hr(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||O_(e[h])||(l=e[h],h++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(O_(e[h])){const w=e[h];e[h]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[h+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,y,_;if(r instanceof Wt)y=xn(r.firestore,xi),_=rh(r._key.path),p={next:w=>{e[h]&&e[h](iE(y,r,w))},error:e[h+1],complete:e[h+2]};else{const w=xn(r,Es);y=xn(w.firestore,xi),_=w._query;const T=new rE(y);p={next:C=>{e[h]&&e[h](new ZA(y,T,w,C))},error:e[h+1],complete:e[h+2]},XA(r._query)}return function(T,C,O,L){const x=new Fw(L),Q=new xw(C,x,O);return T.asyncQueue.enqueueAndForget(async()=>Rw(await Xf(T),Q)),()=>{x.eu(),T.asyncQueue.enqueueAndForget(async()=>Pw(await Xf(T),Q))}}(Fp(y),_,d,p)}function wh(r,e){return function(s,o){const l=new Ii;return s.asyncQueue.enqueueAndForget(async()=>SA(await bA(s),o,l)),l.promise}(Fp(r),e)}function iE(r,e,t){const s=t.docs.get(e._key),o=new rE(r);return new tE(r,o,e._key,s,new Ha(t.hasPendingWrites,t.fromCache),e.converter)}function Ic(){return new Bp("serverTimestamp")}function sE(...r){return new $p("arrayUnion",r)}(function(e,t=!0){(function(o){Fo=o})(FI),dc(new ol("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new xi(new JI(s.getProvider("auth-internal")),new nS(s.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(y.options.projectId,_)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),So(qy,"4.7.6",e),So(qy,"4.7.6","esm2017")})();var rk="firebase",ik="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(rk,ik,"app");const sk={apiKey:"AIzaSyBeuAxA35t_LabwU8Gu-rkuV-mkd02qL0s",authDomain:"test-project-multiplayer.firebaseapp.com",projectId:"test-project-multiplayer",storageBucket:"test-project-multiplayer.firebasestorage.app",messagingSenderId:"983160703654",appId:"1:983160703654:web:535d064be3bd8ccf7e0267",measurementId:"G-FNH4PJMMRD"},ok=kv(sk),Qt=FA(ok);let ak={data:""},lk=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||ak,uk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ck=/\/\*[^]*?\*\/|  +/g,L_=/\n+/g,mi=(r,e)=>{let t="",s="",o="";for(let l in r){let h=r[l];l[0]=="@"?l[1]=="i"?t=l+" "+h+";":s+=l[1]=="f"?mi(h,l):l+"{"+mi(h,l[1]=="k"?"":e)+"}":typeof h=="object"?s+=mi(h,e?e.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):l):h!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=mi.p?mi.p(l,h):l+":"+h+";")}return t+(e&&o?e+"{"+o+"}":o)+s},Dr={},oE=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+oE(r[t]);return e}return r},hk=(r,e,t,s,o)=>{let l=oE(r),h=Dr[l]||(Dr[l]=(p=>{let y=0,_=11;for(;y<p.length;)_=101*_+p.charCodeAt(y++)>>>0;return"go"+_})(l));if(!Dr[h]){let p=l!==r?r:(y=>{let _,w,T=[{}];for(;_=uk.exec(y.replace(ck,""));)_[4]?T.shift():_[3]?(w=_[3].replace(L_," ").trim(),T.unshift(T[0][w]=T[0][w]||{})):T[0][_[1]]=_[2].replace(L_," ").trim();return T[0]})(r);Dr[h]=mi(o?{["@keyframes "+h]:p}:p,t?"":"."+h)}let d=t&&Dr.g?Dr.g:null;return t&&(Dr.g=Dr[h]),((p,y,_,w)=>{w?y.data=y.data.replace(w,p):y.data.indexOf(p)===-1&&(y.data=_?p+y.data:y.data+p)})(Dr[h],e,s,d),h},dk=(r,e,t)=>r.reduce((s,o,l)=>{let h=e[l];if(h&&h.call){let d=h(t),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;h=p?"."+p:d&&typeof d=="object"?d.props?"":mi(d,""):d===!1?"":d}return s+o+(h??"")},"");function Eh(r){let e=this||{},t=r.call?r(e.p):r;return hk(t.unshift?t.raw?dk(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,lk(e.target),e.g,e.o,e.k)}let aE,Zf,ep;Eh.bind({g:1});let zr=Eh.bind({k:1});function fk(r,e,t,s){mi.p=e,aE=r,Zf=t,ep=s}function bi(r,e){let t=this||{};return function(){let s=arguments;function o(l,h){let d=Object.assign({},l),p=d.className||o.className;t.p=Object.assign({theme:Zf&&Zf()},d),t.o=/ *go\d+/.test(p),d.className=Eh.apply(t,s)+(p?" "+p:"");let y=r;return r[0]&&(y=d.as||r,delete d.as),ep&&y[0]&&ep(d),aE(y,d)}return o}}var pk=r=>typeof r=="function",Sc=(r,e)=>pk(r)?r(e):r,mk=(()=>{let r=0;return()=>(++r).toString()})(),lE=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),gk=20,uE=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,gk)};case 1:return{...r,toasts:r.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return uE(r,{type:r.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...r,toasts:r.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let o=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},ic=[],sc={toasts:[],pausedAt:void 0},Ts=r=>{sc=uE(sc,r),ic.forEach(e=>{e(sc)})},yk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_k=(r={})=>{let[e,t]=W.useState(sc);W.useEffect(()=>(ic.push(t),()=>{let o=ic.indexOf(t);o>-1&&ic.splice(o,1)}),[e]);let s=e.toasts.map(o=>{var l,h,d;return{...r,...r[o.type],...o,removeDelay:o.removeDelay||((l=r[o.type])==null?void 0:l.removeDelay)||(r==null?void 0:r.removeDelay),duration:o.duration||((h=r[o.type])==null?void 0:h.duration)||(r==null?void 0:r.duration)||yk[o.type],style:{...r.style,...(d=r[o.type])==null?void 0:d.style,...o.style}}});return{...e,toasts:s}},vk=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||mk()}),Tl=r=>(e,t)=>{let s=vk(e,r,t);return Ts({type:2,toast:s}),s.id},Pe=(r,e)=>Tl("blank")(r,e);Pe.error=Tl("error");Pe.success=Tl("success");Pe.loading=Tl("loading");Pe.custom=Tl("custom");Pe.dismiss=r=>{Ts({type:3,toastId:r})};Pe.remove=r=>Ts({type:4,toastId:r});Pe.promise=(r,e,t)=>{let s=Pe.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let l=e.success?Sc(e.success,o):void 0;return l?Pe.success(l,{id:s,...t,...t==null?void 0:t.success}):Pe.dismiss(s),o}).catch(o=>{let l=e.error?Sc(e.error,o):void 0;l?Pe.error(l,{id:s,...t,...t==null?void 0:t.error}):Pe.dismiss(s)}),r};var wk=(r,e)=>{Ts({type:1,toast:{id:r,height:e}})},Ek=()=>{Ts({type:5,time:Date.now()})},Ya=new Map,Tk=1e3,Ik=(r,e=Tk)=>{if(Ya.has(r))return;let t=setTimeout(()=>{Ya.delete(r),Ts({type:4,toastId:r})},e);Ya.set(r,t)},Sk=r=>{let{toasts:e,pausedAt:t}=_k(r);W.useEffect(()=>{if(t)return;let l=Date.now(),h=e.map(d=>{if(d.duration===1/0)return;let p=(d.duration||0)+d.pauseDuration-(l-d.createdAt);if(p<0){d.visible&&Pe.dismiss(d.id);return}return setTimeout(()=>Pe.dismiss(d.id),p)});return()=>{h.forEach(d=>d&&clearTimeout(d))}},[e,t]);let s=W.useCallback(()=>{t&&Ts({type:6,time:Date.now()})},[t]),o=W.useCallback((l,h)=>{let{reverseOrder:d=!1,gutter:p=8,defaultPosition:y}=h||{},_=e.filter(C=>(C.position||y)===(l.position||y)&&C.height),w=_.findIndex(C=>C.id===l.id),T=_.filter((C,O)=>O<w&&C.visible).length;return _.filter(C=>C.visible).slice(...d?[T+1]:[0,T]).reduce((C,O)=>C+(O.height||0)+p,0)},[e]);return W.useEffect(()=>{e.forEach(l=>{if(l.dismissed)Ik(l.id,l.removeDelay);else{let h=Ya.get(l.id);h&&(clearTimeout(h),Ya.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:wk,startPause:Ek,endPause:s,calculateOffset:o}}},Ck=zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ak=zr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kk=zr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Rk=bi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ck} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ak} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Pk=zr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xk=bi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${Pk} 1s linear infinite;
`,Nk=zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Dk=zr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ok=bi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Dk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Vk=bi("div")`
  position: absolute;
`,bk=bi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Lk=zr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Mk=bi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Lk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jk=({toast:r})=>{let{icon:e,type:t,iconTheme:s}=r;return e!==void 0?typeof e=="string"?W.createElement(Mk,null,e):e:t==="blank"?null:W.createElement(bk,null,W.createElement(xk,{...s}),t!=="loading"&&W.createElement(Vk,null,t==="error"?W.createElement(Rk,{...s}):W.createElement(Ok,{...s})))},Fk=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Uk=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,zk="0%{opacity:0;} 100%{opacity:1;}",Bk="0%{opacity:1;} 100%{opacity:0;}",$k=bi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Wk=bi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Hk=(r,e)=>{let t=r.includes("top")?1:-1,[s,o]=lE()?[zk,Bk]:[Fk(t),Uk(t)];return{animation:e?`${zr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${zr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Kk=W.memo(({toast:r,position:e,style:t,children:s})=>{let o=r.height?Hk(r.position||e||"top-center",r.visible):{opacity:0},l=W.createElement(jk,{toast:r}),h=W.createElement(Wk,{...r.ariaProps},Sc(r.message,r));return W.createElement($k,{className:r.className,style:{...o,...t,...r.style}},typeof s=="function"?s({icon:l,message:h}):W.createElement(W.Fragment,null,l,h))});fk(W.createElement);var Gk=({id:r,className:e,style:t,onHeightUpdate:s,children:o})=>{let l=W.useCallback(h=>{if(h){let d=()=>{let p=h.getBoundingClientRect().height;s(r,p)};d(),new MutationObserver(d).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return W.createElement("div",{ref:l,className:e,style:t},o)},qk=(r,e)=>{let t=r.includes("top"),s=t?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:lE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},Qk=Eh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Hu=16,Xk=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:s,children:o,containerStyle:l,containerClassName:h})=>{let{toasts:d,handlers:p}=Sk(t);return W.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Hu,left:Hu,right:Hu,bottom:Hu,pointerEvents:"none",...l},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(y=>{let _=y.position||e,w=p.calculateOffset(y,{reverseOrder:r,gutter:s,defaultPosition:e}),T=qk(_,w);return W.createElement(Gk,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?Qk:"",style:T},y.type==="custom"?Sc(y.message,y):o?o(y):W.createElement(Kk,{toast:y,position:_}))}))};const Yk="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Jk="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",_s=(r,e)=>{for(const t in e)r[t]=e[t];return r},tp="numeric",np="ascii",rp="alpha",Ja="asciinumeric",Ka="alphanumeric",ip="domain",cE="emoji",Zk="scheme",eR="slashscheme",gf="whitespace";function tR(r,e){return r in e||(e[r]=[]),e[r]}function gs(r,e,t){e[tp]&&(e[Ja]=!0,e[Ka]=!0),e[np]&&(e[Ja]=!0,e[rp]=!0),e[Ja]&&(e[Ka]=!0),e[rp]&&(e[Ka]=!0),e[Ka]&&(e[ip]=!0),e[cE]&&(e[ip]=!0);for(const s in e){const o=tR(s,t);o.indexOf(r)<0&&o.push(r)}}function nR(r,e){const t={};for(const s in e)e[s].indexOf(r)>=0&&(t[s]=!0);return t}function mn(r=null){this.j={},this.jr=[],this.jd=null,this.t=r}mn.groups={};mn.prototype={accepts(){return!!this.t},go(r){const e=this,t=e.j[r];if(t)return t;for(let s=0;s<e.jr.length;s++){const o=e.jr[s][0],l=e.jr[s][1];if(l&&o.test(r))return l}return e.jd},has(r,e=!1){return e?r in this.j:!!this.go(r)},ta(r,e,t,s){for(let o=0;o<r.length;o++)this.tt(r[o],e,t,s)},tr(r,e,t,s){s=s||mn.groups;let o;return e&&e.j?o=e:(o=new mn(e),t&&s&&gs(e,t,s)),this.jr.push([r,o]),o},ts(r,e,t,s){let o=this;const l=r.length;if(!l)return o;for(let h=0;h<l-1;h++)o=o.tt(r[h]);return o.tt(r[l-1],e,t,s)},tt(r,e,t,s){s=s||mn.groups;const o=this;if(e&&e.j)return o.j[r]=e,e;const l=e;let h,d=o.go(r);if(d?(h=new mn,_s(h.j,d.j),h.jr.push.apply(h.jr,d.jr),h.jd=d.jd,h.t=d.t):h=new mn,l){if(s)if(h.t&&typeof h.t=="string"){const p=_s(nR(h.t,s),t);gs(l,p,s)}else t&&gs(l,t,s);h.t=l}return o.j[r]=h,h}};const Ce=(r,e,t,s,o)=>r.ta(e,t,s,o),st=(r,e,t,s,o)=>r.tr(e,t,s,o),M_=(r,e,t,s,o)=>r.ts(e,t,s,o),ne=(r,e,t,s,o)=>r.tt(e,t,s,o),Lr="WORD",sp="UWORD",hE="ASCIINUMERICAL",dE="ALPHANUMERICAL",pl="LOCALHOST",op="TLD",ap="UTLD",oc="SCHEME",Io="SLASH_SCHEME",Qp="NUM",lp="WS",Xp="NL",Za="OPENBRACE",el="CLOSEBRACE",Cc="OPENBRACKET",Ac="CLOSEBRACKET",kc="OPENPAREN",Rc="CLOSEPAREN",Pc="OPENANGLEBRACKET",xc="CLOSEANGLEBRACKET",Nc="FULLWIDTHLEFTPAREN",Dc="FULLWIDTHRIGHTPAREN",Oc="LEFTCORNERBRACKET",Vc="RIGHTCORNERBRACKET",bc="LEFTWHITECORNERBRACKET",Lc="RIGHTWHITECORNERBRACKET",Mc="FULLWIDTHLESSTHAN",jc="FULLWIDTHGREATERTHAN",Fc="AMPERSAND",Yp="APOSTROPHE",Uc="ASTERISK",pi="AT",zc="BACKSLASH",Bc="BACKTICK",$c="CARET",gi="COLON",Jp="COMMA",Wc="DOLLAR",sr="DOT",Hc="EQUALS",Zp="EXCLAMATION",Rn="HYPHEN",tl="PERCENT",Kc="PIPE",Gc="PLUS",qc="POUND",nl="QUERY",em="QUOTE",fE="FULLWIDTHMIDDLEDOT",tm="SEMI",or="SLASH",rl="TILDE",Qc="UNDERSCORE",pE="EMOJI",Xc="SYM";var mE=Object.freeze({__proto__:null,WORD:Lr,UWORD:sp,ASCIINUMERICAL:hE,ALPHANUMERICAL:dE,LOCALHOST:pl,TLD:op,UTLD:ap,SCHEME:oc,SLASH_SCHEME:Io,NUM:Qp,WS:lp,NL:Xp,OPENBRACE:Za,CLOSEBRACE:el,OPENBRACKET:Cc,CLOSEBRACKET:Ac,OPENPAREN:kc,CLOSEPAREN:Rc,OPENANGLEBRACKET:Pc,CLOSEANGLEBRACKET:xc,FULLWIDTHLEFTPAREN:Nc,FULLWIDTHRIGHTPAREN:Dc,LEFTCORNERBRACKET:Oc,RIGHTCORNERBRACKET:Vc,LEFTWHITECORNERBRACKET:bc,RIGHTWHITECORNERBRACKET:Lc,FULLWIDTHLESSTHAN:Mc,FULLWIDTHGREATERTHAN:jc,AMPERSAND:Fc,APOSTROPHE:Yp,ASTERISK:Uc,AT:pi,BACKSLASH:zc,BACKTICK:Bc,CARET:$c,COLON:gi,COMMA:Jp,DOLLAR:Wc,DOT:sr,EQUALS:Hc,EXCLAMATION:Zp,HYPHEN:Rn,PERCENT:tl,PIPE:Kc,PLUS:Gc,POUND:qc,QUERY:nl,QUOTE:em,FULLWIDTHMIDDLEDOT:fE,SEMI:tm,SLASH:or,TILDE:rl,UNDERSCORE:Qc,EMOJI:pE,SYM:Xc});const Or=/[a-z]/,za=new RegExp("\\p{L}","u"),yf=new RegExp("\\p{Emoji}","u"),Vr=/\d/,_f=/\s/,j_="\r",vf=`
`,rR="️",iR="‍",wf="￼";let Ku=null,Gu=null;function sR(r=[]){const e={};mn.groups=e;const t=new mn;Ku==null&&(Ku=F_(Yk)),Gu==null&&(Gu=F_(Jk)),ne(t,"'",Yp),ne(t,"{",Za),ne(t,"}",el),ne(t,"[",Cc),ne(t,"]",Ac),ne(t,"(",kc),ne(t,")",Rc),ne(t,"<",Pc),ne(t,">",xc),ne(t,"（",Nc),ne(t,"）",Dc),ne(t,"「",Oc),ne(t,"」",Vc),ne(t,"『",bc),ne(t,"』",Lc),ne(t,"＜",Mc),ne(t,"＞",jc),ne(t,"&",Fc),ne(t,"*",Uc),ne(t,"@",pi),ne(t,"`",Bc),ne(t,"^",$c),ne(t,":",gi),ne(t,",",Jp),ne(t,"$",Wc),ne(t,".",sr),ne(t,"=",Hc),ne(t,"!",Zp),ne(t,"-",Rn),ne(t,"%",tl),ne(t,"|",Kc),ne(t,"+",Gc),ne(t,"#",qc),ne(t,"?",nl),ne(t,'"',em),ne(t,"/",or),ne(t,";",tm),ne(t,"~",rl),ne(t,"_",Qc),ne(t,"\\",zc),ne(t,"・",fE);const s=st(t,Vr,Qp,{[tp]:!0});st(s,Vr,s);const o=st(s,Or,hE,{[Ja]:!0}),l=st(s,za,dE,{[Ka]:!0}),h=st(t,Or,Lr,{[np]:!0});st(h,Vr,o),st(h,Or,h),st(o,Vr,o),st(o,Or,o);const d=st(t,za,sp,{[rp]:!0});st(d,Or),st(d,Vr,l),st(d,za,d),st(l,Vr,l),st(l,Or),st(l,za,l);const p=ne(t,vf,Xp,{[gf]:!0}),y=ne(t,j_,lp,{[gf]:!0}),_=st(t,_f,lp,{[gf]:!0});ne(t,wf,_),ne(y,vf,p),ne(y,wf,_),st(y,_f,_),ne(_,j_),ne(_,vf),st(_,_f,_),ne(_,wf,_);const w=st(t,yf,pE,{[cE]:!0});ne(w,"#"),st(w,yf,w),ne(w,rR,w);const T=ne(w,iR);ne(T,"#"),st(T,yf,w);const C=[[Or,h],[Vr,o]],O=[[Or,null],[za,d],[Vr,l]];for(let L=0;L<Ku.length;L++)fi(t,Ku[L],op,Lr,C);for(let L=0;L<Gu.length;L++)fi(t,Gu[L],ap,sp,O);gs(op,{tld:!0,ascii:!0},e),gs(ap,{utld:!0,alpha:!0},e),fi(t,"file",oc,Lr,C),fi(t,"mailto",oc,Lr,C),fi(t,"http",Io,Lr,C),fi(t,"https",Io,Lr,C),fi(t,"ftp",Io,Lr,C),fi(t,"ftps",Io,Lr,C),gs(oc,{scheme:!0,ascii:!0},e),gs(Io,{slashscheme:!0,ascii:!0},e),r=r.sort((L,x)=>L[0]>x[0]?1:-1);for(let L=0;L<r.length;L++){const x=r[L][0],X=r[L][1]?{[Zk]:!0}:{[eR]:!0};x.indexOf("-")>=0?X[ip]=!0:Or.test(x)?Vr.test(x)?X[Ja]=!0:X[np]=!0:X[tp]=!0,M_(t,x,x,X)}return M_(t,"localhost",pl,{ascii:!0}),t.jd=new mn(Xc),{start:t,tokens:_s({groups:e},mE)}}function gE(r,e){const t=oR(e.replace(/[A-Z]/g,d=>d.toLowerCase())),s=t.length,o=[];let l=0,h=0;for(;h<s;){let d=r,p=null,y=0,_=null,w=-1,T=-1;for(;h<s&&(p=d.go(t[h]));)d=p,d.accepts()?(w=0,T=0,_=d):w>=0&&(w+=t[h].length,T++),y+=t[h].length,l+=t[h].length,h++;l-=w,h-=T,y-=w,o.push({t:_.t,v:e.slice(l-y,l),s:l-y,e:l})}return o}function oR(r){const e=[],t=r.length;let s=0;for(;s<t;){let o=r.charCodeAt(s),l,h=o<55296||o>56319||s+1===t||(l=r.charCodeAt(s+1))<56320||l>57343?r[s]:r.slice(s,s+2);e.push(h),s+=h.length}return e}function fi(r,e,t,s,o){let l;const h=e.length;for(let d=0;d<h-1;d++){const p=e[d];r.j[p]?l=r.j[p]:(l=new mn(s),l.jr=o.slice(),r.j[p]=l),r=l}return l=new mn(t),l.jr=o.slice(),r.j[e[h-1]]=l,l}function F_(r){const e=[],t=[];let s=0,o="0123456789";for(;s<r.length;){let l=0;for(;o.indexOf(r[s+l])>=0;)l++;if(l>0){e.push(t.join(""));for(let h=parseInt(r.substring(s,s+l),10);h>0;h--)t.pop();s+=l}else t.push(r[s]),s++}return e}const bo={defaultProtocol:"http",events:null,format:U_,formatHref:U_,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Th(r,e=null){let t=_s({},bo);r&&(t=_s(t,r instanceof Th?r.o:r));const s=t.ignoreTags,o=[];for(let l=0;l<s.length;l++)o.push(s[l].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=o}Th.prototype={o:bo,ignoreTags:[],defaultRender(r){return r},check(r){return this.get("validate",r.toString(),r)},get(r,e,t){const s=e!=null;let o=this.o[r];return o&&(typeof o=="object"?(o=t.t in o?o[t.t]:bo[r],typeof o=="function"&&s&&(o=o(e,t))):typeof o=="function"&&s&&(o=o(e,t.t,t)),o)},getObj(r,e,t){let s=this.o[r];return typeof s=="function"&&e!=null&&(s=s(e,t.t,t)),s},render(r){const e=r.render(this);return(this.get("render",null,r)||this.defaultRender)(e,r.t,r)}};function U_(r){return r}var yE=Object.freeze({__proto__:null,defaults:bo,Options:Th,assign:_s});function _E(r,e){this.t="token",this.v=r,this.tk=e}_E.prototype={isLink:!1,toString(){return this.v},toHref(r){return this.toString()},toFormattedString(r){const e=this.toString(),t=r.get("truncate",e,this),s=r.get("format",e,this);return t&&s.length>t?s.substring(0,t)+"…":s},toFormattedHref(r){return r.get("formatHref",this.toHref(r.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(r=bo.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(r),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(r){return{type:this.t,value:this.toFormattedString(r),isLink:this.isLink,href:this.toFormattedHref(r),start:this.startIndex(),end:this.endIndex()}},validate(r){return r.get("validate",this.toString(),this)},render(r){const e=this,t=this.toHref(r.get("defaultProtocol")),s=r.get("formatHref",t,this),o=r.get("tagName",t,e),l=this.toFormattedString(r),h={},d=r.get("className",t,e),p=r.get("target",t,e),y=r.get("rel",t,e),_=r.getObj("attributes",t,e),w=r.getObj("events",t,e);return h.href=s,d&&(h.class=d),p&&(h.target=p),y&&(h.rel=y),_&&_s(h,_),{tagName:o,attributes:h,content:l,eventListeners:w}}};function Ih(r,e){class t extends _E{constructor(o,l){super(o,l),this.t=r}}for(const s in e)t.prototype[s]=e[s];return t.t=r,t}const z_=Ih("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),B_=Ih("text"),aR=Ih("nl"),qu=Ih("url",{isLink:!0,toHref(r=bo.defaultProtocol){return this.hasProtocol()?this.v:`${r}://${this.v}`},hasProtocol(){const r=this.tk;return r.length>=2&&r[0].t!==pl&&r[1].t===gi}}),kn=r=>new mn(r);function lR({groups:r}){const e=r.domain.concat([Fc,Uc,pi,zc,Bc,$c,Wc,Hc,Rn,Qp,tl,Kc,Gc,qc,or,Xc,rl,Qc]),t=[gi,Jp,sr,Zp,tl,nl,em,tm,Pc,xc,Za,el,Ac,Cc,kc,Rc,Nc,Dc,Oc,Vc,bc,Lc,Mc,jc],s=[Fc,Yp,Uc,zc,Bc,$c,Wc,Hc,Rn,Za,el,tl,Kc,Gc,qc,nl,or,Xc,rl,Qc],o=kn(),l=ne(o,rl);Ce(l,s,l),Ce(l,r.domain,l);const h=kn(),d=kn(),p=kn();Ce(o,r.domain,h),Ce(o,r.scheme,d),Ce(o,r.slashscheme,p),Ce(h,s,l),Ce(h,r.domain,h);const y=ne(h,pi);ne(l,pi,y),ne(d,pi,y),ne(p,pi,y);const _=ne(l,sr);Ce(_,s,l),Ce(_,r.domain,l);const w=kn();Ce(y,r.domain,w),Ce(w,r.domain,w);const T=ne(w,sr);Ce(T,r.domain,w);const C=kn(z_);Ce(T,r.tld,C),Ce(T,r.utld,C),ne(y,pl,C);const O=ne(w,Rn);ne(O,Rn,O),Ce(O,r.domain,w),Ce(C,r.domain,w),ne(C,sr,T),ne(C,Rn,O);const L=ne(C,gi);Ce(L,r.numeric,z_);const x=ne(h,Rn),Q=ne(h,sr);ne(x,Rn,x),Ce(x,r.domain,h),Ce(Q,s,l),Ce(Q,r.domain,h);const X=kn(qu);Ce(Q,r.tld,X),Ce(Q,r.utld,X),Ce(X,r.domain,h),Ce(X,s,l),ne(X,sr,Q),ne(X,Rn,x),ne(X,pi,y);const te=ne(X,gi),Y=kn(qu);Ce(te,r.numeric,Y);const pe=kn(qu),oe=kn();Ce(pe,e,pe),Ce(pe,t,oe),Ce(oe,e,pe),Ce(oe,t,oe),ne(X,or,pe),ne(Y,or,pe);const N=ne(d,gi),S=ne(p,gi),k=ne(S,or),P=ne(k,or);Ce(d,r.domain,h),ne(d,sr,Q),ne(d,Rn,x),Ce(p,r.domain,h),ne(p,sr,Q),ne(p,Rn,x),Ce(N,r.domain,pe),ne(N,or,pe),ne(N,nl,pe),Ce(P,r.domain,pe),Ce(P,e,pe),ne(P,or,pe);const V=[[Za,el],[Cc,Ac],[kc,Rc],[Pc,xc],[Nc,Dc],[Oc,Vc],[bc,Lc],[Mc,jc]];for(let M=0;M<V.length;M++){const[R,qe]=V[M],ot=ne(pe,R);ne(oe,R,ot),ne(ot,qe,pe);const et=kn(qu);Ce(ot,e,et);const Oe=kn();Ce(ot,t),Ce(et,e,et),Ce(et,t,Oe),Ce(Oe,e,et),Ce(Oe,t,Oe),ne(et,qe,pe),ne(Oe,qe,pe)}return ne(o,pl,X),ne(o,Xp,aR),{start:o,tokens:mE}}function uR(r,e,t){let s=t.length,o=0,l=[],h=[];for(;o<s;){let d=r,p=null,y=null,_=0,w=null,T=-1;for(;o<s&&!(p=d.go(t[o].t));)h.push(t[o++]);for(;o<s&&(y=p||d.go(t[o].t));)p=null,d=y,d.accepts()?(T=0,w=d):T>=0&&T++,o++,_++;if(T<0)o-=_,o<s&&(h.push(t[o]),o++);else{h.length>0&&(l.push(Ef(B_,e,h)),h=[]),o-=T,_-=T;const C=w.t,O=t.slice(o-_,o);l.push(Ef(C,e,O))}}return h.length>0&&l.push(Ef(B_,e,h)),l}function Ef(r,e,t){const s=t[0].s,o=t[t.length-1].e,l=e.slice(s,o);return new r(l,t)}const zt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function cR(){zt.scanner=sR(zt.customSchemes);for(let r=0;r<zt.tokenQueue.length;r++)zt.tokenQueue[r][1]({scanner:zt.scanner});zt.parser=lR(zt.scanner.tokens);for(let r=0;r<zt.pluginQueue.length;r++)zt.pluginQueue[r][1]({scanner:zt.scanner,parser:zt.parser});return zt.initialized=!0,zt}function vE(r){return zt.initialized||cR(),uR(zt.parser.start,r,gE(zt.scanner.start,r))}vE.scan=gE;function hR(r,e,t){const s=vE(r),o=[];for(let l=0;l<s.length;l++){const h=s[l];if(h.t==="nl"&&e.get("nl2br")){const d=`__linkify-el-${t.elementId++}`;o.push(W.createElement("br",{key:d}))}else if(!h.isLink||!e.check(h))o.push(h.toString());else{let d=e.render(h);if(!("key"in d.props)){const p=`__linkify-el-${t.elementId++}`,y=yE.assign({key:p},d.props);d=W.cloneElement(d,y)}o.push(d)}}return o}function wE(r,e,t){if(W.Children.count(r.props.children)===0)return r;const s=[];W.Children.forEach(r.props.children,h=>{typeof h=="string"?s.push.apply(s,hR(h,e,t)):W.isValidElement(h)?typeof h.type=="string"&&e.ignoreTags.indexOf(h.type.toUpperCase())>=0?s.push(h):s.push(wE(h,e,t)):s.push(h)});const o=`__linkify-el-${t.elementId++}`,l=yE.assign({key:o},r.props);return W.cloneElement(r,l,s)}const dR=r=>{let e=0;const t=({tagName:p,attributes:y,content:_})=>(y.key=`__linkify-lnk-${e++}`,y.class&&(y.className=y.class,delete y.class),W.createElement(p,y,_)),s={key:"__linkify-wrapper"};for(const p in r)p!=="options"&&p!=="as"&&p!=="tagName"&&p!=="children"&&(s[p]=r[p]);const o=new Th(r.options,t),l=r.as||r.tagName||W.Fragment||"span",h=r.children,d=W.createElement(l,s,h);return wE(d,o,{elementId:0})},fR=({gameId:r})=>{const{user:e,isAuthenticated:t,loginWithRedirect:s}=gl(),[o,l]=W.useState([]),[h,d]=W.useState(""),p=W.useRef(null);W.useEffect(()=>{if(!r||!(e!=null&&e.sub))return;if(!Qt){console.error("Firestore database not initialized");return}const _=Yw(wc(Qt,"messages"),Jw("gameId","==",r),YA("timestamp","asc"));return Vo(_,T=>{const C=T.docs.map(O=>{var x;const L=O.data();return{id:O.id,text:L.text,isOwn:L.userId===e.sub,timestamp:((x=L.timestamp)==null?void 0:x.toDate())||new Date,userId:L.userId}});l(C)},T=>{console.error("Message listener error:",T)})},[r,e==null?void 0:e.sub]),W.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[o]);const y=async()=>{if(!(!h.trim()||!(e!=null&&e.sub)||!r))try{await nk(wc(Qt,"messages"),{text:h,userId:e.sub,gameId:r,timestamp:Ic()}),d("")}catch(_){console.error("Error sending message:",_)}};return t?H.jsxs("div",{className:"chat-container",children:[H.jsx("div",{className:"chat-header",children:H.jsxs("p",{children:["Chatting as ",e==null?void 0:e.name," in Game: ",r]})}),H.jsx("div",{className:"chat-messages",ref:p,children:o.map(_=>H.jsx("div",{className:`message ${_.isOwn?"own-message":"other-message"}`,children:H.jsxs("div",{className:"message-content",children:[H.jsx(dR,{options:{target:"_blank"},children:_.text}),H.jsx("span",{className:"timestamp",children:_.timestamp.toLocaleTimeString()})]})},_.id))}),H.jsxs("div",{className:"chat-input",children:[H.jsx("input",{type:"text",value:h,onChange:_=>d(_.target.value),onKeyPress:_=>_.key==="Enter"&&y(),placeholder:"Type your message..."}),H.jsx("button",{onClick:y,children:"Send"})]})]}):H.jsxs("div",{className:"auth-prompt",children:[H.jsx("p",{children:"You are not logged in. Please login to chat."}),H.jsx("button",{onClick:()=>s(),children:"Login"})]})},EE=r=>{const{gameId:e}=r,{user:t,isAuthenticated:s}=gl(),[o,l]=W.useState([]),[h,d]=W.useState(new Set),p=W.useCallback(async w=>{if(t!=null&&t.sub)try{const T=Kn(Qt,"games",w),C=await nE(T);if(!C.exists()){Pe.error("Game not found");return}const O=C.data();if(O.players.includes(t.sub)){Pe("You're already in this game");return}if(O.players.length>=2){Pe.error("Game is full");return}await Tc(T,{players:sE(t.sub),status:O.players.length+1>=2?"playing":"waiting"}),Pe.success("Joined game!")}catch(T){Pe.error("Failed to join game"),console.error("Error joining game:",T)}},[t==null?void 0:t.sub]),y=W.useCallback(async w=>{if(t!=null&&t.sub)try{await Jf(Kn(Qt,"users",t.sub),{id:t.sub,name:t.name||"Anonymous",online:w,lastSeen:Ic(),picture:t.picture||null},{merge:!0})}catch(T){console.error("Presence update error:",T)}},[t]);W.useEffect(()=>{if(!s||!(t!=null&&t.sub))return;const w=()=>y(!1),T=setInterval(()=>y(!0),3e4);return window.addEventListener("beforeunload",w),y(!0),()=>{window.removeEventListener("beforeunload",w),clearInterval(T),y(!1)}},[s,t,y]),W.useEffect(()=>{if(!s)return;const w=Yw(wc(Qt,"users"),Jw("online","==",!0));return Vo(w,C=>{const O=C.docs.map(L=>{var x;return{id:L.id,...L.data(),lastSeen:(x=L.data().lastSeen)==null?void 0:x.toDate()}});l(O.filter(L=>L.id!==(t==null?void 0:t.sub)))},C=>{console.error("Online users listener error:",C),Pe.error("Error fetching online players")})},[s,t==null?void 0:t.sub]),W.useEffect(()=>{if(!s||!(t!=null&&t.sub))return;const w=wc(Qt,`users/${t.sub}/invites`),T=Vo(w,C=>{C.docChanges().forEach(O=>{if(O.type==="added"){const L=O.doc.data();confirm(`${L.fromName} invited you to a game! Join now?`)&&tk(O.doc.ref).then(()=>{p(L.gameId),r.onGameJoined(L.gameId)}).catch(x=>{console.error("Error handling invite:",x),Pe.error("Failed to process invite")})}})},C=>{console.error("Invite listener error:",C),Pe.error("Error processing invites")});return()=>T()},[s,t==null?void 0:t.sub,p,r]),W.useEffect(()=>{const w=new Set(o.map(T=>T.id));d(T=>new Set([...T].filter(C=>w.has(C))))},[o]),W.useEffect(()=>{d(new Set)},[e]);const _=async w=>{if(!e||!(t!=null&&t.sub)){Pe.error("You need to create a game first");return}try{await Jf(Kn(Qt,"users",w,"invites",e),{gameId:e,from:t.sub,fromName:t.name||"Anonymous",status:"pending",sentAt:Ic()}),d(T=>new Set([...T,w])),Pe.success("Invite sent!")}catch(T){Pe.error("Failed to send invite"),console.error("Error sending invite:",T)}};return H.jsxs("div",{className:"online-players",children:[H.jsxs("h3",{children:["Online Players (",o.length,")"]}),H.jsx("ul",{children:o.map(w=>H.jsxs("li",{children:[H.jsx("img",{src:w.picture||"",alt:w.name||"Anonymous",width:"24",height:"24",onError:T=>{T.target.src=""}}),H.jsx("span",{children:w.name||"Anonymous"}),H.jsx("button",{onClick:()=>_(w.id),disabled:!e||h.has(w.id),"aria-label":`Invite ${w.name} to game`,children:h.has(w.id)?"Invited":"Invite to Game"})]},w.id))})]})},Qu=4,br=8,pR=({gameId:r})=>{const[e,t]=W.useState(!1),s=W.useCallback(async()=>{try{await navigator.clipboard.writeText(r),t(!0),setTimeout(()=>t(!1),2e3)}catch(o){console.error("Failed to copy:",o)}},[r]);return H.jsxs("div",{className:"game-id-container",children:[H.jsx("h2",{className:"game-id",children:r}),H.jsxs("button",{className:"copy-button",onClick:s,children:["📋",e&&H.jsx("span",{className:"copied-message",children:"Copied!"})]})]})},mR=({gameId:r,playerId:e})=>{const[t,s]=W.useState(null);W.useEffect(()=>{if(!r)return;const p=Kn(Qt,"games",r),y=Vo(p,_=>{const w=_.data();w&&s({board:w.board,currentPlayer:w.currentPlayer,players:w.players,status:w.status,winner:w.winner})});return()=>y()},[r]),W.useEffect(()=>{const p=Kn(Qt,"games",r),y=Vo(p,_=>{const w=_.data();s(w),w.winner&&Pe.success(`Game Over! ${w.winner} player wins!`)});return()=>y()},[r]);const o=(p,y)=>{const _=p[y];if(!_)return!1;const w=Math.floor(y/br),T=y%br,C=(O,L)=>{let x=0,Q=w+O,X=T+L;for(;Q>=0&&Q<br&&X>=0&&X<br&&p[Q*br+X]===_;)x++,Q+=O,X+=L;return x};return C(0,-1)+C(0,1)+1>=Qu||C(-1,0)+C(1,0)+1>=Qu||C(-1,-1)+C(1,1)+1>=Qu||C(-1,1)+C(1,-1)+1>=Qu},l=async p=>{if(!(!t||t.status==="finished")){if(t.players.length<2){Pe.error("Waiting for opponent to join");return}if(t.currentPlayer!==h()){Pe.error("It's not your turn!");return}if(t.board[p]){Pe.error("Invalid move");return}try{const y=[...t.board],_=h();y[p]=_;const w=o(y,p);await Tc(Kn(Qt,"games",r),{board:y,currentPlayer:t.currentPlayer==="red"?"yellow":"red",...w&&{winner:_,status:"finished"}})}catch(y){Pe.error("Move failed"),console.error("Error updating document:",y)}}},h=()=>t?t.players[0]===e?"red":"yellow":"spectator",d=async()=>{try{await Tc(Kn(Qt,"games",r),{board:Array(br**2).fill(""),currentPlayer:"red",status:"playing",winner:null})}catch(p){console.error("Error restarting game:",p)}};return t?H.jsxs("div",{className:"game-container",children:[H.jsxs("div",{className:"game-info",children:[H.jsxs("p",{children:["Your color: ",H.jsx("span",{className:h(),children:h()})]}),H.jsxs("p",{children:["Players connected: ",t.players.length,"/2"]}),H.jsxs("p",{children:["Current turn: ",t.currentPlayer]})]}),t.status==="finished"?H.jsxs("div",{className:"game-over",children:[H.jsxs("h2",{children:["Game Over! ",t.winner," wins!"]}),H.jsx("button",{onClick:d,children:"Play Again"})]}):t.players.length===2?H.jsx("div",{children:H.jsx("div",{className:"board",children:Array.from({length:br}).map((p,y)=>H.jsx("div",{className:"row",children:Array.from({length:br}).map((_,w)=>{const T=y*br+w;return H.jsx("div",{className:"cell",onClick:()=>l(T),children:t.board[T]&&H.jsx("div",{className:`piece ${t.board[T]}`})},T)})},y))})}):H.jsxs("div",{className:"waiting-message",children:[H.jsx("p",{children:"Share this Game ID with player 2:"}),H.jsx(pR,{gameId:r}),H.jsx("p",{children:"Waiting for opponent to join..."}),H.jsx(EE,{gameId:r,onGameJoined:p=>console.log(`Game joined: ${p}`)})]}),H.jsx(fR,{gameId:r})]}):H.jsx("div",{children:"Loading game..."})},gR=8;function $_(r){return typeof r=="object"&&r!==null&&"sub"in r}const yR=()=>{const[r,e]=W.useState(""),[t,s]=W.useState(null),{user:o,isAuthenticated:l}=gl();W.useEffect(()=>{if(!t||!(o!=null&&o.sub))return;const p=Kn(Qt,"games",t),y=Vo(p,_=>{const w=_.data();w!=null&&w.players.includes(o.sub)&&s(_.id)});return()=>y()},[t,o==null?void 0:o.sub]);const h=async()=>{if(!$_(o))return;const p=`game-${Date.now()}`;try{await Jf(Kn(Qt,"games",p),{board:Array(gR**2).fill(""),currentPlayer:"red",players:[o.sub],status:"waiting",creator:o.sub,createdAt:Ic()}),e(p),s(p),Pe.success(`Game created! ID: ${p}`)}catch(y){Pe.error("Failed to create game"),console.error("Error creating game:",y)}},d=async(p=r)=>{if(!(!p||!$_(o)))try{const y=Kn(Qt,"games",p),_=await nE(y);if(!_.exists()){Pe.error("Game not found");return}const w=_.data();if(w.players.includes(o.sub)){s(p);return}if(w.players.length>=2){Pe.error("Game is full");return}await Tc(y,{players:sE(o.sub),status:w.players.length+1>=2?"playing":"waiting"}),s(p),Pe.success("Joined game!")}catch(y){Pe.error("Failed to join game"),console.error("Error joining game:",y)}};return l?H.jsx("div",{className:"lobby",children:t?H.jsx(mR,{gameId:t,playerId:(o==null?void 0:o.sub)||""}):H.jsxs("div",{children:[H.jsxs("div",{className:"lobby-actions",children:[H.jsx("button",{onClick:h,children:"Create New Game"}),H.jsxs("div",{className:"join-section",children:[H.jsx("input",{value:r,onChange:p=>e(p.target.value),placeholder:"Enter Game ID"}),H.jsx("button",{onClick:()=>d(),children:"Join Game"})]})]}),H.jsx(EE,{gameId:t,onGameJoined:p=>{s(p),e(p)}})]})}):H.jsx("div",{children:"Please login to play"})};var TE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},W_=Mr.createContext&&Mr.createContext(TE),_R=["attr","size","title"];function vR(r,e){if(r==null)return{};var t=wR(r,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function wR(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function Yc(){return Yc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Yc.apply(this,arguments)}function H_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function Jc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(t),!0).forEach(function(s){ER(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):H_(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function ER(r,e,t){return e=TR(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function TR(r){var e=IR(r,"string");return typeof e=="symbol"?e:e+""}function IR(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function IE(r){return r&&r.map((e,t)=>Mr.createElement(e.tag,Jc({key:t},e.attr),IE(e.child)))}function SR(r){return e=>Mr.createElement(CR,Yc({attr:Jc({},r.attr)},e),IE(r.child))}function CR(r){var e=t=>{var{attr:s,size:o,title:l}=r,h=vR(r,_R),d=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),Mr.createElement("svg",Yc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:Jc(Jc({color:r.color||t.color},t.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Mr.createElement("title",null,l),r.children)};return W_!==void 0?Mr.createElement(W_.Consumer,null,t=>e(t)):e(TE)}function K_(r){return SR({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(r)}const AR=()=>{const{user:r}=gl();return H.jsx("div",{className:"min-h-screen bg-gray-100",children:H.jsx("div",{className:"max-w-4xl mx-auto py-12 px-4",children:H.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:H.jsxs("div",{className:"flex items-center space-x-6",children:[H.jsx("img",{src:r==null?void 0:r.picture,alt:r==null?void 0:r.name,className:"w-32 h-32 rounded-full border-4 border-blue-500"}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:r==null?void 0:r.name}),H.jsx("p",{className:"text-lg text-gray-600 mt-2",children:r==null?void 0:r.email}),H.jsxs("div",{className:"mt-4",children:[H.jsxs("p",{className:"text-gray-500",children:[H.jsx("span",{className:"font-semibold",children:"Email verified:"}),r!=null&&r.email_verified?" Yes":" No"]}),H.jsxs("p",{className:"text-gray-500",children:[H.jsx("span",{className:"font-semibold",children:"Last updated:"}),new Date((r==null?void 0:r.updated_at)||"").toLocaleDateString()]})]})]})]})})})})},kR=()=>{const{loginWithRedirect:r,logout:e,isAuthenticated:t}=gl();return H.jsx("div",{children:t?H.jsx("button",{className:"auth-button",onClick:()=>e({logoutParams:{returnTo:"https://ni-kit-mht.github.io/test-project-multiplayer/"}}),children:"Log Out"}):H.jsx("button",{className:"auth-button",onClick:()=>r(),children:"Log In"})})};function RR(){const[r,e]=W.useState(!1);return H.jsxs("footer",{className:"app-footer",children:[H.jsx("button",{className:"rules-button",onClick:()=>e(!r),children:r?"Hide Rules":"Show Rules"}),r&&H.jsxs("div",{className:"rules-popup",children:[H.jsx("h3",{children:"Game Rules"}),H.jsxs("ol",{children:[H.jsx("li",{children:"Players take turns placing their pieces"}),H.jsx("li",{children:"Red always goes first"}),H.jsx("li",{children:"Click any empty cell to place your piece"}),H.jsx("li",{children:"Game continues until any player makes connected four dots"}),H.jsx("li",{children:"Be nice in chat"})]}),H.jsx("button",{onClick:()=>e(!1),children:"Close"})]})]})}function PR(){const r=()=>H.jsx("nav",{className:"game-nav",children:H.jsxs("div",{className:"nav-container",children:[H.jsxs("div",{className:"nav-brand",children:[H.jsx(K_,{className:"nav-icon"}),H.jsx("span",{children:"Multiplayer Board Game"})]}),H.jsxs("div",{className:"nav-links",children:[H.jsx(Sy,{to:"/",className:"nav-link",children:"Home"}),H.jsx(Sy,{to:"/profile",className:"nav-link",children:"Profile"}),H.jsx(kR,{})]})]})}),e=()=>H.jsxs(H.Fragment,{children:[H.jsx("header",{className:"app-header",children:H.jsxs("h1",{children:["Multiplayer Board Game ",H.jsx(K_,{className:"game-icon"})]})}),H.jsx("main",{className:"game-container",children:H.jsx(yR,{})}),H.jsx(RR,{})]});return H.jsxs("div",{className:"app-container",children:[H.jsx(Xk,{position:"top-right"}),H.jsx(r,{}),H.jsxs(RT,{children:[H.jsx(Xu,{path:"/",element:H.jsx(e,{})}),H.jsx(Xu,{path:"/profile",element:H.jsx(AR,{})}),H.jsx(Xu,{path:"*",element:H.jsx(AT,{to:"/"})})]})]})}L0.createRoot(document.getElementById("root")).render(H.jsx(W.StrictMode,{children:H.jsx(bT,{basename:"/test-project-multiplayer",children:H.jsx(v1,{domain:"dev-5sughtnn8ge8qbi1.jp.auth0.com",clientId:"2cqTGb70cIDaEGBqR9pO1x2EPz5A5GJZ",authorizationParams:{redirect_uri:window.location.origin+"/test-project-multiplayer/"},children:H.jsx(PR,{})})})}));
