(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function E_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var sh={exports:{}},Ko={},oh={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function w_(){if(Rp)return Te;Rp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=C&&N[C]||N["@@iterator"],typeof N=="function"?N:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,X={};function $(N,B,oe){this.props=N,this.context=B,this.refs=X,this.updater=oe||j}$.prototype.isReactComponent={},$.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},$.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function pe(){}pe.prototype=$.prototype;function ge(N,B,oe){this.props=N,this.context=B,this.refs=X,this.updater=oe||j}var ve=ge.prototype=new pe;ve.constructor=ge,Q(ve,$.prototype),ve.isPureReactComponent=!0;var Se=Array.isArray,et=Object.prototype.hasOwnProperty,xe={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(N,B,oe){var Ee,we={},Ce=null,Oe=null;if(B!=null)for(Ee in B.ref!==void 0&&(Oe=B.ref),B.key!==void 0&&(Ce=""+B.key),B)et.call(B,Ee)&&!V.hasOwnProperty(Ee)&&(we[Ee]=B[Ee]);var Le=arguments.length-2;if(Le===1)we.children=oe;else if(1<Le){for(var be=Array(Le),gt=0;gt<Le;gt++)be[gt]=arguments[gt+2];we.children=be}if(N&&N.defaultProps)for(Ee in Le=N.defaultProps,Le)we[Ee]===void 0&&(we[Ee]=Le[Ee]);return{$$typeof:i,type:N,key:Ce,ref:Oe,props:we,_owner:xe.current}}function A(N,B){return{$$typeof:i,type:N.type,key:B,ref:N.ref,props:N.props,_owner:N._owner}}function k(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function x(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return B[oe]})}var O=/\/+/g;function S(N,B){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):B.toString(36)}function tt(N,B,oe,Ee,we){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var Oe=!1;if(N===null)Oe=!0;else switch(Ce){case"string":case"number":Oe=!0;break;case"object":switch(N.$$typeof){case i:case e:Oe=!0}}if(Oe)return Oe=N,we=we(Oe),N=Ee===""?"."+S(Oe,0):Ee,Se(we)?(oe="",N!=null&&(oe=N.replace(O,"$&/")+"/"),tt(we,B,oe,"",function(gt){return gt})):we!=null&&(k(we)&&(we=A(we,oe+(!we.key||Oe&&Oe.key===we.key?"":(""+we.key).replace(O,"$&/")+"/")+N)),B.push(we)),1;if(Oe=0,Ee=Ee===""?".":Ee+":",Se(N))for(var Le=0;Le<N.length;Le++){Ce=N[Le];var be=Ee+S(Ce,Le);Oe+=tt(Ce,B,oe,be,we)}else if(be=D(N),typeof be=="function")for(N=be.call(N),Le=0;!(Ce=N.next()).done;)Ce=Ce.value,be=Ee+S(Ce,Le++),Oe+=tt(Ce,B,oe,be,we);else if(Ce==="object")throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Oe}function kt(N,B,oe){if(N==null)return N;var Ee=[],we=0;return tt(N,Ee,"","",function(Ce){return B.call(oe,Ce,we++)}),Ee}function Vt(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var ze={current:null},J={transition:null},le={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:J,ReactCurrentOwner:xe};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:kt,forEach:function(N,B,oe){kt(N,function(){B.apply(this,arguments)},oe)},count:function(N){var B=0;return kt(N,function(){B++}),B},toArray:function(N){return kt(N,function(B){return B})||[]},only:function(N){if(!k(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Te.Component=$,Te.Fragment=n,Te.Profiler=a,Te.PureComponent=ge,Te.StrictMode=s,Te.Suspense=y,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Te.act=ee,Te.cloneElement=function(N,B,oe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Ee=Q({},N.props),we=N.key,Ce=N.ref,Oe=N._owner;if(B!=null){if(B.ref!==void 0&&(Ce=B.ref,Oe=xe.current),B.key!==void 0&&(we=""+B.key),N.type&&N.type.defaultProps)var Le=N.type.defaultProps;for(be in B)et.call(B,be)&&!V.hasOwnProperty(be)&&(Ee[be]=B[be]===void 0&&Le!==void 0?Le[be]:B[be])}var be=arguments.length-2;if(be===1)Ee.children=oe;else if(1<be){Le=Array(be);for(var gt=0;gt<be;gt++)Le[gt]=arguments[gt+2];Ee.children=Le}return{$$typeof:i,type:N.type,key:we,ref:Ce,props:Ee,_owner:Oe}},Te.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},Te.createElement=I,Te.createFactory=function(N){var B=I.bind(null,N);return B.type=N,B},Te.createRef=function(){return{current:null}},Te.forwardRef=function(N){return{$$typeof:m,render:N}},Te.isValidElement=k,Te.lazy=function(N){return{$$typeof:w,_payload:{_status:-1,_result:N},_init:Vt}},Te.memo=function(N,B){return{$$typeof:v,type:N,compare:B===void 0?null:B}},Te.startTransition=function(N){var B=J.transition;J.transition={};try{N()}finally{J.transition=B}},Te.unstable_act=ee,Te.useCallback=function(N,B){return ze.current.useCallback(N,B)},Te.useContext=function(N){return ze.current.useContext(N)},Te.useDebugValue=function(){},Te.useDeferredValue=function(N){return ze.current.useDeferredValue(N)},Te.useEffect=function(N,B){return ze.current.useEffect(N,B)},Te.useId=function(){return ze.current.useId()},Te.useImperativeHandle=function(N,B,oe){return ze.current.useImperativeHandle(N,B,oe)},Te.useInsertionEffect=function(N,B){return ze.current.useInsertionEffect(N,B)},Te.useLayoutEffect=function(N,B){return ze.current.useLayoutEffect(N,B)},Te.useMemo=function(N,B){return ze.current.useMemo(N,B)},Te.useReducer=function(N,B,oe){return ze.current.useReducer(N,B,oe)},Te.useRef=function(N){return ze.current.useRef(N)},Te.useState=function(N){return ze.current.useState(N)},Te.useSyncExternalStore=function(N,B,oe){return ze.current.useSyncExternalStore(N,B,oe)},Te.useTransition=function(){return ze.current.useTransition()},Te.version="18.3.1",Te}var Cp;function Bh(){return Cp||(Cp=1,oh.exports=w_()),oh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function T_(){if(Pp)return Ko;Pp=1;var i=Bh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,v){var w,C={},D=null,j=null;v!==void 0&&(D=""+v),y.key!==void 0&&(D=""+y.key),y.ref!==void 0&&(j=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(C[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)C[w]===void 0&&(C[w]=y[w]);return{$$typeof:e,type:m,key:D,ref:j,props:C,_owner:a.current}}return Ko.Fragment=n,Ko.jsx=f,Ko.jsxs=f,Ko}var kp;function I_(){return kp||(kp=1,sh.exports=T_()),sh.exports}var ye=I_(),Me=Bh();const Fi=E_(Me);var Ll={},ah={exports:{}},Kt={},lh={exports:{}},uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function S_(){return Vp||(Vp=1,function(i){function e(J,le){var ee=J.length;J.push(le);e:for(;0<ee;){var N=ee-1>>>1,B=J[N];if(0<a(B,le))J[N]=le,J[ee]=B,ee=N;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var le=J[0],ee=J.pop();if(ee!==le){J[0]=ee;e:for(var N=0,B=J.length,oe=B>>>1;N<oe;){var Ee=2*(N+1)-1,we=J[Ee],Ce=Ee+1,Oe=J[Ce];if(0>a(we,ee))Ce<B&&0>a(Oe,we)?(J[N]=Oe,J[Ce]=ee,N=Ce):(J[N]=we,J[Ee]=ee,N=Ee);else if(Ce<B&&0>a(Oe,ee))J[N]=Oe,J[Ce]=ee,N=Ce;else break e}}return le}function a(J,le){var ee=J.sortIndex-le.sortIndex;return ee!==0?ee:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],v=[],w=1,C=null,D=3,j=!1,Q=!1,X=!1,$=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(J){for(var le=n(v);le!==null;){if(le.callback===null)s(v);else if(le.startTime<=J)s(v),le.sortIndex=le.expirationTime,e(y,le);else break;le=n(v)}}function Se(J){if(X=!1,ve(J),!Q)if(n(y)!==null)Q=!0,Vt(et);else{var le=n(v);le!==null&&ze(Se,le.startTime-J)}}function et(J,le){Q=!1,X&&(X=!1,pe(I),I=-1),j=!0;var ee=D;try{for(ve(le),C=n(y);C!==null&&(!(C.expirationTime>le)||J&&!x());){var N=C.callback;if(typeof N=="function"){C.callback=null,D=C.priorityLevel;var B=N(C.expirationTime<=le);le=i.unstable_now(),typeof B=="function"?C.callback=B:C===n(y)&&s(y),ve(le)}else s(y);C=n(y)}if(C!==null)var oe=!0;else{var Ee=n(v);Ee!==null&&ze(Se,Ee.startTime-le),oe=!1}return oe}finally{C=null,D=ee,j=!1}}var xe=!1,V=null,I=-1,A=5,k=-1;function x(){return!(i.unstable_now()-k<A)}function O(){if(V!==null){var J=i.unstable_now();k=J;var le=!0;try{le=V(!0,J)}finally{le?S():(xe=!1,V=null)}}else xe=!1}var S;if(typeof ge=="function")S=function(){ge(O)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=O,S=function(){kt.postMessage(null)}}else S=function(){$(O,0)};function Vt(J){V=J,xe||(xe=!0,S())}function ze(J,le){I=$(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){Q||j||(Q=!0,Vt(et))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return D},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(J){switch(D){case 1:case 2:case 3:var le=3;break;default:le=D}var ee=D;D=le;try{return J()}finally{D=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=D;D=J;try{return le()}finally{D=ee}},i.unstable_scheduleCallback=function(J,le,ee){var N=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?N+ee:N):ee=N,J){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ee+B,J={id:w++,callback:le,priorityLevel:J,startTime:ee,expirationTime:B,sortIndex:-1},ee>N?(J.sortIndex=ee,e(v,J),n(y)===null&&J===n(v)&&(X?(pe(I),I=-1):X=!0,ze(Se,ee-N))):(J.sortIndex=B,e(y,J),Q||j||(Q=!0,Vt(et))),J},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(J){var le=D;return function(){var ee=D;D=le;try{return J.apply(this,arguments)}finally{D=ee}}}}(uh)),uh}var xp;function A_(){return xp||(xp=1,lh.exports=S_()),lh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function R_(){if(Dp)return Kt;Dp=1;var i=Bh(),e=A_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},C={};function D(t){return y.call(C,t)?!0:y.call(w,t)?!1:v.test(t)?C[t]=!0:(w[t]=!0,!1)}function j(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q(t,r,o,u){if(r===null||typeof r>"u"||j(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function X(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$[t]=new X(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];$[r]=new X(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){$[t]=new X(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$[t]=new X(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$[t]=new X(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){$[t]=new X(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){$[t]=new X(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){$[t]=new X(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){$[t]=new X(t,5,!1,t.toLowerCase(),null,!1,!1)});var pe=/[\-:]([a-z])/g;function ge(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(pe,ge);$[r]=new X(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(pe,ge);$[r]=new X(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(pe,ge);$[r]=new X(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){$[t]=new X(t,1,!1,t.toLowerCase(),null,!1,!1)}),$.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){$[t]=new X(t,1,!1,t.toLowerCase(),null,!0,!0)});function ve(t,r,o,u){var h=$.hasOwnProperty(r)?$[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Q(r,o,h,u)&&(o=null),u||h===null?D(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,et=Symbol.for("react.element"),xe=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),x=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,N;function B(t){if(N===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+t}var oe=!1;function Ee(t,r){if(!t||oe)return"";oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){u=U}t.call(r.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,T=p.length-1;1<=_&&0<=T&&h[_]!==p[T];)T--;for(;1<=_&&0<=T;_--,T--)if(h[_]!==p[T]){if(_!==1||T!==1)do if(_--,T--,0>T||h[_]!==p[T]){var R=`
`+h[_].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=_&&0<=T);break}}}finally{oe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?B(t):""}function we(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=Ee(t.type,!1),t;case 11:return t=Ee(t.type.render,!1),t;case 1:return t=Ee(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case xe:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:Ce(t.type)||"Memo";case Vt:r=t._payload,t=t._init;try{return Ce(t(r))}catch{}}return null}function Oe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Yn(t){t._valueTracker||(t._valueTracker=gt(t))}function Bi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ai(t,r){var o=r.checked;return ee({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function $i(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Le(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function eo(t,r){r=r.checked,r!=null&&ve(t,"checked",r,!1)}function to(t,r){eo(t,r);var o=Le(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?qi(t,r.type,o):r.hasOwnProperty("defaultValue")&&qi(t,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ea(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function qi(t,r,o){(r!=="number"||wr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Jn=Array.isArray;function Zn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Le(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function no(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Jn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Le(o)}}function Wi(t,r){var o=Le(r.value),u=Le(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function ro(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var er,io=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=er.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Tr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ui=["Webkit","ms","Moz","O"];Object.keys(li).forEach(function(t){ui.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),li[r]=li[t]})});function so(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||li.hasOwnProperty(t)&&li[t]?(""+r).trim():r+"px"}function oo(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=so(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var ao=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lo(t,r){if(r){if(ao[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function uo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ci=null;function Gi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qi=null,ln=null,Nn=null;function Ki(t){if(t=Oo(t)){if(typeof Qi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Xa(r),Qi(t.stateNode,t.type,r))}}function On(t){ln?Nn?Nn.push(t):Nn=[t]:ln=t}function co(){if(ln){var t=ln,r=Nn;if(Nn=ln=null,Ki(t),r)for(t=0;t<r.length;t++)Ki(r[t])}}function hi(t,r){return t(r)}function ho(){}var tr=!1;function fo(t,r,o){if(tr)return t(r,o);tr=!0;try{return hi(t,r,o)}finally{tr=!1,(ln!==null||Nn!==null)&&(ho(),co())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var u=Xa(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Xi=!1;if(m)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Xi=!1}function fi(t,r,o,u,h,p,_,T,R){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(H){this.onError(H)}}var di=!1,Yi=null,vn=!1,po=null,Nu={onError:function(t){di=!0,Yi=t}};function Ji(t,r,o,u,h,p,_,T,R){di=!1,Yi=null,fi.apply(Nu,arguments)}function wa(t,r,o,u,h,p,_,T,R){if(Ji.apply(this,arguments),di){if(di){var U=Yi;di=!1,Yi=null}else throw Error(n(198));vn||(vn=!0,po=U)}}function En(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function pi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function wn(t){if(En(t)!==t)throw Error(n(188))}function Ta(t){var r=t.alternate;if(!r){if(r=En(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return wn(h),t;if(p===u)return wn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,T=h.child;T;){if(T===o){_=!0,o=h,u=p;break}if(T===u){_=!0,u=h,o=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===o){_=!0,o=p,u=h;break}if(T===u){_=!0,u=p,o=h;break}T=T.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function mo(t){return t=Ta(t),t!==null?Zi(t):null}function Zi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Zi(t);if(r!==null)return r;t=t.sibling}return null}var es=e.unstable_scheduleCallback,go=e.unstable_cancelCallback,Ia=e.unstable_shouldYield,Ou=e.unstable_requestPaint,Be=e.unstable_now,Sa=e.unstable_getCurrentPriorityLevel,mi=e.unstable_ImmediatePriority,Ir=e.unstable_UserBlockingPriority,un=e.unstable_NormalPriority,yo=e.unstable_LowPriority,Aa=e.unstable_IdlePriority,gi=null,Zt=null;function Ra(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(gi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Pa,_o=Math.log,Ca=Math.LN2;function Pa(t){return t>>>=0,t===0?32:31-(_o(t)/Ca|0)|0}var ts=64,ns=4194304;function Sr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var T=_&~h;T!==0?u=Sr(T):(p&=_,p!==0&&(u=Sr(p)))}else _=o&~h,_!==0?u=Sr(_):p!==0&&(u=Sr(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ut(r),h=1<<o,u|=t[o],r&=~h;return u}function Lu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ut(p),T=1<<_,R=h[_];R===-1?(!(T&o)||T&u)&&(h[_]=Lu(T,r)):R<=r&&(t.expiredLanes|=T),p&=~T}}function en(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _i(){var t=ts;return ts<<=1,!(ts&4194240)&&(ts=64),t}function Ar(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Rr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function je(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ut(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Cr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ut(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ae=0;function Pr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ka,rs,Va,xa,Da,vo=!1,Ln=[],Tt=null,Tn=null,In=null,kr=new Map,cn=new Map,Mn=[],Mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Na(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":kr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(r.pointerId)}}function Bt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Oo(r),r!==null&&rs(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Fu(t,r,o,u,h){switch(r){case"focusin":return Tt=Bt(Tt,t,r,o,u,h),!0;case"dragenter":return Tn=Bt(Tn,t,r,o,u,h),!0;case"mouseover":return In=Bt(In,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return kr.set(p,Bt(kr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,cn.set(p,Bt(cn.get(p)||null,t,r,o,u,h)),!0}return!1}function Oa(t){var r=Ii(t.target);if(r!==null){var o=En(r);if(o!==null){if(r=o.tag,r===13){if(r=pi(o),r!==null){t.blockedOn=r,Da(t.priority,function(){Va(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=is(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ci=u,o.target.dispatchEvent(u),ci=null}else return r=Oo(o),r!==null&&rs(r),t.blockedOn=o,!1;r.shift()}return!0}function vi(t,r,o){rr(t)&&o.delete(r)}function La(){vo=!1,Tt!==null&&rr(Tt)&&(Tt=null),Tn!==null&&rr(Tn)&&(Tn=null),In!==null&&rr(In)&&(In=null),kr.forEach(vi),cn.forEach(vi)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,vo||(vo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,La)))}function An(t){function r(h){return Sn(h,t)}if(0<Ln.length){Sn(Ln[0],t);for(var o=1;o<Ln.length;o++){var u=Ln[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Tt!==null&&Sn(Tt,t),Tn!==null&&Sn(Tn,t),In!==null&&Sn(In,t),kr.forEach(r),cn.forEach(r),o=0;o<Mn.length;o++)u=Mn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Mn.length&&(o=Mn[0],o.blockedOn===null);)Oa(o),o.blockedOn===null&&Mn.shift()}var ir=Se.ReactCurrentBatchConfig,Vr=!0;function Ge(t,r,o,u){var h=Ae,p=ir.transition;ir.transition=null;try{Ae=1,Eo(t,r,o,u)}finally{Ae=h,ir.transition=p}}function Uu(t,r,o,u){var h=Ae,p=ir.transition;ir.transition=null;try{Ae=4,Eo(t,r,o,u)}finally{Ae=h,ir.transition=p}}function Eo(t,r,o,u){if(Vr){var h=is(t,r,o,u);if(h===null)Ku(t,r,u,Ei,o),Na(t,u);else if(Fu(h,t,r,o,u))u.stopPropagation();else if(Na(t,u),r&4&&-1<Mu.indexOf(t)){for(;h!==null;){var p=Oo(h);if(p!==null&&ka(p),p=is(t,r,o,u),p===null&&Ku(t,r,u,Ei,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Ku(t,r,u,null,o)}}var Ei=null;function is(t,r,o,u){if(Ei=null,t=Gi(u),t=Ii(t),t!==null)if(r=En(t),r===null)t=null;else if(o=r.tag,o===13){if(t=pi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ei=t,null}function wo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sa()){case mi:return 1;case Ir:return 4;case un:case yo:return 16;case Aa:return 536870912;default:return 16}default:return 16}}var tn=null,ss=null,$t=null;function To(){if($t)return $t;var t,r=ss,o=r.length,u,h="value"in tn?tn.value:tn.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return $t=h.slice(t,1<u?1-u:void 0)}function os(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Io(){return!1}function It(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:Io,this.isPropagationStopped=Io,this}return ee(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=It(Rn),Un=ee({},Rn,{view:0,detail:0}),zu=It(Un),ls,sr,xr,wi=ee({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(ls=t.screenX-xr.screenX,sr=t.screenY-xr.screenY):sr=ls=0,xr=t),ls)},movementY:function(t){return"movementY"in t?t.movementY:sr}}),us=It(wi),So=ee({},wi,{dataTransfer:0}),Ma=It(So),cs=ee({},Un,{relatedTarget:0}),hs=It(cs),Fa=ee({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),or=It(Fa),Ua=ee({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),za=It(Ua),ja=ee({},Rn,{data:0}),Ao=It(ja),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ba={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ba(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ba[t])?!!r[t]:!1}function zn(){return Ba}var l=ee({},Un,{key:function(t){if(t.key){var r=fs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=It(l),g=ee({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=It(g),L=ee({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),z=It(L),Y=ee({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=It(Y),ct=ee({},wi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=It(ct),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,hn=null;m&&"documentMode"in document&&(hn=document.documentMode);var nn=m&&"TextEvent"in window&&!hn,Ti=m&&(!st||hn&&8<hn&&11>=hn),ds=" ",Ef=!1;function wf(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function _y(t,r){switch(t){case"compositionend":return Tf(r);case"keypress":return r.which!==32?null:(Ef=!0,ds);case"textInput":return t=r.data,t===ds&&Ef?null:t;default:return null}}function vy(t,r){if(ps)return t==="compositionend"||!st&&wf(t,r)?(t=To(),$t=ss=tn=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ti&&r.locale!=="ko"?null:r.data;default:return null}}var Ey={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ey[t.type]:r==="textarea"}function Sf(t,r,o,u){On(u),r=Ga(r,"onChange"),0<r.length&&(o=new as("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Ro=null,Co=null;function wy(t){Bf(t,0)}function $a(t){var r=vs(t);if(Bi(r))return t}function Ty(t,r){if(t==="change")return r}var Af=!1;if(m){var ju;if(m){var bu="oninput"in document;if(!bu){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),bu=typeof Rf.oninput=="function"}ju=bu}else ju=!1;Af=ju&&(!document.documentMode||9<document.documentMode)}function Cf(){Ro&&(Ro.detachEvent("onpropertychange",Pf),Co=Ro=null)}function Pf(t){if(t.propertyName==="value"&&$a(Co)){var r=[];Sf(r,Co,t,Gi(t)),fo(wy,r)}}function Iy(t,r,o){t==="focusin"?(Cf(),Ro=r,Co=o,Ro.attachEvent("onpropertychange",Pf)):t==="focusout"&&Cf()}function Sy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $a(Co)}function Ay(t,r){if(t==="click")return $a(r)}function Ry(t,r){if(t==="input"||t==="change")return $a(r)}function Cy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Cn=typeof Object.is=="function"?Object.is:Cy;function Po(t,r){if(Cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!Cn(t[h],r[h]))return!1}return!0}function kf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vf(t,r){var o=kf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kf(o)}}function xf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?xf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Df(){for(var t=window,r=wr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=wr(t.document)}return r}function Bu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Py(t){var r=Df(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&xf(o.ownerDocument.documentElement,o)){if(u!==null&&Bu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Vf(o,p);var _=Vf(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ky=m&&"documentMode"in document&&11>=document.documentMode,ms=null,$u=null,ko=null,qu=!1;function Nf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qu||ms==null||ms!==wr(u)||(u=ms,"selectionStart"in u&&Bu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ko&&Po(ko,u)||(ko=u,u=Ga($u,"onSelect"),0<u.length&&(r=new as("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ms)))}function qa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var gs={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionend:qa("Transition","TransitionEnd")},Hu={},Of={};m&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Ha(t){if(Hu[t])return Hu[t];if(!gs[t])return t;var r=gs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Of)return Hu[t]=r[o];return t}var Lf=Ha("animationend"),Mf=Ha("animationiteration"),Ff=Ha("animationstart"),Uf=Ha("transitionend"),zf=new Map,jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,r){zf.set(t,r),c(r,[t])}for(var Wu=0;Wu<jf.length;Wu++){var Gu=jf[Wu],Vy=Gu.toLowerCase(),xy=Gu[0].toUpperCase()+Gu.slice(1);Dr(Vy,"on"+xy)}Dr(Lf,"onAnimationEnd"),Dr(Mf,"onAnimationIteration"),Dr(Ff,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Uf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function bf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,wa(u,r,void 0,t),t.currentTarget=null}function Bf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var T=u[_],R=T.instance,U=T.currentTarget;if(T=T.listener,R!==p&&h.isPropagationStopped())break e;bf(h,T,U),p=R}else for(_=0;_<u.length;_++){if(T=u[_],R=T.instance,U=T.currentTarget,T=T.listener,R!==p&&h.isPropagationStopped())break e;bf(h,T,U),p=R}}}if(vn)throw t=po,vn=!1,po=null,t}function He(t,r){var o=r[tc];o===void 0&&(o=r[tc]=new Set);var u=t+"__bubble";o.has(u)||($f(r,t,2,!1),o.add(u))}function Qu(t,r,o){var u=0;r&&(u|=4),$f(o,t,u,r)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function xo(t){if(!t[Wa]){t[Wa]=!0,s.forEach(function(o){o!=="selectionchange"&&(Dy.has(o)||Qu(o,!1,t),Qu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Wa]||(r[Wa]=!0,Qu("selectionchange",!1,r))}}function $f(t,r,o,u){switch(wo(r)){case 1:var h=Ge;break;case 4:h=Uu;break;default:h=Eo}o=h.bind(null,r,o,t),h=void 0,!Xi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Ku(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Ii(T),_===null)return;if(R=_.tag,R===5||R===6){u=p=_;continue e}T=T.parentNode}}u=u.return}fo(function(){var U=p,H=Gi(o),G=[];e:{var q=zf.get(t);if(q!==void 0){var Z=as,re=t;switch(t){case"keypress":if(os(o)===0)break e;case"keydown":case"keyup":Z=d;break;case"focusin":re="focus",Z=hs;break;case"focusout":re="blur",Z=hs;break;case"beforeblur":case"afterblur":Z=hs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=z;break;case Lf:case Mf:case Ff:Z=or;break;case Uf:Z=Ue;break;case"scroll":Z=zu;break;case"wheel":Z=Pe;break;case"copy":case"cut":case"paste":Z=za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=E}var ie=(r&4)!==0,rt=!ie&&t==="scroll",M=ie?q!==null?q+"Capture":null:q;ie=[];for(var P=U,F;P!==null;){F=P;var K=F.stateNode;if(F.tag===5&&K!==null&&(F=K,M!==null&&(K=nt(P,M),K!=null&&ie.push(Do(P,K,F)))),rt)break;P=P.return}0<ie.length&&(q=new Z(q,re,null,o,H),G.push({event:q,listeners:ie}))}}if(!(r&7)){e:{if(q=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",q&&o!==ci&&(re=o.relatedTarget||o.fromElement)&&(Ii(re)||re[ar]))break e;if((Z||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,Z?(re=o.relatedTarget||o.toElement,Z=U,re=re?Ii(re):null,re!==null&&(rt=En(re),re!==rt||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=U),Z!==re)){if(ie=us,K="onMouseLeave",M="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ie=E,K="onPointerLeave",M="onPointerEnter",P="pointer"),rt=Z==null?q:vs(Z),F=re==null?q:vs(re),q=new ie(K,P+"leave",Z,o,H),q.target=rt,q.relatedTarget=F,K=null,Ii(H)===U&&(ie=new ie(M,P+"enter",re,o,H),ie.target=F,ie.relatedTarget=rt,K=ie),rt=K,Z&&re)t:{for(ie=Z,M=re,P=0,F=ie;F;F=ys(F))P++;for(F=0,K=M;K;K=ys(K))F++;for(;0<P-F;)ie=ys(ie),P--;for(;0<F-P;)M=ys(M),F--;for(;P--;){if(ie===M||M!==null&&ie===M.alternate)break t;ie=ys(ie),M=ys(M)}ie=null}else ie=null;Z!==null&&qf(G,q,Z,ie,!1),re!==null&&rt!==null&&qf(G,rt,re,ie,!0)}}e:{if(q=U?vs(U):window,Z=q.nodeName&&q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&q.type==="file")var se=Ty;else if(If(q))if(Af)se=Ry;else{se=Sy;var ue=Iy}else(Z=q.nodeName)&&Z.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(se=Ay);if(se&&(se=se(t,U))){Sf(G,se,o,H);break e}ue&&ue(t,q,U),t==="focusout"&&(ue=q._wrapperState)&&ue.controlled&&q.type==="number"&&qi(q,"number",q.value)}switch(ue=U?vs(U):window,t){case"focusin":(If(ue)||ue.contentEditable==="true")&&(ms=ue,$u=U,ko=null);break;case"focusout":ko=$u=ms=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,Nf(G,o,H);break;case"selectionchange":if(ky)break;case"keydown":case"keyup":Nf(G,o,H)}var ce;if(st)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else ps?wf(t,o)&&(fe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(Ti&&o.locale!=="ko"&&(ps||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&ps&&(ce=To()):(tn=H,ss="value"in tn?tn.value:tn.textContent,ps=!0)),ue=Ga(U,fe),0<ue.length&&(fe=new Ao(fe,t,null,o,H),G.push({event:fe,listeners:ue}),ce?fe.data=ce:(ce=Tf(o),ce!==null&&(fe.data=ce)))),(ce=nn?_y(t,o):vy(t,o))&&(U=Ga(U,"onBeforeInput"),0<U.length&&(H=new Ao("onBeforeInput","beforeinput",null,o,H),G.push({event:H,listeners:U}),H.data=ce))}Bf(G,r)})}function Do(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ga(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=nt(t,o),p!=null&&u.unshift(Do(t,p,h)),p=nt(t,r),p!=null&&u.push(Do(t,p,h))),t=t.return}return u}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qf(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var T=o,R=T.alternate,U=T.stateNode;if(R!==null&&R===u)break;T.tag===5&&U!==null&&(T=U,h?(R=nt(o,p),R!=null&&_.unshift(Do(o,R,T))):h||(R=nt(o,p),R!=null&&_.push(Do(o,R,T)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Ny=/\r\n?/g,Oy=/\u0000|\uFFFD/g;function Hf(t){return(typeof t=="string"?t:""+t).replace(Ny,`
`).replace(Oy,"")}function Qa(t,r,o){if(r=Hf(r),Hf(t)!==r&&o)throw Error(n(425))}function Ka(){}var Xu=null,Yu=null;function Ju(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zu=typeof setTimeout=="function"?setTimeout:void 0,Ly=typeof clearTimeout=="function"?clearTimeout:void 0,Wf=typeof Promise=="function"?Promise:void 0,My=typeof queueMicrotask=="function"?queueMicrotask:typeof Wf<"u"?function(t){return Wf.resolve(null).then(t).catch(Fy)}:Zu;function Fy(t){setTimeout(function(){throw t})}function ec(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),An(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);An(r)}function Nr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Gf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var _s=Math.random().toString(36).slice(2),jn="__reactFiber$"+_s,No="__reactProps$"+_s,ar="__reactContainer$"+_s,tc="__reactEvents$"+_s,Uy="__reactListeners$"+_s,zy="__reactHandles$"+_s;function Ii(t){var r=t[jn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ar]||o[jn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Gf(t);t!==null;){if(o=t[jn])return o;t=Gf(t)}return r}t=o,o=t.parentNode}return null}function Oo(t){return t=t[jn]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Xa(t){return t[No]||null}var nc=[],Es=-1;function Or(t){return{current:t}}function We(t){0>Es||(t.current=nc[Es],nc[Es]=null,Es--)}function $e(t,r){Es++,nc[Es]=t.current,t.current=r}var Lr={},xt=Or(Lr),qt=Or(!1),Si=Lr;function ws(t,r){var o=t.type.contextTypes;if(!o)return Lr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(t){return t=t.childContextTypes,t!=null}function Ya(){We(qt),We(xt)}function Qf(t,r,o){if(xt.current!==Lr)throw Error(n(168));$e(xt,r),$e(qt,o)}function Kf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Oe(t)||"Unknown",h));return ee({},o,u)}function Ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,Si=xt.current,$e(xt,t),$e(qt,qt.current),!0}function Xf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Kf(t,r,Si),u.__reactInternalMemoizedMergedChildContext=t,We(qt),We(xt),$e(xt,t)):We(qt),$e(qt,o)}var lr=null,Za=!1,rc=!1;function Yf(t){lr===null?lr=[t]:lr.push(t)}function jy(t){Za=!0,Yf(t)}function Mr(){if(!rc&&lr!==null){rc=!0;var t=0,r=Ae;try{var o=lr;for(Ae=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}lr=null,Za=!1}catch(h){throw lr!==null&&(lr=lr.slice(t+1)),es(mi,Mr),h}finally{Ae=r,rc=!1}}return null}var Ts=[],Is=0,el=null,tl=0,fn=[],dn=0,Ai=null,ur=1,cr="";function Ri(t,r){Ts[Is++]=tl,Ts[Is++]=el,el=t,tl=r}function Jf(t,r,o){fn[dn++]=ur,fn[dn++]=cr,fn[dn++]=Ai,Ai=t;var u=ur;t=cr;var h=32-Ut(u)-1;u&=~(1<<h),o+=1;var p=32-Ut(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,ur=1<<32-Ut(r)+h|o<<h|u,cr=p+t}else ur=1<<p|o<<h|u,cr=t}function ic(t){t.return!==null&&(Ri(t,1),Jf(t,1,0))}function sc(t){for(;t===el;)el=Ts[--Is],Ts[Is]=null,tl=Ts[--Is],Ts[Is]=null;for(;t===Ai;)Ai=fn[--dn],fn[dn]=null,cr=fn[--dn],fn[dn]=null,ur=fn[--dn],fn[dn]=null}var rn=null,sn=null,Qe=!1,Pn=null;function Zf(t,r){var o=yn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function ed(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,rn=t,sn=Nr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,rn=t,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ai!==null?{id:ur,overflow:cr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=yn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,rn=t,sn=null,!0):!1;default:return!1}}function oc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ac(t){if(Qe){var r=sn;if(r){var o=r;if(!ed(t,r)){if(oc(t))throw Error(n(418));r=Nr(o.nextSibling);var u=rn;r&&ed(t,r)?Zf(u,o):(t.flags=t.flags&-4097|2,Qe=!1,rn=t)}}else{if(oc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Qe=!1,rn=t}}}function td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function nl(t){if(t!==rn)return!1;if(!Qe)return td(t),Qe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Ju(t.type,t.memoizedProps)),r&&(r=sn)){if(oc(t))throw nd(),Error(n(418));for(;r;)Zf(t,r),r=Nr(r.nextSibling)}if(td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){sn=Nr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}sn=null}}else sn=rn?Nr(t.stateNode.nextSibling):null;return!0}function nd(){for(var t=sn;t;)t=Nr(t.nextSibling)}function Ss(){sn=rn=null,Qe=!1}function lc(t){Pn===null?Pn=[t]:Pn.push(t)}var by=Se.ReactCurrentBatchConfig;function Lo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var T=h.refs;_===null?delete T[p]:T[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function rl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function rd(t){var r=t._init;return r(t._payload)}function id(t){function r(M,P){if(t){var F=M.deletions;F===null?(M.deletions=[P],M.flags|=16):F.push(P)}}function o(M,P){if(!t)return null;for(;P!==null;)r(M,P),P=P.sibling;return null}function u(M,P){for(M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(M,P){return M=qr(M,P),M.index=0,M.sibling=null,M}function p(M,P,F){return M.index=F,t?(F=M.alternate,F!==null?(F=F.index,F<P?(M.flags|=2,P):F):(M.flags|=2,P)):(M.flags|=1048576,P)}function _(M){return t&&M.alternate===null&&(M.flags|=2),M}function T(M,P,F,K){return P===null||P.tag!==6?(P=Zc(F,M.mode,K),P.return=M,P):(P=h(P,F),P.return=M,P)}function R(M,P,F,K){var se=F.type;return se===V?H(M,P,F.props.children,K,F.key):P!==null&&(P.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Vt&&rd(se)===P.type)?(K=h(P,F.props),K.ref=Lo(M,P,F),K.return=M,K):(K=Cl(F.type,F.key,F.props,null,M.mode,K),K.ref=Lo(M,P,F),K.return=M,K)}function U(M,P,F,K){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=eh(F,M.mode,K),P.return=M,P):(P=h(P,F.children||[]),P.return=M,P)}function H(M,P,F,K,se){return P===null||P.tag!==7?(P=Oi(F,M.mode,K,se),P.return=M,P):(P=h(P,F),P.return=M,P)}function G(M,P,F){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Zc(""+P,M.mode,F),P.return=M,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case et:return F=Cl(P.type,P.key,P.props,null,M.mode,F),F.ref=Lo(M,null,P),F.return=M,F;case xe:return P=eh(P,M.mode,F),P.return=M,P;case Vt:var K=P._init;return G(M,K(P._payload),F)}if(Jn(P)||le(P))return P=Oi(P,M.mode,F,null),P.return=M,P;rl(M,P)}return null}function q(M,P,F,K){var se=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return se!==null?null:T(M,P,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case et:return F.key===se?R(M,P,F,K):null;case xe:return F.key===se?U(M,P,F,K):null;case Vt:return se=F._init,q(M,P,se(F._payload),K)}if(Jn(F)||le(F))return se!==null?null:H(M,P,F,K,null);rl(M,F)}return null}function Z(M,P,F,K,se){if(typeof K=="string"&&K!==""||typeof K=="number")return M=M.get(F)||null,T(P,M,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case et:return M=M.get(K.key===null?F:K.key)||null,R(P,M,K,se);case xe:return M=M.get(K.key===null?F:K.key)||null,U(P,M,K,se);case Vt:var ue=K._init;return Z(M,P,F,ue(K._payload),se)}if(Jn(K)||le(K))return M=M.get(F)||null,H(P,M,K,se,null);rl(P,K)}return null}function re(M,P,F,K){for(var se=null,ue=null,ce=P,fe=P=0,Et=null;ce!==null&&fe<F.length;fe++){ce.index>fe?(Et=ce,ce=null):Et=ce.sibling;var Ne=q(M,ce,F[fe],K);if(Ne===null){ce===null&&(ce=Et);break}t&&ce&&Ne.alternate===null&&r(M,ce),P=p(Ne,P,fe),ue===null?se=Ne:ue.sibling=Ne,ue=Ne,ce=Et}if(fe===F.length)return o(M,ce),Qe&&Ri(M,fe),se;if(ce===null){for(;fe<F.length;fe++)ce=G(M,F[fe],K),ce!==null&&(P=p(ce,P,fe),ue===null?se=ce:ue.sibling=ce,ue=ce);return Qe&&Ri(M,fe),se}for(ce=u(M,ce);fe<F.length;fe++)Et=Z(ce,M,fe,F[fe],K),Et!==null&&(t&&Et.alternate!==null&&ce.delete(Et.key===null?fe:Et.key),P=p(Et,P,fe),ue===null?se=Et:ue.sibling=Et,ue=Et);return t&&ce.forEach(function(Hr){return r(M,Hr)}),Qe&&Ri(M,fe),se}function ie(M,P,F,K){var se=le(F);if(typeof se!="function")throw Error(n(150));if(F=se.call(F),F==null)throw Error(n(151));for(var ue=se=null,ce=P,fe=P=0,Et=null,Ne=F.next();ce!==null&&!Ne.done;fe++,Ne=F.next()){ce.index>fe?(Et=ce,ce=null):Et=ce.sibling;var Hr=q(M,ce,Ne.value,K);if(Hr===null){ce===null&&(ce=Et);break}t&&ce&&Hr.alternate===null&&r(M,ce),P=p(Hr,P,fe),ue===null?se=Hr:ue.sibling=Hr,ue=Hr,ce=Et}if(Ne.done)return o(M,ce),Qe&&Ri(M,fe),se;if(ce===null){for(;!Ne.done;fe++,Ne=F.next())Ne=G(M,Ne.value,K),Ne!==null&&(P=p(Ne,P,fe),ue===null?se=Ne:ue.sibling=Ne,ue=Ne);return Qe&&Ri(M,fe),se}for(ce=u(M,ce);!Ne.done;fe++,Ne=F.next())Ne=Z(ce,M,fe,Ne.value,K),Ne!==null&&(t&&Ne.alternate!==null&&ce.delete(Ne.key===null?fe:Ne.key),P=p(Ne,P,fe),ue===null?se=Ne:ue.sibling=Ne,ue=Ne);return t&&ce.forEach(function(v_){return r(M,v_)}),Qe&&Ri(M,fe),se}function rt(M,P,F,K){if(typeof F=="object"&&F!==null&&F.type===V&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case et:e:{for(var se=F.key,ue=P;ue!==null;){if(ue.key===se){if(se=F.type,se===V){if(ue.tag===7){o(M,ue.sibling),P=h(ue,F.props.children),P.return=M,M=P;break e}}else if(ue.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Vt&&rd(se)===ue.type){o(M,ue.sibling),P=h(ue,F.props),P.ref=Lo(M,ue,F),P.return=M,M=P;break e}o(M,ue);break}else r(M,ue);ue=ue.sibling}F.type===V?(P=Oi(F.props.children,M.mode,K,F.key),P.return=M,M=P):(K=Cl(F.type,F.key,F.props,null,M.mode,K),K.ref=Lo(M,P,F),K.return=M,M=K)}return _(M);case xe:e:{for(ue=F.key;P!==null;){if(P.key===ue)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){o(M,P.sibling),P=h(P,F.children||[]),P.return=M,M=P;break e}else{o(M,P);break}else r(M,P);P=P.sibling}P=eh(F,M.mode,K),P.return=M,M=P}return _(M);case Vt:return ue=F._init,rt(M,P,ue(F._payload),K)}if(Jn(F))return re(M,P,F,K);if(le(F))return ie(M,P,F,K);rl(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,P!==null&&P.tag===6?(o(M,P.sibling),P=h(P,F),P.return=M,M=P):(o(M,P),P=Zc(F,M.mode,K),P.return=M,M=P),_(M)):o(M,P)}return rt}var As=id(!0),sd=id(!1),il=Or(null),sl=null,Rs=null,uc=null;function cc(){uc=Rs=sl=null}function hc(t){var r=il.current;We(il),t._currentValue=r}function fc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Cs(t,r){sl=t,uc=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Wt=!0),t.firstContext=null)}function pn(t){var r=t._currentValue;if(uc!==t)if(t={context:t,memoizedValue:r,next:null},Rs===null){if(sl===null)throw Error(n(308));Rs=t,sl.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return r}var Ci=null;function dc(t){Ci===null?Ci=[t]:Ci.push(t)}function od(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,dc(r)):(o.next=h.next,h.next=o),r.interleaved=o,hr(t,u)}function hr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Fr=!1;function pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ad(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,De&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,hr(t,o)}return h=u.interleaved,h===null?(r.next=r,dc(u)):(r.next=h.next,h.next=r),u.interleaved=r,hr(t,o)}function ol(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Cr(t,o)}}function ld(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function al(t,r,o,u){var h=t.updateQueue;Fr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,U=R.next;R.next=null,_===null?p=U:_.next=U,_=R;var H=t.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==_&&(T===null?H.firstBaseUpdate=U:T.next=U,H.lastBaseUpdate=R))}if(p!==null){var G=h.baseState;_=0,H=U=R=null,T=p;do{var q=T.lane,Z=T.eventTime;if((u&q)===q){H!==null&&(H=H.next={eventTime:Z,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var re=t,ie=T;switch(q=r,Z=o,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){G=re.call(Z,G,q);break e}G=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,q=typeof re=="function"?re.call(Z,G,q):re,q==null)break e;G=ee({},G,q);break e;case 2:Fr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,q=h.effects,q===null?h.effects=[T]:q.push(T))}else Z={eventTime:Z,lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(U=H=Z,R=G):H=H.next=Z,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(H===null&&(R=G),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=H,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Vi|=_,t.lanes=_,t.memoizedState=G}}function ud(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Mo={},bn=Or(Mo),Fo=Or(Mo),Uo=Or(Mo);function Pi(t){if(t===Mo)throw Error(n(174));return t}function mc(t,r){switch($e(Uo,r),$e(Fo,t),$e(bn,Mo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}We(bn),$e(bn,r)}function Ps(){We(bn),We(Fo),We(Uo)}function cd(t){Pi(Uo.current);var r=Pi(bn.current),o=ut(r,t.type);r!==o&&($e(Fo,t),$e(bn,o))}function gc(t){Fo.current===t&&(We(bn),We(Fo))}var Ke=Or(0);function ll(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var yc=[];function _c(){for(var t=0;t<yc.length;t++)yc[t]._workInProgressVersionPrimary=null;yc.length=0}var ul=Se.ReactCurrentDispatcher,vc=Se.ReactCurrentBatchConfig,ki=0,Xe=null,ht=null,_t=null,cl=!1,zo=!1,jo=0,By=0;function Dt(){throw Error(n(321))}function Ec(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Cn(t[o],r[o]))return!1;return!0}function wc(t,r,o,u,h,p){if(ki=p,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ul.current=t===null||t.memoizedState===null?Wy:Gy,t=o(u,h),zo){p=0;do{if(zo=!1,jo=0,25<=p)throw Error(n(301));p+=1,_t=ht=null,r.updateQueue=null,ul.current=Qy,t=o(u,h)}while(zo)}if(ul.current=dl,r=ht!==null&&ht.next!==null,ki=0,_t=ht=Xe=null,cl=!1,r)throw Error(n(300));return t}function Tc(){var t=jo!==0;return jo=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Xe.memoizedState=_t=t:_t=_t.next=t,_t}function mn(){if(ht===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=_t===null?Xe.memoizedState:_t.next;if(r!==null)_t=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},_t===null?Xe.memoizedState=_t=t:_t=_t.next=t}return _t}function bo(t,r){return typeof r=="function"?r(t):r}function Ic(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var T=_=null,R=null,U=p;do{var H=U.lane;if((ki&H)===H)R!==null&&(R=R.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var G={lane:H,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};R===null?(T=R=G,_=u):R=R.next=G,Xe.lanes|=H,Vi|=H}U=U.next}while(U!==null&&U!==p);R===null?_=u:R.next=T,Cn(u,r.memoizedState)||(Wt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Xe.lanes|=p,Vi|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Sc(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);Cn(p,r.memoizedState)||(Wt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function hd(){}function fd(t,r){var o=Xe,u=mn(),h=r(),p=!Cn(u.memoizedState,h);if(p&&(u.memoizedState=h,Wt=!0),u=u.queue,Ac(md.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,Bo(9,pd.bind(null,o,u,h,r),void 0,null),vt===null)throw Error(n(349));ki&30||dd(o,r,h)}return h}function dd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function pd(t,r,o,u){r.value=o,r.getSnapshot=u,gd(r)&&yd(t)}function md(t,r,o){return o(function(){gd(r)&&yd(t)})}function gd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Cn(t,o)}catch{return!0}}function yd(t){var r=hr(t,1);r!==null&&Dn(r,t,1,-1)}function _d(t){var r=Bn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:t},r.queue=t,t=t.dispatch=Hy.bind(null,Xe,t),[r.memoizedState,t]}function Bo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function vd(){return mn().memoizedState}function hl(t,r,o,u){var h=Bn();Xe.flags|=t,h.memoizedState=Bo(1|r,o,void 0,u===void 0?null:u)}function fl(t,r,o,u){var h=mn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var _=ht.memoizedState;if(p=_.destroy,u!==null&&Ec(u,_.deps)){h.memoizedState=Bo(r,o,p,u);return}}Xe.flags|=t,h.memoizedState=Bo(1|r,o,p,u)}function Ed(t,r){return hl(8390656,8,t,r)}function Ac(t,r){return fl(2048,8,t,r)}function wd(t,r){return fl(4,2,t,r)}function Td(t,r){return fl(4,4,t,r)}function Id(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Sd(t,r,o){return o=o!=null?o.concat([t]):null,fl(4,4,Id.bind(null,r,t),o)}function Rc(){}function Ad(t,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Ec(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Rd(t,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Ec(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Cd(t,r,o){return ki&21?(Cn(o,r)||(o=_i(),Xe.lanes|=o,Vi|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=o)}function $y(t,r){var o=Ae;Ae=o!==0&&4>o?o:4,t(!0);var u=vc.transition;vc.transition={};try{t(!1),r()}finally{Ae=o,vc.transition=u}}function Pd(){return mn().memoizedState}function qy(t,r,o){var u=Br(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},kd(t))Vd(r,o);else if(o=od(t,r,o,u),o!==null){var h=bt();Dn(o,t,u,h),xd(o,r,u)}}function Hy(t,r,o){var u=Br(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(kd(t))Vd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,T=p(_,o);if(h.hasEagerState=!0,h.eagerState=T,Cn(T,_)){var R=r.interleaved;R===null?(h.next=h,dc(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=od(t,r,h,u),o!==null&&(h=bt(),Dn(o,t,u,h),xd(o,r,u))}}function kd(t){var r=t.alternate;return t===Xe||r!==null&&r===Xe}function Vd(t,r){zo=cl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function xd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Cr(t,o)}}var dl={readContext:pn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Wy={readContext:pn,useCallback:function(t,r){return Bn().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:Ed,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,hl(4194308,4,Id.bind(null,r,t),o)},useLayoutEffect:function(t,r){return hl(4194308,4,t,r)},useInsertionEffect:function(t,r){return hl(4,2,t,r)},useMemo:function(t,r){var o=Bn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Bn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=qy.bind(null,Xe,t),[u.memoizedState,t]},useRef:function(t){var r=Bn();return t={current:t},r.memoizedState=t},useState:_d,useDebugValue:Rc,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=_d(!1),r=t[0];return t=$y.bind(null,t[1]),Bn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Xe,h=Bn();if(Qe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),vt===null)throw Error(n(349));ki&30||dd(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,Ed(md.bind(null,u,p,t),[t]),u.flags|=2048,Bo(9,pd.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Bn(),r=vt.identifierPrefix;if(Qe){var o=cr,u=ur;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=jo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=By++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Gy={readContext:pn,useCallback:Ad,useContext:pn,useEffect:Ac,useImperativeHandle:Sd,useInsertionEffect:wd,useLayoutEffect:Td,useMemo:Rd,useReducer:Ic,useRef:vd,useState:function(){return Ic(bo)},useDebugValue:Rc,useDeferredValue:function(t){var r=mn();return Cd(r,ht.memoizedState,t)},useTransition:function(){var t=Ic(bo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:hd,useSyncExternalStore:fd,useId:Pd,unstable_isNewReconciler:!1},Qy={readContext:pn,useCallback:Ad,useContext:pn,useEffect:Ac,useImperativeHandle:Sd,useInsertionEffect:wd,useLayoutEffect:Td,useMemo:Rd,useReducer:Sc,useRef:vd,useState:function(){return Sc(bo)},useDebugValue:Rc,useDeferredValue:function(t){var r=mn();return ht===null?r.memoizedState=t:Cd(r,ht.memoizedState,t)},useTransition:function(){var t=Sc(bo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:hd,useSyncExternalStore:fd,useId:Pd,unstable_isNewReconciler:!1};function kn(t,r){if(t&&t.defaultProps){r=ee({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Cc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ee({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var pl={isMounted:function(t){return(t=t._reactInternals)?En(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=bt(),h=Br(t),p=fr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,h),r!==null&&(Dn(r,t,h,u),ol(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=bt(),h=Br(t),p=fr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,h),r!==null&&(Dn(r,t,h,u),ol(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=bt(),u=Br(t),h=fr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Ur(t,h,u),r!==null&&(Dn(r,t,u,o),ol(r,t,u))}};function Dd(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!Po(o,u)||!Po(h,p):!0}function Nd(t,r,o){var u=!1,h=Lr,p=r.contextType;return typeof p=="object"&&p!==null?p=pn(p):(h=Ht(r)?Si:xt.current,u=r.contextTypes,p=(u=u!=null)?ws(t,h):Lr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=pl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function Od(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&pl.enqueueReplaceState(r,r.state,null)}function Pc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},pc(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=pn(p):(p=Ht(r)?Si:xt.current,h.context=ws(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Cc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&pl.enqueueReplaceState(h,h.state,null),al(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function ks(t,r){try{var o="",u=r;do o+=we(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function kc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Vc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Ky=typeof WeakMap=="function"?WeakMap:Map;function Ld(t,r,o){o=fr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){wl||(wl=!0,Hc=u),Vc(t,r)},o}function Md(t,r,o){o=fr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){Vc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Vc(t,r),typeof u!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Fd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Ky;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=u_.bind(null,t,r,o),r.then(t,t))}function Ud(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function zd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=fr(-1,1),r.tag=2,Ur(o,r,1))),o.lanes|=1),t)}var Xy=Se.ReactCurrentOwner,Wt=!1;function jt(t,r,o,u){r.child=t===null?sd(r,null,o,u):As(r,t.child,o,u)}function jd(t,r,o,u,h){o=o.render;var p=r.ref;return Cs(r,h),u=wc(t,r,o,u,p,h),o=Tc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(Qe&&o&&ic(r),r.flags|=1,jt(t,r,u,h),r.child)}function bd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Jc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Bd(t,r,p,u,h)):(t=Cl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Po,o(_,u)&&t.ref===r.ref)return dr(t,r,h)}return r.flags|=1,t=qr(p,u),t.ref=r.ref,t.return=r,r.child=t}function Bd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Po(p,u)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Wt=!0);else return r.lanes=t.lanes,dr(t,r,h)}return xc(t,r,o,u,h)}function $d(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(xs,on),on|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,$e(xs,on),on|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,$e(xs,on),on|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,$e(xs,on),on|=u;return jt(t,r,h,o),r.child}function qd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function xc(t,r,o,u,h){var p=Ht(o)?Si:xt.current;return p=ws(r,p),Cs(r,h),o=wc(t,r,o,u,p,h),u=Tc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(Qe&&u&&ic(r),r.flags|=1,jt(t,r,o,h),r.child)}function Hd(t,r,o,u,h){if(Ht(o)){var p=!0;Ja(r)}else p=!1;if(Cs(r,h),r.stateNode===null)gl(t,r),Nd(r,o,u),Pc(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,T=r.memoizedProps;_.props=T;var R=_.context,U=o.contextType;typeof U=="object"&&U!==null?U=pn(U):(U=Ht(o)?Si:xt.current,U=ws(r,U));var H=o.getDerivedStateFromProps,G=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function";G||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==u||R!==U)&&Od(r,_,u,U),Fr=!1;var q=r.memoizedState;_.state=q,al(r,u,_,h),R=r.memoizedState,T!==u||q!==R||qt.current||Fr?(typeof H=="function"&&(Cc(r,o,H,u),R=r.memoizedState),(T=Fr||Dd(r,o,T,u,q,R,U))?(G||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),_.props=u,_.state=R,_.context=U,u=T):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,ad(t,r),T=r.memoizedProps,U=r.type===r.elementType?T:kn(r.type,T),_.props=U,G=r.pendingProps,q=_.context,R=o.contextType,typeof R=="object"&&R!==null?R=pn(R):(R=Ht(o)?Si:xt.current,R=ws(r,R));var Z=o.getDerivedStateFromProps;(H=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==G||q!==R)&&Od(r,_,u,R),Fr=!1,q=r.memoizedState,_.state=q,al(r,u,_,h);var re=r.memoizedState;T!==G||q!==re||qt.current||Fr?(typeof Z=="function"&&(Cc(r,o,Z,u),re=r.memoizedState),(U=Fr||Dd(r,o,U,u,q,re,R)||!1)?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,re,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,re,R)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=re),_.props=u,_.state=re,_.context=R,u=U):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),u=!1)}return Dc(t,r,o,u,p,h)}function Dc(t,r,o,u,h,p){qd(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&Xf(r,o,!1),dr(t,r,p);u=r.stateNode,Xy.current=r;var T=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=As(r,t.child,null,p),r.child=As(r,null,T,p)):jt(t,r,T,p),r.memoizedState=u.state,h&&Xf(r,o,!0),r.child}function Wd(t){var r=t.stateNode;r.pendingContext?Qf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Qf(t,r.context,!1),mc(t,r.containerInfo)}function Gd(t,r,o,u,h){return Ss(),lc(h),r.flags|=256,jt(t,r,o,u),r.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function Oc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qd(t,r,o){var u=r.pendingProps,h=Ke.current,p=!1,_=(r.flags&128)!==0,T;if((T=_)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),$e(Ke,h&1),t===null)return ac(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Pl(_,u,0,null),t=Oi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Oc(o),r.memoizedState=Nc,t):Lc(r,_));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return Yy(t,r,_,u,T,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,T=h.sibling;var R={mode:"hidden",children:u.children};return!(_&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=qr(h,R),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?p=qr(T,p):(p=Oi(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?Oc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=Nc,u}return p=t.child,t=p.sibling,u=qr(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Lc(t,r){return r=Pl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function ml(t,r,o,u){return u!==null&&lc(u),As(r,t.child,null,o),t=Lc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Yy(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=kc(Error(n(422))),ml(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Pl({mode:"visible",children:u.children},h,0,null),p=Oi(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&As(r,t.child,null,_),r.child.memoizedState=Oc(_),r.memoizedState=Nc,p);if(!(r.mode&1))return ml(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,p=Error(n(419)),u=kc(p,u,void 0),ml(t,r,_,u)}if(T=(_&t.childLanes)!==0,Wt||T){if(u=vt,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,hr(t,h),Dn(u,t,h,-1))}return Yc(),u=kc(Error(n(421))),ml(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=c_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,sn=Nr(h.nextSibling),rn=r,Qe=!0,Pn=null,t!==null&&(fn[dn++]=ur,fn[dn++]=cr,fn[dn++]=Ai,ur=t.id,cr=t.overflow,Ai=r),r=Lc(r,u.children),r.flags|=4096,r)}function Kd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),fc(t.return,r,o)}function Mc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Xd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(jt(t,r,u.children,o),u=Ke.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kd(t,o,r);else if(t.tag===19)Kd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if($e(Ke,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&ll(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Mc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ll(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Mc(r,!0,o,null,p);break;case"together":Mc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function dr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Vi|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=qr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=qr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Jy(t,r,o){switch(r.tag){case 3:Wd(r),Ss();break;case 5:cd(r);break;case 1:Ht(r.type)&&Ja(r);break;case 4:mc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;$e(il,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?($e(Ke,Ke.current&1),r.flags|=128,null):o&r.child.childLanes?Qd(t,r,o):($e(Ke,Ke.current&1),t=dr(t,r,o),t!==null?t.sibling:null);$e(Ke,Ke.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Xd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Ke,Ke.current),u)break;return null;case 22:case 23:return r.lanes=0,$d(t,r,o)}return dr(t,r,o)}var Yd,Fc,Jd,Zd;Yd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Fc=function(){},Jd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Pi(bn.current);var p=null;switch(o){case"input":h=ai(t,h),u=ai(t,u),p=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),p=[];break;case"textarea":h=no(t,h),u=no(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ka)}lo(o,u);var _;o=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var T=h[U];for(_ in T)T.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var R=u[U];if(T=h!=null?h[U]:void 0,u.hasOwnProperty(U)&&R!==T&&(R!=null||T!=null))if(U==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in R)R.hasOwnProperty(_)&&T[_]!==R[_]&&(o||(o={}),o[_]=R[_])}else o||(p||(p=[]),p.push(U,o)),o=R;else U==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(p=p||[]).push(U,R)):U==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(U,""+R):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(R!=null&&U==="onScroll"&&He("scroll",t),p||T===R||(p=[])):(p=p||[]).push(U,R))}o&&(p=p||[]).push("style",o);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},Zd=function(t,r,o,u){o!==u&&(r.flags|=4)};function $o(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Zy(t,r,o){var u=r.pendingProps;switch(sc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return Ht(r.type)&&Ya(),Nt(r),null;case 3:return u=r.stateNode,Ps(),We(qt),We(xt),_c(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(nl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Pn!==null&&(Qc(Pn),Pn=null))),Fc(t,r),Nt(r),null;case 5:gc(r);var h=Pi(Uo.current);if(o=r.type,t!==null&&r.stateNode!=null)Jd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Nt(r),null}if(t=Pi(bn.current),nl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[jn]=r,u[No]=p,t=(r.mode&1)!==0,o){case"dialog":He("cancel",u),He("close",u);break;case"iframe":case"object":case"embed":He("load",u);break;case"video":case"audio":for(h=0;h<Vo.length;h++)He(Vo[h],u);break;case"source":He("error",u);break;case"img":case"image":case"link":He("error",u),He("load",u);break;case"details":He("toggle",u);break;case"input":$i(u,p),He("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},He("invalid",u);break;case"textarea":Hi(u,p),He("invalid",u)}lo(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var T=p[_];_==="children"?typeof T=="string"?u.textContent!==T&&(p.suppressHydrationWarning!==!0&&Qa(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&Qa(u.textContent,T,t),h=["children",""+T]):a.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&He("scroll",u)}switch(o){case"input":Yn(u),Ea(u,p,!0);break;case"textarea":Yn(u),ro(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ka)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[jn]=r,t[No]=u,Yd(t,r,!1,!1),r.stateNode=t;e:{switch(_=uo(o,u),o){case"dialog":He("cancel",t),He("close",t),h=u;break;case"iframe":case"object":case"embed":He("load",t),h=u;break;case"video":case"audio":for(h=0;h<Vo.length;h++)He(Vo[h],t);h=u;break;case"source":He("error",t),h=u;break;case"img":case"image":case"link":He("error",t),He("load",t),h=u;break;case"details":He("toggle",t),h=u;break;case"input":$i(t,u),h=ai(t,u),He("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),He("invalid",t);break;case"textarea":Hi(t,u),h=no(t,u),He("invalid",t);break;default:h=u}lo(o,h),T=h;for(p in T)if(T.hasOwnProperty(p)){var R=T[p];p==="style"?oo(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&io(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&Tr(t,R):typeof R=="number"&&Tr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&He("scroll",t):R!=null&&ve(t,p,R,_))}switch(o){case"input":Yn(t),Ea(t,u,!1);break;case"textarea":Yn(t),ro(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Le(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Zn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Zn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ka)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Nt(r),null;case 6:if(t&&r.stateNode!=null)Zd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Pi(Uo.current),Pi(bn.current),nl(r)){if(u=r.stateNode,o=r.memoizedProps,u[jn]=r,(p=u.nodeValue!==o)&&(t=rn,t!==null))switch(t.tag){case 3:Qa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[jn]=r,r.stateNode=u}return Nt(r),null;case 13:if(We(Ke),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&sn!==null&&r.mode&1&&!(r.flags&128))nd(),Ss(),r.flags|=98560,p=!1;else if(p=nl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[jn]=r}else Ss(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Nt(r),p=!1}else Pn!==null&&(Qc(Pn),Pn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ke.current&1?ft===0&&(ft=3):Yc())),r.updateQueue!==null&&(r.flags|=4),Nt(r),null);case 4:return Ps(),Fc(t,r),t===null&&xo(r.stateNode.containerInfo),Nt(r),null;case 10:return hc(r.type._context),Nt(r),null;case 17:return Ht(r.type)&&Ya(),Nt(r),null;case 19:if(We(Ke),p=r.memoizedState,p===null)return Nt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)$o(p,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=ll(t),_!==null){for(r.flags|=128,$o(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return $e(Ke,Ke.current&1|2),r.child}t=t.sibling}p.tail!==null&&Be()>Ds&&(r.flags|=128,u=!0,$o(p,!1),r.lanes=4194304)}else{if(!u)if(t=ll(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),$o(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Qe)return Nt(r),null}else 2*Be()-p.renderingStartTime>Ds&&o!==1073741824&&(r.flags|=128,u=!0,$o(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Be(),r.sibling=null,o=Ke.current,$e(Ke,u?o&1|2:o&1),r):(Nt(r),null);case 22:case 23:return Xc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?on&1073741824&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function e_(t,r){switch(sc(r),r.tag){case 1:return Ht(r.type)&&Ya(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ps(),We(qt),We(xt),_c(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return gc(r),null;case 13:if(We(Ke),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ss()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Ke),null;case 4:return Ps(),null;case 10:return hc(r.type._context),null;case 22:case 23:return Xc(),null;case 24:return null;default:return null}}var yl=!1,Ot=!1,t_=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Vs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Je(t,r,u)}else o.current=null}function Uc(t,r,o){try{o()}catch(u){Je(t,r,u)}}var ep=!1;function n_(t,r){if(Xu=Vr,t=Df(),Bu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,T=-1,R=-1,U=0,H=0,G=t,q=null;t:for(;;){for(var Z;G!==o||h!==0&&G.nodeType!==3||(T=_+h),G!==p||u!==0&&G.nodeType!==3||(R=_+u),G.nodeType===3&&(_+=G.nodeValue.length),(Z=G.firstChild)!==null;)q=G,G=Z;for(;;){if(G===t)break t;if(q===o&&++U===h&&(T=_),q===p&&++H===u&&(R=_),(Z=G.nextSibling)!==null)break;G=q,q=G.parentNode}G=Z}o=T===-1||R===-1?null:{start:T,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yu={focusedElem:t,selectionRange:o},Vr=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var re=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,rt=re.memoizedState,M=r.stateNode,P=M.getSnapshotBeforeUpdate(r.elementType===r.type?ie:kn(r.type,ie),rt);M.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){Je(r,r.return,K)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return re=ep,ep=!1,re}function qo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Uc(r,o,p)}h=h.next}while(h!==u)}}function _l(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function zc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function tp(t){var r=t.alternate;r!==null&&(t.alternate=null,tp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[jn],delete r[No],delete r[tc],delete r[Uy],delete r[zy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function np(t){return t.tag===5||t.tag===3||t.tag===4}function rp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ka));else if(u!==4&&(t=t.child,t!==null))for(jc(t,r,o),t=t.sibling;t!==null;)jc(t,r,o),t=t.sibling}function bc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(bc(t,r,o),t=t.sibling;t!==null;)bc(t,r,o),t=t.sibling}var St=null,Vn=!1;function zr(t,r,o){for(o=o.child;o!==null;)ip(t,r,o),o=o.sibling}function ip(t,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(gi,o)}catch{}switch(o.tag){case 5:Ot||Vs(o,r);case 6:var u=St,h=Vn;St=null,zr(t,r,o),St=u,Vn=h,St!==null&&(Vn?(t=St,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(Vn?(t=St,o=o.stateNode,t.nodeType===8?ec(t.parentNode,o):t.nodeType===1&&ec(t,o),An(t)):ec(St,o.stateNode));break;case 4:u=St,h=Vn,St=o.stateNode.containerInfo,Vn=!0,zr(t,r,o),St=u,Vn=h;break;case 0:case 11:case 14:case 15:if(!Ot&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&Uc(o,r,_),h=h.next}while(h!==u)}zr(t,r,o);break;case 1:if(!Ot&&(Vs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){Je(o,r,T)}zr(t,r,o);break;case 21:zr(t,r,o);break;case 22:o.mode&1?(Ot=(u=Ot)||o.memoizedState!==null,zr(t,r,o),Ot=u):zr(t,r,o);break;default:zr(t,r,o)}}function sp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new t_),r.forEach(function(u){var h=h_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function xn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 5:St=T.stateNode,Vn=!1;break e;case 3:St=T.stateNode.containerInfo,Vn=!0;break e;case 4:St=T.stateNode.containerInfo,Vn=!0;break e}T=T.return}if(St===null)throw Error(n(160));ip(p,_,h),St=null,Vn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(U){Je(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)op(r,t),r=r.sibling}function op(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),$n(t),u&4){try{qo(3,t,t.return),_l(3,t)}catch(ie){Je(t,t.return,ie)}try{qo(5,t,t.return)}catch(ie){Je(t,t.return,ie)}}break;case 1:xn(r,t),$n(t),u&512&&o!==null&&Vs(o,o.return);break;case 5:if(xn(r,t),$n(t),u&512&&o!==null&&Vs(o,o.return),t.flags&32){var h=t.stateNode;try{Tr(h,"")}catch(ie){Je(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,T=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&eo(h,p),uo(T,_);var U=uo(T,p);for(_=0;_<R.length;_+=2){var H=R[_],G=R[_+1];H==="style"?oo(h,G):H==="dangerouslySetInnerHTML"?io(h,G):H==="children"?Tr(h,G):ve(h,H,G,U)}switch(T){case"input":to(h,p);break;case"textarea":Wi(h,p);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?Zn(h,!!p.multiple,Z,!1):q!==!!p.multiple&&(p.defaultValue!=null?Zn(h,!!p.multiple,p.defaultValue,!0):Zn(h,!!p.multiple,p.multiple?[]:"",!1))}h[No]=p}catch(ie){Je(t,t.return,ie)}}break;case 6:if(xn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ie){Je(t,t.return,ie)}}break;case 3:if(xn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{An(r.containerInfo)}catch(ie){Je(t,t.return,ie)}break;case 4:xn(r,t),$n(t);break;case 13:xn(r,t),$n(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(qc=Be())),u&4&&sp(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Ot=(U=Ot)||H,xn(r,t),Ot=U):xn(r,t),$n(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!H&&t.mode&1)for(ne=t,H=t.child;H!==null;){for(G=ne=H;ne!==null;){switch(q=ne,Z=q.child,q.tag){case 0:case 11:case 14:case 15:qo(4,q,q.return);break;case 1:Vs(q,q.return);var re=q.stateNode;if(typeof re.componentWillUnmount=="function"){u=q,o=q.return;try{r=u,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(ie){Je(u,o,ie)}}break;case 5:Vs(q,q.return);break;case 22:if(q.memoizedState!==null){up(G);continue}}Z!==null?(Z.return=q,ne=Z):up(G)}H=H.sibling}e:for(H=null,G=t;;){if(G.tag===5){if(H===null){H=G;try{h=G.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=G.stateNode,R=G.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=so("display",_))}catch(ie){Je(t,t.return,ie)}}}else if(G.tag===6){if(H===null)try{G.stateNode.nodeValue=U?"":G.memoizedProps}catch(ie){Je(t,t.return,ie)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===t)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;H===G&&(H=null),G=G.return}H===G&&(H=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:xn(r,t),$n(t),u&4&&sp(t);break;case 21:break;default:xn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(np(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Tr(h,""),u.flags&=-33);var p=rp(t);bc(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,T=rp(t);jc(t,T,_);break;default:throw Error(n(161))}}catch(R){Je(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function r_(t,r,o){ne=t,ap(t)}function ap(t,r,o){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||yl;if(!_){var T=h.alternate,R=T!==null&&T.memoizedState!==null||Ot;T=yl;var U=Ot;if(yl=_,(Ot=R)&&!U)for(ne=h;ne!==null;)_=ne,R=_.child,_.tag===22&&_.memoizedState!==null?cp(h):R!==null?(R.return=_,ne=R):cp(h);for(;p!==null;)ne=p,ap(p),p=p.sibling;ne=h,yl=T,Ot=U}lp(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ne=p):lp(t)}}function lp(t){for(;ne!==null;){var r=ne;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ot||_l(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Ot)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:kn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&ud(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}ud(r,_,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var H=U.memoizedState;if(H!==null){var G=H.dehydrated;G!==null&&An(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ot||r.flags&512&&zc(r)}catch(q){Je(r,r.return,q)}}if(r===t){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function up(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function cp(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{_l(4,r)}catch(R){Je(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Je(r,h,R)}}var p=r.return;try{zc(r)}catch(R){Je(r,p,R)}break;case 5:var _=r.return;try{zc(r)}catch(R){Je(r,_,R)}}}catch(R){Je(r,r.return,R)}if(r===t){ne=null;break}var T=r.sibling;if(T!==null){T.return=r.return,ne=T;break}ne=r.return}}var i_=Math.ceil,vl=Se.ReactCurrentDispatcher,Bc=Se.ReactCurrentOwner,gn=Se.ReactCurrentBatchConfig,De=0,vt=null,ot=null,At=0,on=0,xs=Or(0),ft=0,Ho=null,Vi=0,El=0,$c=0,Wo=null,Gt=null,qc=0,Ds=1/0,pr=null,wl=!1,Hc=null,jr=null,Tl=!1,br=null,Il=0,Go=0,Wc=null,Sl=-1,Al=0;function bt(){return De&6?Be():Sl!==-1?Sl:Sl=Be()}function Br(t){return t.mode&1?De&2&&At!==0?At&-At:by.transition!==null?(Al===0&&(Al=_i()),Al):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:wo(t.type)),t):1}function Dn(t,r,o,u){if(50<Go)throw Go=0,Wc=null,Error(n(185));Rr(t,o,u),(!(De&2)||t!==vt)&&(t===vt&&(!(De&2)&&(El|=o),ft===4&&$r(t,At)),Qt(t,u),o===1&&De===0&&!(r.mode&1)&&(Ds=Be()+500,Za&&Mr()))}function Qt(t,r){var o=t.callbackNode;nr(t,r);var u=yi(t,t===vt?At:0);if(u===0)o!==null&&go(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&go(o),r===1)t.tag===0?jy(fp.bind(null,t)):Yf(fp.bind(null,t)),My(function(){!(De&6)&&Mr()}),o=null;else{switch(Pr(u)){case 1:o=mi;break;case 4:o=Ir;break;case 16:o=un;break;case 536870912:o=Aa;break;default:o=un}o=Ep(o,hp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function hp(t,r){if(Sl=-1,Al=0,De&6)throw Error(n(327));var o=t.callbackNode;if(Ns()&&t.callbackNode!==o)return null;var u=yi(t,t===vt?At:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Rl(t,u);else{r=u;var h=De;De|=2;var p=pp();(vt!==t||At!==r)&&(pr=null,Ds=Be()+500,Di(t,r));do try{a_();break}catch(T){dp(t,T)}while(!0);cc(),vl.current=p,De=h,ot!==null?r=0:(vt=null,At=0,r=ft)}if(r!==0){if(r===2&&(h=en(t),h!==0&&(u=h,r=Gc(t,h))),r===1)throw o=Ho,Di(t,0),$r(t,u),Qt(t,Be()),o;if(r===6)$r(t,u);else{if(h=t.current.alternate,!(u&30)&&!s_(h)&&(r=Rl(t,u),r===2&&(p=en(t),p!==0&&(u=p,r=Gc(t,p))),r===1))throw o=Ho,Di(t,0),$r(t,u),Qt(t,Be()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ni(t,Gt,pr);break;case 3:if($r(t,u),(u&130023424)===u&&(r=qc+500-Be(),10<r)){if(yi(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){bt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Zu(Ni.bind(null,t,Gt,pr),r);break}Ni(t,Gt,pr);break;case 4:if($r(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Ut(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=Be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*i_(u/1960))-u,10<u){t.timeoutHandle=Zu(Ni.bind(null,t,Gt,pr),u);break}Ni(t,Gt,pr);break;case 5:Ni(t,Gt,pr);break;default:throw Error(n(329))}}}return Qt(t,Be()),t.callbackNode===o?hp.bind(null,t):null}function Gc(t,r){var o=Wo;return t.current.memoizedState.isDehydrated&&(Di(t,r).flags|=256),t=Rl(t,r),t!==2&&(r=Gt,Gt=o,r!==null&&Qc(r)),t}function Qc(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function s_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Cn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(t,r){for(r&=~$c,r&=~El,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),u=1<<o;t[o]=-1,r&=~u}}function fp(t){if(De&6)throw Error(n(327));Ns();var r=yi(t,0);if(!(r&1))return Qt(t,Be()),null;var o=Rl(t,r);if(t.tag!==0&&o===2){var u=en(t);u!==0&&(r=u,o=Gc(t,u))}if(o===1)throw o=Ho,Di(t,0),$r(t,r),Qt(t,Be()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ni(t,Gt,pr),Qt(t,Be()),null}function Kc(t,r){var o=De;De|=1;try{return t(r)}finally{De=o,De===0&&(Ds=Be()+500,Za&&Mr())}}function xi(t){br!==null&&br.tag===0&&!(De&6)&&Ns();var r=De;De|=1;var o=gn.transition,u=Ae;try{if(gn.transition=null,Ae=1,t)return t()}finally{Ae=u,gn.transition=o,De=r,!(De&6)&&Mr()}}function Xc(){on=xs.current,We(xs)}function Di(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Ly(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch(sc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ya();break;case 3:Ps(),We(qt),We(xt),_c();break;case 5:gc(u);break;case 4:Ps();break;case 13:We(Ke);break;case 19:We(Ke);break;case 10:hc(u.type._context);break;case 22:case 23:Xc()}o=o.return}if(vt=t,ot=t=qr(t.current,null),At=on=r,ft=0,Ho=null,$c=El=Vi=0,Gt=Wo=null,Ci!==null){for(r=0;r<Ci.length;r++)if(o=Ci[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}Ci=null}return t}function dp(t,r){do{var o=ot;try{if(cc(),ul.current=dl,cl){for(var u=Xe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}cl=!1}if(ki=0,_t=ht=Xe=null,zo=!1,jo=0,Bc.current=null,o===null||o.return===null){ft=1,Ho=r,ot=null;break}e:{var p=t,_=o.return,T=o,R=r;if(r=At,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var U=R,H=T,G=H.tag;if(!(H.mode&1)&&(G===0||G===11||G===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var Z=Ud(_);if(Z!==null){Z.flags&=-257,zd(Z,_,T,p,r),Z.mode&1&&Fd(p,U,r),r=Z,R=U;var re=r.updateQueue;if(re===null){var ie=new Set;ie.add(R),r.updateQueue=ie}else re.add(R);break e}else{if(!(r&1)){Fd(p,U,r),Yc();break e}R=Error(n(426))}}else if(Qe&&T.mode&1){var rt=Ud(_);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),zd(rt,_,T,p,r),lc(ks(R,T));break e}}p=R=ks(R,T),ft!==4&&(ft=2),Wo===null?Wo=[p]:Wo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=Ld(p,R,r);ld(p,M);break e;case 1:T=R;var P=p.type,F=p.stateNode;if(!(p.flags&128)&&(typeof P.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(jr===null||!jr.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var K=Md(p,T,r);ld(p,K);break e}}p=p.return}while(p!==null)}gp(o)}catch(se){r=se,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function pp(){var t=vl.current;return vl.current=dl,t===null?dl:t}function Yc(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||!(Vi&268435455)&&!(El&268435455)||$r(vt,At)}function Rl(t,r){var o=De;De|=2;var u=pp();(vt!==t||At!==r)&&(pr=null,Di(t,r));do try{o_();break}catch(h){dp(t,h)}while(!0);if(cc(),De=o,vl.current=u,ot!==null)throw Error(n(261));return vt=null,At=0,ft}function o_(){for(;ot!==null;)mp(ot)}function a_(){for(;ot!==null&&!Ia();)mp(ot)}function mp(t){var r=vp(t.alternate,t,on);t.memoizedProps=t.pendingProps,r===null?gp(t):ot=r,Bc.current=null}function gp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=e_(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(o=Zy(o,r,on),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);ft===0&&(ft=5)}function Ni(t,r,o){var u=Ae,h=gn.transition;try{gn.transition=null,Ae=1,l_(t,r,o,u)}finally{gn.transition=h,Ae=u}return null}function l_(t,r,o,u){do Ns();while(br!==null);if(De&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(je(t,p),t===vt&&(ot=vt=null,At=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Tl||(Tl=!0,Ep(un,function(){return Ns(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=gn.transition,gn.transition=null;var _=Ae;Ae=1;var T=De;De|=4,Bc.current=null,n_(t,o),op(o,t),Py(Yu),Vr=!!Xu,Yu=Xu=null,t.current=o,r_(o),Ou(),De=T,Ae=_,gn.transition=p}else t.current=o;if(Tl&&(Tl=!1,br=t,Il=h),p=t.pendingLanes,p===0&&(jr=null),Ra(o.stateNode),Qt(t,Be()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(wl)throw wl=!1,t=Hc,Hc=null,t;return Il&1&&t.tag!==0&&Ns(),p=t.pendingLanes,p&1?t===Wc?Go++:(Go=0,Wc=t):Go=0,Mr(),null}function Ns(){if(br!==null){var t=Pr(Il),r=gn.transition,o=Ae;try{if(gn.transition=null,Ae=16>t?16:t,br===null)var u=!1;else{if(t=br,br=null,Il=0,De&6)throw Error(n(331));var h=De;for(De|=4,ne=t.current;ne!==null;){var p=ne,_=p.child;if(ne.flags&16){var T=p.deletions;if(T!==null){for(var R=0;R<T.length;R++){var U=T[R];for(ne=U;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:qo(8,H,p)}var G=H.child;if(G!==null)G.return=H,ne=G;else for(;ne!==null;){H=ne;var q=H.sibling,Z=H.return;if(tp(H),H===U){ne=null;break}if(q!==null){q.return=Z,ne=q;break}ne=Z}}}var re=p.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var rt=ie.sibling;ie.sibling=null,ie=rt}while(ie!==null)}}ne=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,ne=_;else e:for(;ne!==null;){if(p=ne,p.flags&2048)switch(p.tag){case 0:case 11:case 15:qo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,ne=M;break e}ne=p.return}}var P=t.current;for(ne=P;ne!==null;){_=ne;var F=_.child;if(_.subtreeFlags&2064&&F!==null)F.return=_,ne=F;else e:for(_=P;ne!==null;){if(T=ne,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:_l(9,T)}}catch(se){Je(T,T.return,se)}if(T===_){ne=null;break e}var K=T.sibling;if(K!==null){K.return=T.return,ne=K;break e}ne=T.return}}if(De=h,Mr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(gi,t)}catch{}u=!0}return u}finally{Ae=o,gn.transition=r}}return!1}function yp(t,r,o){r=ks(o,r),r=Ld(t,r,1),t=Ur(t,r,1),r=bt(),t!==null&&(Rr(t,1,r),Qt(t,r))}function Je(t,r,o){if(t.tag===3)yp(t,t,o);else for(;r!==null;){if(r.tag===3){yp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(jr===null||!jr.has(u))){t=ks(o,t),t=Md(r,t,1),r=Ur(r,t,1),t=bt(),r!==null&&(Rr(r,1,t),Qt(r,t));break}}r=r.return}}function u_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=bt(),t.pingedLanes|=t.suspendedLanes&o,vt===t&&(At&o)===o&&(ft===4||ft===3&&(At&130023424)===At&&500>Be()-qc?Di(t,0):$c|=o),Qt(t,r)}function _p(t,r){r===0&&(t.mode&1?(r=ns,ns<<=1,!(ns&130023424)&&(ns=4194304)):r=1);var o=bt();t=hr(t,r),t!==null&&(Rr(t,r,o),Qt(t,o))}function c_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),_p(t,o)}function h_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),_p(t,o)}var vp;vp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||qt.current)Wt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Wt=!1,Jy(t,r,o);Wt=!!(t.flags&131072)}else Wt=!1,Qe&&r.flags&1048576&&Jf(r,tl,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;gl(t,r),t=r.pendingProps;var h=ws(r,xt.current);Cs(r,o),h=wc(null,r,u,t,h,o);var p=Tc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(u)?(p=!0,Ja(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,pc(r),h.updater=pl,r.stateNode=h,h._reactInternals=r,Pc(r,u,t,o),r=Dc(null,r,u,!0,p,o)):(r.tag=0,Qe&&p&&ic(r),jt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(gl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=d_(u),t=kn(u,t),h){case 0:r=xc(null,r,u,t,o);break e;case 1:r=Hd(null,r,u,t,o);break e;case 11:r=jd(null,r,u,t,o);break e;case 14:r=bd(null,r,u,kn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),xc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),Hd(t,r,u,h,o);case 3:e:{if(Wd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,ad(t,r),al(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=ks(Error(n(423)),r),r=Gd(t,r,u,o,h);break e}else if(u!==h){h=ks(Error(n(424)),r),r=Gd(t,r,u,o,h);break e}else for(sn=Nr(r.stateNode.containerInfo.firstChild),rn=r,Qe=!0,Pn=null,o=sd(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ss(),u===h){r=dr(t,r,o);break e}jt(t,r,u,o)}r=r.child}return r;case 5:return cd(r),t===null&&ac(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,Ju(u,h)?_=null:p!==null&&Ju(u,p)&&(r.flags|=32),qd(t,r),jt(t,r,_,o),r.child;case 6:return t===null&&ac(r),null;case 13:return Qd(t,r,o);case 4:return mc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=As(r,null,u,o):jt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),jd(t,r,u,h,o);case 7:return jt(t,r,r.pendingProps,o),r.child;case 8:return jt(t,r,r.pendingProps.children,o),r.child;case 12:return jt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,$e(il,u._currentValue),u._currentValue=_,p!==null)if(Cn(p.value,_)){if(p.children===h.children&&!qt.current){r=dr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var T=p.dependencies;if(T!==null){_=p.child;for(var R=T.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=fr(-1,o&-o),R.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var H=U.pending;H===null?R.next=R:(R.next=H.next,H.next=R),U.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),fc(p.return,o,r),T.lanes|=o;break}R=R.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,T=_.alternate,T!==null&&(T.lanes|=o),fc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}jt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Cs(r,o),h=pn(h),u=u(h),r.flags|=1,jt(t,r,u,o),r.child;case 14:return u=r.type,h=kn(u,r.pendingProps),h=kn(u.type,h),bd(t,r,u,h,o);case 15:return Bd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),gl(t,r),r.tag=1,Ht(u)?(t=!0,Ja(r)):t=!1,Cs(r,o),Nd(r,u,h),Pc(r,u,h,o),Dc(null,r,u,!0,t,o);case 19:return Xd(t,r,o);case 22:return $d(t,r,o)}throw Error(n(156,r.tag))};function Ep(t,r){return es(t,r)}function f_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,r,o,u){return new f_(t,r,o,u)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d_(t){if(typeof t=="function")return Jc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===kt)return 14}return 2}function qr(t,r){var o=t.alternate;return o===null?(o=yn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Cl(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")Jc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case V:return Oi(o.children,h,p,r);case I:_=8,h|=8;break;case A:return t=yn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=yn(13,o,r,h),t.elementType=S,t.lanes=p,t;case tt:return t=yn(19,o,r,h),t.elementType=tt,t.lanes=p,t;case ze:return Pl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case x:_=9;break e;case O:_=11;break e;case kt:_=14;break e;case Vt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=yn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Oi(t,r,o,u){return t=yn(7,t,u,r),t.lanes=o,t}function Pl(t,r,o,u){return t=yn(22,t,u,r),t.elementType=ze,t.lanes=o,t.stateNode={isHidden:!1},t}function Zc(t,r,o){return t=yn(6,t,null,r),t.lanes=o,t}function eh(t,r,o){return r=yn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function p_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ar(0),this.expirationTimes=Ar(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function th(t,r,o,u,h,p,_,T,R){return t=new p_(t,r,o,T,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=yn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(p),t}function m_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xe,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function wp(t){if(!t)return Lr;t=t._reactInternals;e:{if(En(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Ht(o))return Kf(t,o,r)}return r}function Tp(t,r,o,u,h,p,_,T,R){return t=th(o,u,!0,t,h,p,_,T,R),t.context=wp(null),o=t.current,u=bt(),h=Br(o),p=fr(u,h),p.callback=r??null,Ur(o,p,h),t.current.lanes=h,Rr(t,h,u),Qt(t,u),t}function kl(t,r,o,u){var h=r.current,p=bt(),_=Br(h);return o=wp(o),r.context===null?r.context=o:r.pendingContext=o,r=fr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Ur(h,r,_),t!==null&&(Dn(t,h,_,p),ol(t,h,_)),_}function Vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ip(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function nh(t,r){Ip(t,r),(t=t.alternate)&&Ip(t,r)}var Sp=typeof reportError=="function"?reportError:function(t){console.error(t)};function rh(t){this._internalRoot=t}xl.prototype.render=rh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));kl(t,r,null,null)},xl.prototype.unmount=rh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;xi(function(){kl(null,t,null,null)}),r[ar]=null}};function xl(t){this._internalRoot=t}xl.prototype.unstable_scheduleHydration=function(t){if(t){var r=xa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Mn.length&&r!==0&&r<Mn[o].priority;o++);Mn.splice(o,0,t),o===0&&Oa(t)}};function ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ap(){}function g_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=Vl(_);p.call(U)}}var _=Tp(r,u,t,0,null,!1,!1,"",Ap);return t._reactRootContainer=_,t[ar]=_.current,xo(t.nodeType===8?t.parentNode:t),xi(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var U=Vl(R);T.call(U)}}var R=th(t,0,!1,null,null,!1,!1,"",Ap);return t._reactRootContainer=R,t[ar]=R.current,xo(t.nodeType===8?t.parentNode:t),xi(function(){kl(r,R,o,u)}),R}function Nl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var T=h;h=function(){var R=Vl(_);T.call(R)}}kl(r,_,t,h)}else _=g_(o,r,t,h,u);return Vl(_)}ka=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Sr(r.pendingLanes);o!==0&&(Cr(r,o|1),Qt(r,Be()),!(De&6)&&(Ds=Be()+500,Mr()))}break;case 13:xi(function(){var u=hr(t,1);if(u!==null){var h=bt();Dn(u,t,1,h)}}),nh(t,1)}},rs=function(t){if(t.tag===13){var r=hr(t,134217728);if(r!==null){var o=bt();Dn(r,t,134217728,o)}nh(t,134217728)}},Va=function(t){if(t.tag===13){var r=Br(t),o=hr(t,r);if(o!==null){var u=bt();Dn(o,t,r,u)}nh(t,r)}},xa=function(){return Ae},Da=function(t,r){var o=Ae;try{return Ae=t,r()}finally{Ae=o}},Qi=function(t,r,o){switch(r){case"input":if(to(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Xa(u);if(!h)throw Error(n(90));Bi(u),to(u,h)}}}break;case"textarea":Wi(t,o);break;case"select":r=o.value,r!=null&&Zn(t,!!o.multiple,r,!1)}},hi=Kc,ho=xi;var y_={usingClientEntryPoint:!1,Events:[Oo,vs,Xa,On,co,Kc]},Qo={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},__={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mo(t),t===null?null:t.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{gi=Ol.inject(__),Zt=Ol}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y_,Kt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ih(r))throw Error(n(200));return m_(t,r,null,o)},Kt.createRoot=function(t,r){if(!ih(t))throw Error(n(299));var o=!1,u="",h=Sp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=th(t,1,!1,null,null,o,!1,u,h),t[ar]=r.current,xo(t.nodeType===8?t.parentNode:t),new rh(r)},Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=mo(r),t=t===null?null:t.stateNode,t},Kt.flushSync=function(t){return xi(t)},Kt.hydrate=function(t,r,o){if(!Dl(r))throw Error(n(200));return Nl(null,t,r,!0,o)},Kt.hydrateRoot=function(t,r,o){if(!ih(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=Sp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Tp(r,null,t,1,o??null,h,!1,p,_),t[ar]=r.current,xo(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new xl(r)},Kt.render=function(t,r,o){if(!Dl(r))throw Error(n(200));return Nl(null,t,r,!1,o)},Kt.unmountComponentAtNode=function(t){if(!Dl(t))throw Error(n(40));return t._reactRootContainer?(xi(function(){Nl(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1},Kt.unstable_batchedUpdates=Kc,Kt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Dl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Nl(t,r,o,!1,u)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var Np;function C_(){if(Np)return ah.exports;Np=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ah.exports=R_(),ah.exports}var Op;function P_(){if(Op)return Ll;Op=1;var i=C_();return Ll.createRoot=i.createRoot,Ll.hydrateRoot=i.hydrateRoot,Ll}var k_=P_(),Lp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},V_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Om={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,w=c>>2,C=(c&3)<<4|m>>4;let D=(m&15)<<2|v>>6,j=v&63;y||(j=64,f||(D=64)),s.push(n[w],n[C],n[D],n[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Nm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):V_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const C=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||C==null)throw new x_;const D=c<<2|m>>4;if(s.push(D),v!==64){const j=m<<4&240|v>>2;if(s.push(j),C!==64){const Q=v<<6&192|C;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class x_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D_=function(i){const e=Nm(i);return Om.encodeByteArray(e,!0)},Yl=function(i){return D_(i).replace(/\./g,"")},N_=function(i){try{return Om.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=()=>O_().__FIREBASE_DEFAULTS__,M_=()=>{if(typeof process>"u"||typeof Lp>"u")return;const i=Lp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},F_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&N_(i[1]);return e&&JSON.parse(e)},$h=()=>{try{return L_()||M_()||F_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},U_=i=>{var e,n;return(n=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},z_=i=>{const e=U_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Lm=()=>{var i;return(i=$h())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Yl(JSON.stringify(n)),Yl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $_(){var i;const e=(i=$h())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q_(){return!$_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H_(){try{return typeof indexedDB=="object"}catch{return!1}}function W_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="FirebaseError";class Ks extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=G_,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mm.prototype.create)}}class Mm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?Q_(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new Ks(a,m,s)}}function Q_(i,e){return i.replace(K_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const K_=/\{\$([^}]+)}/g;function Jl(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Mp(c)&&Mp(f)){if(!Jl(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Mp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(i){return i&&i._delegate?i._delegate:i}class aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new j_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J_(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Y_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y_(i){return i===Li?void 0:i}function J_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const ev={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},tv=Ve.INFO,nv={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},rv=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=nv[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=tv,this._logHandler=rv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ev[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const iv=(i,e)=>e.some(n=>i instanceof n);let Fp,Up;function sv(){return Fp||(Fp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ov(){return Up||(Up=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Um=new WeakMap,_h=new WeakMap,zm=new WeakMap,ch=new WeakMap,qh=new WeakMap;function av(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Qr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Um.set(n,i)}).catch(()=>{}),qh.set(e,i),e}function lv(i){if(_h.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});_h.set(i,e)}let vh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return _h.get(i);if(e==="objectStoreNames")return i.objectStoreNames||zm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function uv(i){vh=i(vh)}function cv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(hh(this),e,...n);return zm.set(s,e.sort?e.sort():[e]),Qr(s)}:ov().includes(i)?function(...e){return i.apply(hh(this),e),Qr(Um.get(this))}:function(...e){return Qr(i.apply(hh(this),e))}}function hv(i){return typeof i=="function"?cv(i):(i instanceof IDBTransaction&&lv(i),iv(i,sv())?new Proxy(i,vh):i)}function Qr(i){if(i instanceof IDBRequest)return av(i);if(ch.has(i))return ch.get(i);const e=hv(i);return e!==i&&(ch.set(i,e),qh.set(e,i)),e}const hh=i=>qh.get(i);function fv(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=Qr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Qr(f.result),y.oldVersion,y.newVersion,Qr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const dv=["get","getKey","getAll","getAllKeys","count"],pv=["put","add","delete","clear"],fh=new Map;function zp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(fh.get(e))return fh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=pv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||dv.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&y.done]))[0]};return fh.set(e,c),c}uv(i=>({...i,get:(e,n,s)=>zp(e,n)||i.get(e,n,s),has:(e,n)=>!!zp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function gv(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eh="@firebase/app",jp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new Fm("@firebase/app"),yv="@firebase/app-compat",_v="@firebase/analytics-compat",vv="@firebase/analytics",Ev="@firebase/app-check-compat",wv="@firebase/app-check",Tv="@firebase/auth",Iv="@firebase/auth-compat",Sv="@firebase/database",Av="@firebase/data-connect",Rv="@firebase/database-compat",Cv="@firebase/functions",Pv="@firebase/functions-compat",kv="@firebase/installations",Vv="@firebase/installations-compat",xv="@firebase/messaging",Dv="@firebase/messaging-compat",Nv="@firebase/performance",Ov="@firebase/performance-compat",Lv="@firebase/remote-config",Mv="@firebase/remote-config-compat",Fv="@firebase/storage",Uv="@firebase/storage-compat",zv="@firebase/firestore",jv="@firebase/vertexai",bv="@firebase/firestore-compat",Bv="firebase",$v="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="[DEFAULT]",qv={[Eh]:"fire-core",[yv]:"fire-core-compat",[vv]:"fire-analytics",[_v]:"fire-analytics-compat",[wv]:"fire-app-check",[Ev]:"fire-app-check-compat",[Tv]:"fire-auth",[Iv]:"fire-auth-compat",[Sv]:"fire-rtdb",[Av]:"fire-data-connect",[Rv]:"fire-rtdb-compat",[Cv]:"fire-fn",[Pv]:"fire-fn-compat",[kv]:"fire-iid",[Vv]:"fire-iid-compat",[xv]:"fire-fcm",[Dv]:"fire-fcm-compat",[Nv]:"fire-perf",[Ov]:"fire-perf-compat",[Lv]:"fire-rc",[Mv]:"fire-rc-compat",[Fv]:"fire-gcs",[Uv]:"fire-gcs-compat",[zv]:"fire-fst",[bv]:"fire-fst-compat",[jv]:"fire-vertex","fire-js":"fire-js",[Bv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Map,Hv=new Map,Th=new Map;function bp(i,e){try{i.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function eu(i){const e=i.name;if(Th.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Th.set(e,i);for(const n of Zl.values())bp(n,i);for(const n of Hv.values())bp(n,i);return!0}function Wv(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Mm("app","Firebase",Gv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=$v;function jm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=Lm()),!n)throw Kr.create("no-options");const c=Zl.get(a);if(c){if(Jl(n,c.options)&&Jl(s,c.config))return c;throw Kr.create("duplicate-app",{appName:a})}const f=new Z_(a);for(const y of Th.values())f.addComponent(y);const m=new Qv(n,s,f);return Zl.set(a,m),m}function Xv(i=wh){const e=Zl.get(i);if(!e&&i===wh&&Lm())return jm();if(!e)throw Kr.create("no-app",{appName:i});return e}function Us(i,e,n){var s;let a=(s=qv[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(m.join(" "));return}eu(new aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="firebase-heartbeat-database",Jv=1,la="firebase-heartbeat-store";let dh=null;function bm(){return dh||(dh=fv(Yv,Jv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(la)}catch(n){console.warn(n)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),dh}async function Zv(i){try{const n=(await bm()).transaction(la),s=await n.objectStore(la).get(Bm(i));return await n.done,s}catch(e){if(e instanceof Ks)yr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function Bp(i,e){try{const s=(await bm()).transaction(la,"readwrite");await s.objectStore(la).put(e,Bm(i)),await s.done}catch(n){if(n instanceof Ks)yr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(s.message)}}}function Bm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=1024,tE=30*24*60*60*1e3;class nE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=$p();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=tE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){yr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$p(),{heartbeatsToSend:s,unsentEntries:a}=rE(this._heartbeatsCache.heartbeats),c=Yl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return yr.warn(n),""}}}function $p(){return new Date().toISOString().substring(0,10)}function rE(i,e=eE){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),qp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),qp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H_()?W_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Bp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Bp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function qp(i){return Yl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(i){eu(new aa("platform-logger",e=>new mv(e),"PRIVATE")),eu(new aa("heartbeat",e=>new nE(e),"PRIVATE")),Us(Eh,jp,i),Us(Eh,jp,"esm2017"),Us("fire-js","")}sE("");var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xr,$m;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function A(){}A.prototype=I.prototype,V.D=I.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(k,x,O){for(var S=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)S[tt-2]=arguments[tt];return I.prototype[x].apply(k,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,I,A){A||(A=0);var k=Array(16);if(typeof I=="string")for(var x=0;16>x;++x)k[x]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(x=0;16>x;++x)k[x]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=V.g[0],A=V.g[1],x=V.g[2];var O=V.g[3],S=I+(O^A&(x^O))+k[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=O+(x^I&(A^x))+k[1]+3905402710&4294967295,O=I+(S<<12&4294967295|S>>>20),S=x+(A^O&(I^A))+k[2]+606105819&4294967295,x=O+(S<<17&4294967295|S>>>15),S=A+(I^x&(O^I))+k[3]+3250441966&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(O^A&(x^O))+k[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=O+(x^I&(A^x))+k[5]+1200080426&4294967295,O=I+(S<<12&4294967295|S>>>20),S=x+(A^O&(I^A))+k[6]+2821735955&4294967295,x=O+(S<<17&4294967295|S>>>15),S=A+(I^x&(O^I))+k[7]+4249261313&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(O^A&(x^O))+k[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=O+(x^I&(A^x))+k[9]+2336552879&4294967295,O=I+(S<<12&4294967295|S>>>20),S=x+(A^O&(I^A))+k[10]+4294925233&4294967295,x=O+(S<<17&4294967295|S>>>15),S=A+(I^x&(O^I))+k[11]+2304563134&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(O^A&(x^O))+k[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=O+(x^I&(A^x))+k[13]+4254626195&4294967295,O=I+(S<<12&4294967295|S>>>20),S=x+(A^O&(I^A))+k[14]+2792965006&4294967295,x=O+(S<<17&4294967295|S>>>15),S=A+(I^x&(O^I))+k[15]+1236535329&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(x^O&(A^x))+k[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=O+(A^x&(I^A))+k[6]+3225465664&4294967295,O=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(O^I))+k[11]+643717713&4294967295,x=O+(S<<14&4294967295|S>>>18),S=A+(O^I&(x^O))+k[0]+3921069994&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(x^O&(A^x))+k[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=O+(A^x&(I^A))+k[10]+38016083&4294967295,O=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(O^I))+k[15]+3634488961&4294967295,x=O+(S<<14&4294967295|S>>>18),S=A+(O^I&(x^O))+k[4]+3889429448&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(x^O&(A^x))+k[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=O+(A^x&(I^A))+k[14]+3275163606&4294967295,O=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(O^I))+k[3]+4107603335&4294967295,x=O+(S<<14&4294967295|S>>>18),S=A+(O^I&(x^O))+k[8]+1163531501&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(x^O&(A^x))+k[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=O+(A^x&(I^A))+k[2]+4243563512&4294967295,O=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(O^I))+k[7]+1735328473&4294967295,x=O+(S<<14&4294967295|S>>>18),S=A+(O^I&(x^O))+k[12]+2368359562&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(A^x^O)+k[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=O+(I^A^x)+k[8]+2272392833&4294967295,O=I+(S<<11&4294967295|S>>>21),S=x+(O^I^A)+k[11]+1839030562&4294967295,x=O+(S<<16&4294967295|S>>>16),S=A+(x^O^I)+k[14]+4259657740&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(A^x^O)+k[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=O+(I^A^x)+k[4]+1272893353&4294967295,O=I+(S<<11&4294967295|S>>>21),S=x+(O^I^A)+k[7]+4139469664&4294967295,x=O+(S<<16&4294967295|S>>>16),S=A+(x^O^I)+k[10]+3200236656&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(A^x^O)+k[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=O+(I^A^x)+k[0]+3936430074&4294967295,O=I+(S<<11&4294967295|S>>>21),S=x+(O^I^A)+k[3]+3572445317&4294967295,x=O+(S<<16&4294967295|S>>>16),S=A+(x^O^I)+k[6]+76029189&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(A^x^O)+k[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=O+(I^A^x)+k[12]+3873151461&4294967295,O=I+(S<<11&4294967295|S>>>21),S=x+(O^I^A)+k[15]+530742520&4294967295,x=O+(S<<16&4294967295|S>>>16),S=A+(x^O^I)+k[2]+3299628645&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(x^(A|~O))+k[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=O+(A^(I|~x))+k[7]+1126891415&4294967295,O=I+(S<<10&4294967295|S>>>22),S=x+(I^(O|~A))+k[14]+2878612391&4294967295,x=O+(S<<15&4294967295|S>>>17),S=A+(O^(x|~I))+k[5]+4237533241&4294967295,A=x+(S<<21&4294967295|S>>>11),S=I+(x^(A|~O))+k[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=O+(A^(I|~x))+k[3]+2399980690&4294967295,O=I+(S<<10&4294967295|S>>>22),S=x+(I^(O|~A))+k[10]+4293915773&4294967295,x=O+(S<<15&4294967295|S>>>17),S=A+(O^(x|~I))+k[1]+2240044497&4294967295,A=x+(S<<21&4294967295|S>>>11),S=I+(x^(A|~O))+k[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=O+(A^(I|~x))+k[15]+4264355552&4294967295,O=I+(S<<10&4294967295|S>>>22),S=x+(I^(O|~A))+k[6]+2734768916&4294967295,x=O+(S<<15&4294967295|S>>>17),S=A+(O^(x|~I))+k[13]+1309151649&4294967295,A=x+(S<<21&4294967295|S>>>11),S=I+(x^(A|~O))+k[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=O+(A^(I|~x))+k[11]+3174756917&4294967295,O=I+(S<<10&4294967295|S>>>22),S=x+(I^(O|~A))+k[2]+718787259&4294967295,x=O+(S<<15&4294967295|S>>>17),S=A+(O^(x|~I))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+x&4294967295,V.g[3]=V.g[3]+O&4294967295}s.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var A=I-this.blockSize,k=this.B,x=this.h,O=0;O<I;){if(x==0)for(;O<=A;)a(this,V,O),O+=this.blockSize;if(typeof V=="string"){for(;O<I;)if(k[x++]=V.charCodeAt(O++),x==this.blockSize){a(this,k),x=0;break}}else for(;O<I;)if(k[x++]=V[O++],x==this.blockSize){a(this,k),x=0;break}}this.h=x,this.o+=I},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var A=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=A&255,A/=256;for(this.u(V),V=Array(16),I=A=0;4>I;++I)for(var k=0;32>k;k+=8)V[A++]=this.g[I]>>>k&255;return V};function c(V,I){var A=m;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=I(V)}function f(V,I){this.h=I;for(var A=[],k=!0,x=V.length-1;0<=x;x--){var O=V[x]|0;k&&O==I||(A[x]=O,k=!1)}this.g=A}var m={};function y(V){return-128<=V&&128>V?c(V,function(I){return new f([I|0],0>I?-1:0)}):new f([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return C;if(0>V)return $(v(-V));for(var I=[],A=1,k=0;V>=A;k++)I[k]=V/A|0,A*=4294967296;return new f(I,0)}function w(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return $(w(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(I,8)),k=C,x=0;x<V.length;x+=8){var O=Math.min(8,V.length-x),S=parseInt(V.substring(x,x+O),I);8>O?(O=v(Math.pow(I,O)),k=k.j(O).add(v(S))):(k=k.j(A),k=k.add(v(S)))}return k}var C=y(0),D=y(1),j=y(16777216);i=f.prototype,i.m=function(){if(X(this))return-$(this).m();for(var V=0,I=1,A=0;A<this.g.length;A++){var k=this.i(A);V+=(0<=k?k:4294967296+k)*I,I*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Q(this))return"0";if(X(this))return"-"+$(this).toString(V);for(var I=v(Math.pow(V,6)),A=this,k="";;){var x=Se(A,I).g;A=pe(A,x.j(I));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=x,Q(A))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Q(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function X(V){return V.h==-1}i.l=function(V){return V=pe(this,V),X(V)?-1:Q(V)?0:1};function $(V){for(var I=V.g.length,A=[],k=0;k<I;k++)A[k]=~V.g[k];return new f(A,~V.h).add(D)}i.abs=function(){return X(this)?$(this):this},i.add=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0,x=0;x<=I;x++){var O=k+(this.i(x)&65535)+(V.i(x)&65535),S=(O>>>16)+(this.i(x)>>>16)+(V.i(x)>>>16);k=S>>>16,O&=65535,S&=65535,A[x]=S<<16|O}return new f(A,A[A.length-1]&-2147483648?-1:0)};function pe(V,I){return V.add($(I))}i.j=function(V){if(Q(this)||Q(V))return C;if(X(this))return X(V)?$(this).j($(V)):$($(this).j(V));if(X(V))return $(this.j($(V)));if(0>this.l(j)&&0>V.l(j))return v(this.m()*V.m());for(var I=this.g.length+V.g.length,A=[],k=0;k<2*I;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var x=0;x<V.g.length;x++){var O=this.i(k)>>>16,S=this.i(k)&65535,tt=V.i(x)>>>16,kt=V.i(x)&65535;A[2*k+2*x]+=S*kt,ge(A,2*k+2*x),A[2*k+2*x+1]+=O*kt,ge(A,2*k+2*x+1),A[2*k+2*x+1]+=S*tt,ge(A,2*k+2*x+1),A[2*k+2*x+2]+=O*tt,ge(A,2*k+2*x+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new f(A,0)};function ge(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function ve(V,I){this.g=V,this.h=I}function Se(V,I){if(Q(I))throw Error("division by zero");if(Q(V))return new ve(C,C);if(X(V))return I=Se($(V),I),new ve($(I.g),$(I.h));if(X(I))return I=Se(V,$(I)),new ve($(I.g),I.h);if(30<V.g.length){if(X(V)||X(I))throw Error("slowDivide_ only works with positive integers.");for(var A=D,k=I;0>=k.l(V);)A=et(A),k=et(k);var x=xe(A,1),O=xe(k,1);for(k=xe(k,2),A=xe(A,2);!Q(k);){var S=O.add(k);0>=S.l(V)&&(x=x.add(A),O=S),k=xe(k,1),A=xe(A,1)}return I=pe(V,x.j(I)),new ve(x,I)}for(x=C;0<=V.l(I);){for(A=Math.max(1,Math.floor(V.m()/I.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=v(A),S=O.j(I);X(S)||0<S.l(V);)A-=k,O=v(A),S=O.j(I);Q(O)&&(O=D),x=x.add(O),V=pe(V,S)}return new ve(x,V)}i.A=function(V){return Se(this,V).h},i.and=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)&V.i(k);return new f(A,this.h&V.h)},i.or=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)|V.i(k);return new f(A,this.h|V.h)},i.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)^V.i(k);return new f(A,this.h^V.h)};function et(V){for(var I=V.g.length+1,A=[],k=0;k<I;k++)A[k]=V.i(k)<<1|V.i(k-1)>>>31;return new f(A,V.h)}function xe(V,I){var A=I>>5;I%=32;for(var k=V.g.length-A,x=[],O=0;O<k;O++)x[O]=0<I?V.i(O+A)>>>I|V.i(O+A+1)<<32-I:V.i(O+A);return new f(x,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$m=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=w,Xr=f}).apply(typeof Hp<"u"?Hp:typeof self<"u"?self:typeof window<"u"?window:{});var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qm,Xo,Hm,$l,Ih,Wm,Gm,Qm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ml=="object"&&Ml];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in g))break e;g=g[L]}l=l[l.length-1],E=g[l],d=d(E),d!=E&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,E=!1,L={next:function(){if(!E&&g<l.length){var z=g++;return{value:d(z,l[z]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,g){return l.call.apply(l.bind,arguments)}function C(l,d,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(d,L)}}return function(){return l.apply(d,arguments)}}function D(l,d,g){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:C,D.apply(null,arguments)}function j(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function Q(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,L,z){for(var Y=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Y[Ue-2]=arguments[Ue];return d.prototype[L].apply(E,Y)}}function X(l){const d=l.length;if(0<d){const g=Array(d);for(let E=0;E<d;E++)g[E]=l[E];return g}return[]}function $(l,d){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const L=l.length||0,z=E.length||0;l.length=L+z;for(let Y=0;Y<z;Y++)l[L+Y]=E[Y]}else l.push(E)}}class pe{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ge(l){return/^[\s\xa0]*$/.test(l)}function ve(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Se(l){return Se[" "](l),l}Se[" "]=function(){};var et=ve().indexOf("Gecko")!=-1&&!(ve().toLowerCase().indexOf("webkit")!=-1&&ve().indexOf("Edge")==-1)&&!(ve().indexOf("Trident")!=-1||ve().indexOf("MSIE")!=-1)&&ve().indexOf("Edge")==-1;function xe(l,d,g){for(const E in l)d.call(g,l[E],E,l)}function V(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function I(l){const d={};for(const g in l)d[g]=l[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let g,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(g in E)l[g]=E[g];for(let z=0;z<A.length;z++)g=A[z],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function x(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function O(l){m.setTimeout(()=>{throw l},0)}function S(){var l=le;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class tt{constructor(){this.h=this.g=null}add(d,g){const E=kt.get();E.set(d,g),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new pe(()=>new Vt,l=>l.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,J=!1,le=new tt,ee=()=>{const l=m.Promise.resolve(void 0);ze=()=>{l.then(N)}};var N=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){O(g)}var d=kt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}J=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function we(l,d){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(et){e:{try{Se(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ce[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&we.aa.h.call(this)}}Q(we,oe);var Ce={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function be(l,d,g,E,L){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!E,this.ha=L,this.key=++Le,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Yn(l){this.src=l,this.g={},this.h=0}Yn.prototype.add=function(l,d,g,E,L){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var Y=wr(l,d,E,L);return-1<Y?(d=l[Y],g||(d.fa=!1)):(d=new be(d,this.src,z,!!E,L),d.fa=g,l.push(d)),d};function Bi(l,d){var g=d.type;if(g in l.g){var E=l.g[g],L=Array.prototype.indexOf.call(E,d,void 0),z;(z=0<=L)&&Array.prototype.splice.call(E,L,1),z&&(gt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function wr(l,d,g,E){for(var L=0;L<l.length;++L){var z=l[L];if(!z.da&&z.listener==d&&z.capture==!!g&&z.ha==E)return L}return-1}var ai="closure_lm_"+(1e6*Math.random()|0),$i={};function eo(l,d,g,E,L){if(Array.isArray(d)){for(var z=0;z<d.length;z++)eo(l,d[z],g,E,L);return null}return g=ro(g),l&&l[Oe]?l.K(d,g,v(E)?!!E.capture:!1,L):to(l,d,g,!1,E,L)}function to(l,d,g,E,L,z){if(!d)throw Error("Invalid event type");var Y=v(L)?!!L.capture:!!L,Ue=Hi(l);if(Ue||(l[ai]=Ue=new Yn(l)),g=Ue.add(d,g,E,Y,z),g.proxy)return g;if(E=Ea(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)Ee||(L=Y),L===void 0&&(L=!1),l.addEventListener(d.toString(),E,L);else if(l.attachEvent)l.attachEvent(Zn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ea(){function l(g){return d.call(l.src,l.listener,g)}const d=no;return l}function qi(l,d,g,E,L){if(Array.isArray(d))for(var z=0;z<d.length;z++)qi(l,d[z],g,E,L);else E=v(E)?!!E.capture:!!E,g=ro(g),l&&l[Oe]?(l=l.i,d=String(d).toString(),d in l.g&&(z=l.g[d],g=wr(z,g,E,L),-1<g&&(gt(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete l.g[d],l.h--)))):l&&(l=Hi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=wr(d,g,E,L)),(g=-1<l?d[l]:null)&&Jn(g))}function Jn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Oe])Bi(d.i,l);else{var g=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(g,E,l.capture):d.detachEvent?d.detachEvent(Zn(g),E):d.addListener&&d.removeListener&&d.removeListener(E),(g=Hi(d))?(Bi(g,l),g.h==0&&(g.src=null,d[ai]=null)):gt(l)}}}function Zn(l){return l in $i?$i[l]:$i[l]="on"+l}function no(l,d){if(l.da)l=!0;else{d=new we(d,this);var g=l.listener,E=l.ha||l.src;l.fa&&Jn(l),l=g.call(E,d)}return l}function Hi(l){return l=l[ai],l instanceof Yn?l:null}var Wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ro(l){return typeof l=="function"?l:(l[Wi]||(l[Wi]=function(d){return l.handleEvent(d)}),l[Wi])}function lt(){B.call(this),this.i=new Yn(this),this.M=this,this.F=null}Q(lt,B),lt.prototype[Oe]=!0,lt.prototype.removeEventListener=function(l,d,g,E){qi(this,l,d,g,E)};function ut(l,d){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new oe(d,l);else if(d instanceof oe)d.target=d.target||l;else{var L=d;d=new oe(E,l),k(d,L)}if(L=!0,g)for(var z=g.length-1;0<=z;z--){var Y=d.g=g[z];L=er(Y,E,!0,d)&&L}if(Y=d.g=l,L=er(Y,E,!0,d)&&L,L=er(Y,E,!1,d)&&L,g)for(z=0;z<g.length;z++)Y=d.g=g[z],L=er(Y,E,!1,d)&&L}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],E=0;E<g.length;E++)gt(g[E]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,g,E){return this.i.add(String(l),d,!1,g,E)},lt.prototype.L=function(l,d,g,E){return this.i.add(String(l),d,!0,g,E)};function er(l,d,g,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,z=0;z<d.length;++z){var Y=d[z];if(Y&&!Y.da&&Y.capture==g){var Ue=Y.listener,ct=Y.ha||Y.src;Y.fa&&Bi(l.i,Y),L=Ue.call(ct,E)!==!1&&L}}return L&&!E.defaultPrevented}function io(l,d,g){if(typeof l=="function")g&&(l=D(l,g));else if(l&&typeof l.handleEvent=="function")l=D(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function Tr(l){l.g=io(()=>{l.g=null,l.i&&(l.i=!1,Tr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class li extends B{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ui(l){B.call(this),this.h=l,this.g={}}Q(ui,B);var so=[];function oo(l){xe(l.g,function(d,g){this.g.hasOwnProperty(g)&&Jn(d)},l),l.g={}}ui.prototype.N=function(){ui.aa.N.call(this),oo(this)},ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ao=m.JSON.stringify,lo=m.JSON.parse,uo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ci(){}ci.prototype.h=null;function Gi(l){return l.h||(l.h=l.i())}function Qi(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){oe.call(this,"d")}Q(Nn,oe);function Ki(){oe.call(this,"c")}Q(Ki,oe);var On={},co=null;function hi(){return co=co||new lt}On.La="serverreachability";function ho(l){oe.call(this,On.La,l)}Q(ho,oe);function tr(l){const d=hi();ut(d,new ho(d))}On.STAT_EVENT="statevent";function fo(l,d){oe.call(this,On.STAT_EVENT,l),this.stat=d}Q(fo,oe);function nt(l){const d=hi();ut(d,new fo(d,l))}On.Ma="timingevent";function Xi(l,d){oe.call(this,On.Ma,l),this.size=d}Q(Xi,oe);function _n(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function fi(){this.g=!0}fi.prototype.xa=function(){this.g=!1};function di(l,d,g,E,L,z){l.info(function(){if(l.g)if(z)for(var Y="",Ue=z.split("&"),ct=0;ct<Ue.length;ct++){var Pe=Ue[ct].split("=");if(1<Pe.length){var yt=Pe[0];Pe=Pe[1];var st=yt.split("_");Y=2<=st.length&&st[1]=="type"?Y+(yt+"="+Pe+"&"):Y+(yt+"=redacted&")}}else Y=null;else Y=z;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+d+`
`+g+`
`+Y})}function Yi(l,d,g,E,L,z,Y){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+d+`
`+g+`
`+z+" "+Y})}function vn(l,d,g,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Nu(l,g)+(E?" "+E:"")})}function po(l,d){l.info(function(){return"TIMEOUT: "+d})}fi.prototype.info=function(){};function Nu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return ao(g)}catch{return d}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},En;function pi(){}Q(pi,ci),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},En=new pi;function wn(l,d,g,E){this.j=l,this.i=d,this.l=g,this.R=E||1,this.U=new ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ta}function Ta(){this.i=null,this.g="",this.h=!1}var mo={},Zi={};function es(l,d,g){l.L=1,l.v=Cr(en(d)),l.m=g,l.P=!0,go(l,null)}function go(l,d){l.F=Date.now(),Be(l),l.A=en(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),kr(g.i,"t",E),l.C=0,g=l.j.J,l.h=new Ta,l.g=ja(l.j,g?d:null,!l.m),0<l.O&&(l.M=new li(D(l.Y,l,l.g),l.O)),d=l.U,g=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(so[0]=L.toString()),L=so);for(var z=0;z<L.length;z++){var Y=eo(g,L[z],E||d.handleEvent,!1,d.h||d);if(!Y)break;d.g[Y.key]=Y}d=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),tr(),di(l.i,l.u,l.A,l.l,l.R,l.m)}wn.prototype.ca=function(l){l=l.target;const d=this.M;d&&$t(l)==3?d.j():this.Y(l)},wn.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var d=this.g.Ba();const hn=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||To(this.g)))){this.J||st!=4||d==7||(d==8||0>=hn?tr(3):tr(2)),mi(this);var g=this.g.Z();this.X=g;t:if(Ia(this)){var E=To(this.g);l="";var L=E.length,z=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),Ir(this);var Y="";break t}this.h.i=new m.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(z&&d==L-1)});E.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,Yi(this.i,this.u,this.A,this.l,this.R,st,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ct=this.g;if((Ue=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(Ue)){var Pe=Ue;break t}}Pe=null}if(g=Pe)vn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yo(this,g);else{this.o=!1,this.s=3,nt(12),un(this),Ir(this);break e}}if(this.P){g=!0;let nn;for(;!this.J&&this.C<Y.length;)if(nn=Ou(this,Y),nn==Zi){st==4&&(this.s=4,nt(14),g=!1),vn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==mo){this.s=4,nt(15),vn(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else vn(this.i,this.l,nn,null),yo(this,nn);if(Ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||Y.length!=0||this.h.h||(this.s=1,nt(16),g=!1),this.o=this.o&&g,!g)vn(this.i,this.l,Y,"[Invalid Chunked Response]"),un(this),Ir(this);else if(0<Y.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),So(yt),yt.M=!0,nt(11))}}else vn(this.i,this.l,Y,null),yo(this,Y);st==4&&un(this),this.o&&!this.J&&(st==4?hs(this.j,this):(this.o=!1,Be(this)))}else os(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),un(this),Ir(this)}}}catch{}finally{}};function Ia(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ou(l,d){var g=l.C,E=d.indexOf(`
`,g);return E==-1?Zi:(g=Number(d.substring(g,E)),isNaN(g)?mo:(E+=1,E+g>d.length?Zi:(d=d.slice(E,E+g),l.C=E+g,d)))}wn.prototype.cancel=function(){this.J=!0,un(this)};function Be(l){l.S=Date.now()+l.I,Sa(l,l.I)}function Sa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_n(D(l.ba,l),d)}function mi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}wn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(po(this.i,this.A),this.L!=2&&(tr(),nt(17)),un(this),this.s=2,Ir(this)):Sa(this,this.S-l)};function Ir(l){l.j.G==0||l.J||hs(l.j,l)}function un(l){mi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,oo(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function yo(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Ut(g.h,l))){if(!l.K&&Ut(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)cs(g),Rn(g);else break e;us(g),nt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=_n(D(g.Za,g),6e3));if(1>=Ra(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else or(g,11)}else if((l.K||g.g==l)&&cs(g),!ge(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let Pe=L[d];if(g.T=Pe[0],Pe=Pe[1],g.G==2)if(Pe[0]=="c"){g.K=Pe[1],g.ia=Pe[2];const yt=Pe[3];yt!=null&&(g.la=yt,g.j.info("VER="+g.la));const st=Pe[4];st!=null&&(g.Aa=st,g.j.info("SVER="+g.Aa));const hn=Pe[5];hn!=null&&typeof hn=="number"&&0<hn&&(E=1.5*hn,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const nn=l.g;if(nn){const Ti=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var z=E.h;z.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(_o(z,z.h),z.h=null))}if(E.D){const ds=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ds&&(E.ya=ds,je(E.I,E.D,ds))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var Y=l;if(E.qa=za(E,E.J?E.ia:null,E.W),Y.K){Ca(E.h,Y);var Ue=Y,ct=E.L;ct&&(Ue.I=ct),Ue.B&&(mi(Ue),Be(Ue)),E.g=Y}else wi(E);0<g.i.length&&Un(g)}else Pe[0]!="stop"&&Pe[0]!="close"||or(g,7);else g.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?or(g,7):It(g):Pe[0]!="noop"&&g.l&&g.l.ta(Pe),g.v=0)}}tr(4)}catch{}}var Aa=class{constructor(l,d){this.g=l,this.map=d}};function gi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ra(l){return l.h?1:l.g?l.g.size:0}function Ut(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function _o(l,d){l.g?l.g.add(d):l.h=d}function Ca(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}gi.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Pa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return X(l.i)}function ts(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,E=0;E<g;E++)d.push(l[E]);return d}d=[],g=0;for(E in l)d[g++]=l[E];return d}function ns(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const E in l)d[g++]=E;return d}}}function Sr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=ns(l),E=ts(l),L=E.length,z=0;z<L;z++)d.call(void 0,E[z],g&&g[z],l)}var yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lu(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),L=null;if(0<=E){var z=l[g].substring(0,E);L=l[g].substring(E+1)}else z=l[g];d(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function nr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof nr){this.h=l.h,_i(this,l.j),this.o=l.o,this.g=l.g,Ar(this,l.s),this.l=l.l;var d=l.i,g=new Ln;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Rr(this,g),this.m=l.m}else l&&(d=String(l).match(yi))?(this.h=!1,_i(this,d[1]||"",!0),this.o=Ae(d[2]||""),this.g=Ae(d[3]||"",!0),Ar(this,d[4]),this.l=Ae(d[5]||"",!0),Rr(this,d[6]||"",!0),this.m=Ae(d[7]||"")):(this.h=!1,this.i=new Ln(null,this.h))}nr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Pr(d,rs,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Pr(d,rs,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Pr(g,g.charAt(0)=="/"?xa:Va,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Pr(g,vo)),l.join("")};function en(l){return new nr(l)}function _i(l,d,g){l.j=g?Ae(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Ar(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Rr(l,d,g){d instanceof Ln?(l.i=d,Mn(l.i,l.h)):(g||(d=Pr(d,Da)),l.i=new Ln(d,l.h))}function je(l,d,g){l.i.set(d,g)}function Cr(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ae(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,ka),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ka(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var rs=/[#\/\?@]/g,Va=/[#\?:]/g,xa=/[#\?]/g,Da=/[#\?@]/g,vo=/#/g;function Ln(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&Lu(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Ln.prototype,i.add=function(l,d){Tt(this),this.i=null,l=cn(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function Tn(l,d){Tt(l),d=cn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function In(l,d){return Tt(l),d=cn(l,d),l.g.has(d)}i.forEach=function(l,d){Tt(this),this.g.forEach(function(g,E){g.forEach(function(L){l.call(d,L,E,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let E=0;E<d.length;E++){const L=l[E];for(let z=0;z<L.length;z++)g.push(d[E])}return g},i.V=function(l){Tt(this);let d=[];if(typeof l=="string")In(this,l)&&(d=d.concat(this.g.get(cn(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return Tt(this),this.i=null,l=cn(this,l),In(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function kr(l,d,g){Tn(l,d),0<g.length&&(l.i=null,l.g.set(cn(l,d),X(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var E=d[g];const z=encodeURIComponent(String(E)),Y=this.V(E);for(E=0;E<Y.length;E++){var L=z;Y[E]!==""&&(L+="="+encodeURIComponent(String(Y[E]))),l.push(L)}}return this.i=l.join("&")};function cn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Mn(l,d){d&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(g,E){var L=E.toLowerCase();E!=L&&(Tn(this,E),kr(this,L,g))},l)),l.j=d}function Mu(l,d){const g=new fi;if(m.Image){const E=new Image;E.onload=j(Bt,g,"TestLoadImage: loaded",!0,d,E),E.onerror=j(Bt,g,"TestLoadImage: error",!1,d,E),E.onabort=j(Bt,g,"TestLoadImage: abort",!1,d,E),E.ontimeout=j(Bt,g,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Na(l,d){const g=new fi,E=new AbortController,L=setTimeout(()=>{E.abort(),Bt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(z=>{clearTimeout(L),z.ok?Bt(g,"TestPingServer: ok",!0,d):Bt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Bt(g,"TestPingServer: error",!1,d)})}function Bt(l,d,g,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(g)}catch{}}function Fu(){this.g=new uo}function Oa(l,d,g){const E=g||"";try{Sr(l,function(L,z){let Y=L;v(L)&&(Y=ao(L)),d.push(E+z+"="+encodeURIComponent(Y))})}catch(L){throw d.push(E+"type="+encodeURIComponent("_badmap")),L}}function rr(l){this.l=l.Ub||null,this.j=l.eb||!1}Q(rr,ci),rr.prototype.g=function(){return new vi(this.l,this.j)},rr.prototype.i=function(l){return function(){return l}}({});function vi(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(vi,lt),i=vi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,An(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;La(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function La(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Sn(this):An(this),this.readyState==3&&La(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,An(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function An(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ir(l){let d="";return xe(l,function(g,E){d+=E,d+=":",d+=g,d+=`\r
`}),d}function Vr(l,d,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=ir(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):je(l,d,g))}function Ge(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(Ge,lt);var Uu=/^https?$/i,Eo=["POST","PUT"];i=Ge.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():En.g(),this.v=this.o?Gi(this.o):Gi(En),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(z){Ei(this,z);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)g.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())g.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Eo,d,void 0))||E||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Y]of g)this.g.setRequestHeader(z,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){Ei(this,z)}};function Ei(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,is(l),tn(l)}function is(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),tn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wo(this):this.bb())},i.bb=function(){wo(this)};function wo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)io(l.Ea,0,l);else if(ut(l,"readystatechange"),$t(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var E;if(E=Y===0){var L=String(l.D).match(yi)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),E=!Uu.test(L?L.toLowerCase():"")}g=E}if(g)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var z=2<$t(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",is(l)}}finally{tn(l)}}}}function tn(l,d){if(l.g){ss(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{g.onreadystatechange=E}catch{}}}function ss(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),lo(d)}};function To(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function os(l){const d={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(ge(l[E]))continue;var g=x(l[E]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=d[L]||[];d[L]=z,z.push(g)}V(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function Io(l){this.Aa=0,this.i=[],this.j=new fi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(l&&l.concurrentRequestLimit),this.Da=new Fu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Io.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,E){nt(0),this.W=l,this.H=d||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=za(this,null,this.W),Un(this)};function It(l){if(as(l),l.G==3){var d=l.U++,g=en(l.I);if(je(g,"SID",l.K),je(g,"RID",d),je(g,"TYPE","terminate"),sr(l,g),d=new wn(l,l.j,d),d.L=2,d.v=Cr(en(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=ja(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Be(d)}Ua(l)}function Rn(l){l.g&&(So(l),l.g.cancel(),l.g=null)}function as(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),cs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Un(l){if(!Zt(l.h)&&!l.s){l.s=!0;var d=l.Ga;ze||ee(),J||(ze(),J=!0),le.add(d,l),l.B=0}}function zu(l,d){return Ra(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_n(D(l.Ga,l,d),Fa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new wn(this,this.j,l);let z=this.o;if(this.S&&(z?(z=I(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=xr(this,L,d),g=en(this.I),je(g,"RID",l),je(g,"CVER",22),this.D&&je(g,"X-HTTP-Session-Id",this.D),sr(this,g),z&&(this.O?d="headers="+encodeURIComponent(String(ir(z)))+"&"+d:this.m&&Vr(g,this.m,z)),_o(this.h,L),this.Ua&&je(g,"TYPE","init"),this.P?(je(g,"$req",d),je(g,"SID","null"),L.T=!0,es(L,g,null)):es(L,g,d),this.G=2}}else this.G==3&&(l?ls(this,l):this.i.length==0||Zt(this.h)||ls(this))};function ls(l,d){var g;d?g=d.l:g=l.U++;const E=en(l.I);je(E,"SID",l.K),je(E,"RID",g),je(E,"AID",l.T),sr(l,E),l.m&&l.o&&Vr(E,l.m,l.o),g=new wn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=xr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),_o(l.h,g),es(g,E,d)}function sr(l,d){l.H&&xe(l.H,function(g,E){je(d,E,g)}),l.l&&Sr({},function(g,E){je(d,E,g)})}function xr(l,d,g){g=Math.min(l.i.length,g);var E=l.l?D(l.l.Na,l.l,l):null;e:{var L=l.i;let z=-1;for(;;){const Y=["count="+g];z==-1?0<g?(z=L[0].g,Y.push("ofs="+z)):z=0:Y.push("ofs="+z);let Ue=!0;for(let ct=0;ct<g;ct++){let Pe=L[ct].g;const yt=L[ct].map;if(Pe-=z,0>Pe)z=Math.max(0,L[ct].g-100),Ue=!1;else try{Oa(yt,Y,"req"+Pe+"_")}catch{E&&E(yt)}}if(Ue){E=Y.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,E}function wi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ze||ee(),J||(ze(),J=!0),le.add(d,l),l.v=0}}function us(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_n(D(l.Fa,l),Fa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ma(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_n(D(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Rn(this),Ma(this))};function So(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ma(l){l.g=new wn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=en(l.qa);je(d,"RID","rpc"),je(d,"SID",l.K),je(d,"AID",l.T),je(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(d,"TO",l.ja),je(d,"TYPE","xmlhttp"),sr(l,d),l.m&&l.o&&Vr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Cr(en(d)),g.m=null,g.P=!0,go(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),us(this),nt(19))};function cs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function hs(l,d){var g=null;if(l.g==d){cs(l),So(l),l.g=null;var E=2}else if(Ut(l.h,d))g=d.D,Ca(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=l.B;E=hi(),ut(E,new Xi(E,g)),Un(l)}else wi(l);else if(L=d.s,L==3||L==0&&0<d.X||!(E==1&&zu(l,d)||E==2&&us(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),L){case 1:or(l,5);break;case 4:or(l,10);break;case 3:or(l,6);break;default:or(l,2)}}}function Fa(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function or(l,d){if(l.j.info("Error code "+d),d==2){var g=D(l.fb,l),E=l.Xa;const L=!E;E=new nr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_i(E,"https"),Cr(E),L?Mu(E.toString(),g):Na(E.toString(),g)}else nt(2);l.G=0,l.l&&l.l.sa(d),Ua(l),as(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Ua(l){if(l.G=0,l.ka=[],l.l){const d=Pa(l.h);(d.length!=0||l.i.length!=0)&&($(l.ka,d),$(l.ka,l.i),l.h.i.length=0,X(l.i),l.i.length=0),l.l.ra()}}function za(l,d,g){var E=g instanceof nr?en(g):new nr(g);if(E.g!="")d&&(E.g=d+"."+E.g),Ar(E,E.s);else{var L=m.location;E=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var z=new nr(null);E&&_i(z,E),d&&(z.g=d),L&&Ar(z,L),g&&(z.l=g),E=z}return g=l.D,d=l.ya,g&&d&&je(E,g,d),je(E,"VER",l.la),sr(l,E),E}function ja(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ge(new rr({eb:g})):new Ge(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ao(){}i=Ao.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(l,d){return new zt(l,d)};function zt(l,d){lt.call(this),this.g=new Io(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ge(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ge(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new zn(this)}Q(zt,lt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){It(this.g)},zt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=ao(l),l=g);d.i.push(new Aa(d.Ya++,l)),d.G==3&&Un(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,zt.aa.N.call(this)};function ba(l){Nn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}Q(ba,Nn);function Ba(){Ki.call(this),this.status=1}Q(Ba,Ki);function zn(l){this.g=l}Q(zn,Ao),zn.prototype.ua=function(){ut(this.g,"a")},zn.prototype.ta=function(l){ut(this.g,new ba(l))},zn.prototype.sa=function(l){ut(this.g,new Ba)},zn.prototype.ra=function(){ut(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,Qm=function(){return new fs},Gm=function(){return hi()},Wm=On,Ih={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,$l=Ji,wa.COMPLETE="complete",Hm=wa,Qi.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Xo=Qi,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,qm=Ge}).apply(typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{});const Wp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Fm("@firebase/firestore");function Os(){return Ui.logLevel}function te(i,...e){if(Ui.logLevel<=Ve.DEBUG){const n=e.map(Hh);Ui.debug(`Firestore (${Xs}): ${i}`,...n)}}function _r(i,...e){if(Ui.logLevel<=Ve.ERROR){const n=e.map(Hh);Ui.error(`Firestore (${Xs}): ${i}`,...n)}}function js(i,...e){if(Ui.logLevel<=Ve.WARN){const n=e.map(Hh);Ui.warn(`Firestore (${Xs}): ${i}`,...n)}}function Hh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(i="Unexpected state"){const e=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: `+i;throw _r(e),new Error(e)}function Fe(i,e){i||de()}function _e(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class aE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lE{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Yr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Yr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new Km(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Mt(e)}}class uE{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cE{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new uE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new hE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=dE(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Re(i,e){return i<e?-1:i>e?1:0}function bs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new pt(0,0))}static max(){return new me(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,s){n===void 0?n=0:n>e.length&&de(),s===void 0?s=e.length-n:s>e.length-n&&de(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=qn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=qn.isNumericId(e),a=qn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qn.extractNumericId(e).compare(qn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xr.fromString(e.substring(4,e.length-2))}}class Ze extends qn{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const pE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends qn{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return pE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ae(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new ae(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Ze.fromString(e))}static fromName(e){return new he(Ze.fromString(e).popFirst(5))}static empty(){return new he(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Ze(e.slice()))}}function mE(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=me.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Zr(a,he.empty(),e)}function gE(i){return new Zr(i.readTime,i.key,-1)}class Zr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(me.min(),he.empty(),-1)}static max(){return new Zr(me.max(),he.empty(),-1)}}function yE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(i.documentKey,e.documentKey),n!==0?n:Re(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==_E)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,s)=>{n(e)})}static reject(e){return new b((n,s)=>{s(e)})}static waitFor(e){return new b((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=b.resolve(!1);for(const s of e)n=n.next(a=>a?b.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new b((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next(w=>{f[v]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new b((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function EE(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Js(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pu.oe=-1;function mu(i){return i==null}function tu(i){return i===0&&1/i==-1/0}function wE(i){return typeof i=="number"&&Number.isInteger(i)&&!tu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Gp(e)),e=IE(i.get(n),e);return Gp(e)}function IE(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Gp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ii(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ym(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fl(this.root,e,this.comparator,!0)}}class Fl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Rt.RED,this.left=a??Rt.EMPTY,this.right=c??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Rt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Rt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,s,a,c){return this}insert(e,n,s){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kp(this.data.getIterator())}getIteratorFrom(e){return new Kp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class Kp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new an([])}unionWith(e){let n=new mt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Jm("Invalid base64 string: "+c):c}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const SE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(i){if(Fe(!!i),typeof i=="string"){let e=0;const n=SE.exec(i);if(Fe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ti(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gu(i){const e=i.mapValue.fields.__previous_value__;return Wh(e)?gu(e):e}function ua(i){const e=ei(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,s,a,c,f,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v}}class ca{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ni(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wh(i)?4:CE(i)?9007199254740991:RE(i)?10:11:de()}function Kn(i,e){if(i===e)return!0;const n=ni(i);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ua(i).isEqual(ua(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=ei(a.timestampValue),m=ei(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return ti(a.bytesValue).isEqual(ti(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return it(a.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return it(a.integerValue)===it(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=it(a.doubleValue),m=it(c.doubleValue);return f===m?tu(f)===tu(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return bs(i.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Qp(f)!==Qp(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Kn(f[y],m[y])))return!1;return!0}(i,e);default:return de()}}function ha(i,e){return(i.values||[]).find(n=>Kn(n,e))!==void 0}function Bs(i,e){if(i===e)return 0;const n=ni(i),s=ni(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=it(c.integerValue||c.doubleValue),y=it(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Xp(i.timestampValue,e.timestampValue);case 4:return Xp(ua(i),ua(e));case 5:return Re(i.stringValue,e.stringValue);case 6:return function(c,f){const m=ti(c),y=ti(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let v=0;v<m.length&&v<y.length;v++){const w=Re(m[v],y[v]);if(w!==0)return w}return Re(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Re(it(c.latitude),it(f.latitude));return m!==0?m:Re(it(c.longitude),it(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Yp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,v,w;const C=c.fields||{},D=f.fields||{},j=(m=C.value)===null||m===void 0?void 0:m.arrayValue,Q=(y=D.value)===null||y===void 0?void 0:y.arrayValue,X=Re(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((w=Q==null?void 0:Q.values)===null||w===void 0?void 0:w.length)||0);return X!==0?X:Yp(j,Q)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Ul.mapValue&&f===Ul.mapValue)return 0;if(c===Ul.mapValue)return 1;if(f===Ul.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=f.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let C=0;C<y.length&&C<w.length;++C){const D=Re(y[C],w[C]);if(D!==0)return D;const j=Bs(m[y[C]],v[w[C]]);if(j!==0)return j}return Re(y.length,w.length)}(i.mapValue,e.mapValue);default:throw de()}}function Xp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Re(i,e);const n=ei(i),s=ei(e),a=Re(n.seconds,s.seconds);return a!==0?a:Re(n.nanos,s.nanos)}function Yp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Bs(n[a],s[a]);if(c)return c}return Re(n.length,s.length)}function $s(i){return Sh(i)}function Sh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ei(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ti(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return he.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Sh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${Sh(n.fields[f])}`;return a+"}"}(i.mapValue):de()}function ql(i){switch(ni(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gu(i);return e?16+ql(e):16;case 5:return 2*i.stringValue.length;case 6:return ti(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+ql(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ii(s.fields,(c,f)=>{a+=c.length+ql(f)}),a}(i.mapValue);default:throw de()}}function Ah(i){return!!i&&"integerValue"in i}function Gh(i){return!!i&&"arrayValue"in i}function Jp(i){return!!i&&"nullValue"in i}function Zp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Hl(i){return!!i&&"mapValue"in i}function RE(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ea(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ii(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ea(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ea(i.arrayValue.values[n]);return e}return Object.assign({},i)}function CE(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Hl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(n)}setAll(e){let n=Ct.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=ea(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Hl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Hl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ii(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Yt(ea(this.value))}}function Zm(i){const e=[];return ii(i.fields,(n,s)=>{const a=new Ct([n]);if(Hl(s)){const c=Zm(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,me.min(),me.min(),me.min(),Yt.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,me.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,me.min(),me.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,me.min(),me.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.position=e,this.inclusive=n}}function em(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=he.comparator(he.fromName(f.referenceValue),n.key):s=Bs(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function tm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Kn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function PE(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{}class dt extends eg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new VE(e,n,s):n==="array-contains"?new NE(e,s):n==="in"?new OE(e,s):n==="not-in"?new LE(e,s):n==="array-contains-any"?new ME(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xE(e,s):new DE(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bs(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends eg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xn(e,n)}matches(e){return tg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tg(i){return i.op==="and"}function ng(i){return kE(i)&&tg(i)}function kE(i){for(const e of i.filters)if(e instanceof Xn)return!1;return!0}function Rh(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+$s(i.value);if(ng(i))return i.filters.map(e=>Rh(e)).join(",");{const e=i.filters.map(n=>Rh(n)).join(",");return`${i.op}(${e})`}}function rg(i,e){return i instanceof dt?function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&Kn(s.value,a.value)}(i,e):i instanceof Xn?function(s,a){return a instanceof Xn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&rg(f,a.filters[m]),!0):!1}(i,e):void de()}function ig(i){return i instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(i):i instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(ig).join(" ,")+"}"}(i):"Filter"}class VE extends dt{constructor(e,n,s){super(e,n,s),this.key=he.fromName(s.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class xE extends dt{constructor(e,n){super(e,"in",n),this.keys=sg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DE extends dt{constructor(e,n){super(e,"not-in",n),this.keys=sg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>he.fromName(s.referenceValue))}class NE extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gh(n)&&ha(n.arrayValue,this.value)}}class OE extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ha(this.value.arrayValue,n)}}class LE extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ha(this.value.arrayValue,n)}}class ME extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ha(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function nm(i,e=null,n=[],s=[],a=null,c=null,f=null){return new FE(i,e,n,s,a,c,f)}function Qh(i){const e=_e(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Rh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),mu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>$s(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>$s(s)).join(",")),e.ue=n}return e.ue}function Kh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!PE(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!rg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!tm(i.startAt,e.startAt)&&tm(i.endAt,e.endAt)}function Ch(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function UE(i,e,n,s,a,c,f,m){return new yu(i,e,n,s,a,c,f,m)}function _u(i){return new yu(i)}function rm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zE(i){return i.collectionGroup!==null}function ta(i){const e=_e(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new mt(Ct.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new ru(c,s))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new ru(Ct.keyField(),s))}return e.ce}function Hn(i){const e=_e(i);return e.le||(e.le=jE(e,ta(i))),e.le}function jE(i,e){if(i.limitType==="F")return nm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new ru(a.field,c)});const n=i.endAt?new nu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new nu(i.startAt.position,i.startAt.inclusive):null;return nm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ph(i,e,n){return new yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function vu(i,e){return Kh(Hn(i),Hn(e))&&i.limitType===e.limitType}function og(i){return`${Qh(Hn(i))}|lt:${i.limitType}`}function Ls(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>ig(a)).join(", ")}]`),mu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>$s(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>$s(a)).join(",")),`Target(${s})`}(Hn(i))}; limitType=${i.limitType})`}function Eu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):he.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of ta(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const v=em(f,m,y);return f.inclusive?v<=0:v<0}(s.startAt,ta(s),a)||s.endAt&&!function(f,m,y){const v=em(f,m,y);return f.inclusive?v>=0:v>0}(s.endAt,ta(s),a))}(i,e)}function bE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ag(i){return(e,n)=>{let s=!1;for(const a of ta(i)){const c=BE(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function BE(i,e,n){const s=i.field.isKeyField()?he.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),v=m.data.field(c);return y!==null&&v!==null?Bs(y,v):de()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Ym(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Ye(he.comparator);function vr(){return $E}const lg=new Ye(he.comparator);function Yo(...i){let e=lg;for(const n of i)e=e.insert(n.key,n);return e}function ug(i){let e=lg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Mi(){return na()}function cg(){return na()}function na(){return new zi(i=>i.toString(),(i,e)=>i.isEqual(e))}const qE=new Ye(he.comparator),HE=new mt(he.comparator);function Ie(...i){let e=HE;for(const n of i)e=e.add(n);return e}const WE=new mt(Re);function GE(){return WE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function hg(i){return{integerValue:""+i}}function QE(i,e){return wE(e)?hg(e):Xh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this._=void 0}}function KE(i,e,n){return i instanceof iu?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Wh(c)&&(c=gu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof qs?dg(i,e):i instanceof fa?pg(i,e):function(a,c){const f=fg(a,c),m=im(f)+im(a.Pe);return Ah(f)&&Ah(a.Pe)?hg(m):Xh(a.serializer,m)}(i,e)}function XE(i,e,n){return i instanceof qs?dg(i,e):i instanceof fa?pg(i,e):n}function fg(i,e){return i instanceof su?function(s){return Ah(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class iu extends wu{}class qs extends wu{constructor(e){super(),this.elements=e}}function dg(i,e){const n=mg(e);for(const s of i.elements)n.some(a=>Kn(a,s))||n.push(s);return{arrayValue:{values:n}}}class fa extends wu{constructor(e){super(),this.elements=e}}function pg(i,e){let n=mg(e);for(const s of i.elements)n=n.filter(a=>!Kn(a,s));return{arrayValue:{values:n}}}class su extends wu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function im(i){return it(i.integerValue||i.doubleValue)}function mg(i){return Gh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.field=e,this.transform=n}}function JE(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof qs&&a instanceof qs||s instanceof fa&&a instanceof fa?bs(s.elements,a.elements,Kn):s instanceof su&&a instanceof su?Kn(s.Pe,a.Pe):s instanceof iu&&a instanceof iu}(i.transform,e.transform)}class ZE{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Tu{}function gg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new _g(i.key,Wn.none()):new pa(i.key,i.data,Wn.none());{const n=i.data,s=Yt.empty();let a=new mt(Ct.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new si(i.key,s,new an(a.toArray()),Wn.none())}}function ew(i,e,n){i instanceof pa?function(a,c,f){const m=a.value.clone(),y=om(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof si?function(a,c,f){if(!Wl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=om(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(yg(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ra(i,e,n,s){return i instanceof pa?function(c,f,m,y){if(!Wl(c.precondition,f))return m;const v=c.value.clone(),w=am(c.fieldTransforms,y,f);return v.setAll(w),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof si?function(c,f,m,y){if(!Wl(c.precondition,f))return m;const v=am(c.fieldTransforms,y,f),w=f.data;return w.setAll(yg(c)),w.setAll(v),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(i,e,n,s):function(c,f,m){return Wl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function tw(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=fg(s.transform,a||null);c!=null&&(n===null&&(n=Yt.empty()),n.set(s.field,c))}return n||null}function sm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&bs(s,a,(c,f)=>JE(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class pa extends Tu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class si extends Tu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function yg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function om(i,e,n){const s=new Map;Fe(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,XE(f,m,n[a]))}return s}function am(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,KE(c,f,e))}return s}class _g extends Tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nw extends Tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&ew(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ra(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ra(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=cg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=gg(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(me.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(n,s)=>sm(n,s))&&bs(this.baseMutations,e.baseMutations,(n,s)=>sm(n,s))}}class Yh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Fe(e.mutations.length===s.length);let a=function(){return qE}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Yh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,ke;function ow(i){switch(i){default:return de();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function vg(i){if(i===void 0)return _r("GRPC error has no .code"),W.UNKNOWN;switch(i){case at.OK:return W.OK;case at.CANCELLED:return W.CANCELLED;case at.UNKNOWN:return W.UNKNOWN;case at.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case at.INTERNAL:return W.INTERNAL;case at.UNAVAILABLE:return W.UNAVAILABLE;case at.UNAUTHENTICATED:return W.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case at.NOT_FOUND:return W.NOT_FOUND;case at.ALREADY_EXISTS:return W.ALREADY_EXISTS;case at.PERMISSION_DENIED:return W.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case at.ABORTED:return W.ABORTED;case at.OUT_OF_RANGE:return W.OUT_OF_RANGE;case at.UNIMPLEMENTED:return W.UNIMPLEMENTED;case at.DATA_LOSS:return W.DATA_LOSS;default:return de()}}(ke=at||(at={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Xr([4294967295,4294967295],0);function lm(i){const e=aw().encode(i),n=new $m;return n.update(e),new Uint8Array(n.digest())}function um(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Xr([n,s],0),new Xr([a,c],0)]}class Jh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jo(`Invalid padding: ${n}`);if(s<0)throw new Jo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Xr.fromNumber(this.Te)}de(e,n,s){let a=e.add(n.multiply(Xr.fromNumber(s)));return a.compare(lw)===1&&(a=new Xr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=lm(e),[s,a]=um(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);if(!this.Ee(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Jh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=lm(e),[s,a]=um(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ma.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Iu(me.min(),a,new Ye(Re),vr(),Ie())}}class ma{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ma(s,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Eg{constructor(e,n){this.targetId=e,this.me=n}}class wg{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class cm{constructor(){this.fe=0,this.ge=hm(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),s=Ie();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:de()}}),new ma(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=hm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uw{constructor(e){this.Be=e,this.Le=new Map,this.ke=vr(),this.qe=zl(),this.Qe=zl(),this.Ke=new Ye(Re)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(Ch(c))if(s===0){const f=new he(c.path);this.We(n,f,Ft.newNoDocument(f,me.min()))}else Fe(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),y=m?this.et(m,e,f):1;if(y!==0){this.He(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=ti(s).toUint8Array()}catch(y){if(y instanceof Jm)return js("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Jh(f,a,c)}catch(y){return js(y instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Be.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Le.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&Ch(m.target)){const y=new he(m.target.path);this.st(y).has(f)||this.ot(f,y)||this.We(f,y,Ft.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ie();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const v=this.Ye(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new Iu(e,n,this.Ke,this.ke,s);return this.ke=vr(),this.qe=zl(),this.Qe=zl(),this.Ke=new Ye(Re),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new cm,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new mt(Re),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(Re),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new cm),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function zl(){return new Ye(he.comparator)}function hm(){return new Ye(he.comparator)}const cw={asc:"ASCENDING",desc:"DESCENDING"},hw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fw={and:"AND",or:"OR"};class dw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kh(i,e){return i.useProto3Json||mu(e)?e:{value:e}}function ou(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function pw(i,e){return ou(i,e.toTimestamp())}function Gn(i){return Fe(!!i),me.fromTimestamp(function(n){const s=ei(n);return new pt(s.seconds,s.nanos)}(i))}function Zh(i,e){return Vh(i,e).canonicalString()}function Vh(i,e){const n=function(a){return new Ze(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Ig(i){const e=Ze.fromString(i);return Fe(Pg(e)),e}function xh(i,e){return Zh(i.databaseId,e.path)}function ph(i,e){const n=Ig(e);if(n.get(1)!==i.databaseId.projectId)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new he(Ag(n))}function Sg(i,e){return Zh(i.databaseId,e)}function mw(i){const e=Ig(i);return e.length===4?Ze.emptyPath():Ag(e)}function Dh(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ag(i){return Fe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function fm(i,e,n){return{name:xh(i,e),fields:n.value.mapValue.fields}}function gw(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,w){return v.useProto3Json?(Fe(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(Fe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(v){const w=v.code===void 0?W.UNKNOWN:vg(v.code);return new ae(w,v.message||"")}(f);n=new wg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ph(i,s.document.name),c=Gn(s.document.updateTime),f=s.document.createTime?Gn(s.document.createTime):me.min(),m=new Yt({mapValue:{fields:s.document.fields}}),y=Ft.newFoundDocument(a,c,f,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new Gl(v,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ph(i,s.document),c=s.readTime?Gn(s.readTime):me.min(),f=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Gl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ph(i,s.document),c=s.removedTargetIds||[];n=new Gl([],c,a,null)}else{if(!("filter"in e))return de();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new sw(a,c),m=s.targetId;n=new Eg(m,f)}}return n}function yw(i,e){let n;if(e instanceof pa)n={update:fm(i,e.key,e.value)};else if(e instanceof _g)n={delete:xh(i,e.key)};else if(e instanceof si)n={update:fm(i,e.key,e.data),updateMask:Rw(e.fieldMask)};else{if(!(e instanceof nw))return de();n={verify:xh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof iu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof qs)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw de()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:pw(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:de()}(i,e.precondition)),n}function _w(i,e){return i&&i.length>0?(Fe(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?Gn(a.updateTime):Gn(c);return f.isEqual(me.min())&&(f=Gn(c)),new ZE(f,a.transformResults||[])}(n,e))):[]}function vw(i,e){return{documents:[Sg(i,e.path)]}}function Ew(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Sg(i,a);const c=function(v){if(v.length!==0)return Cg(Xn.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(v){if(v.length!==0)return v.map(w=>function(D){return{field:Ms(D.field),direction:Iw(D.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=kh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function ww(i){let e=mw(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Fe(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(C){const D=Rg(C);return D instanceof Xn&&ng(D)?D.getFilters():[D]}(n.where));let f=[];n.orderBy&&(f=function(C){return C.map(D=>function(Q){return new ru(Fs(Q.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(D))}(n.orderBy));let m=null;n.limit&&(m=function(C){let D;return D=typeof C=="object"?C.value:C,mu(D)?null:D}(n.limit));let y=null;n.startAt&&(y=function(C){const D=!!C.before,j=C.values||[];return new nu(j,D)}(n.startAt));let v=null;return n.endAt&&(v=function(C){const D=!C.before,j=C.values||[];return new nu(j,D)}(n.endAt)),UE(e,a,f,c,m,"F",y,v)}function Tw(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fs(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Fs(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fs(n.unaryFilter.field);return dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fs(n.unaryFilter.field);return dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(i):i.fieldFilter!==void 0?function(n){return dt.create(Fs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>Rg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(i):de()}function Iw(i){return cw[i]}function Sw(i){return hw[i]}function Aw(i){return fw[i]}function Ms(i){return{fieldPath:i.canonicalString()}}function Fs(i){return Ct.fromServerFormat(i.fieldPath)}function Cg(i){return i instanceof dt?function(n){if(n.op==="=="){if(Zp(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NAN"}};if(Jp(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zp(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NAN"}};if(Jp(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(n.field),op:Sw(n.op),value:n.value}}}(i):i instanceof Xn?function(n){const s=n.getFilters().map(a=>Cg(a));return s.length===1?s[0]:{compositeFilter:{op:Aw(n.op),filters:s}}}(i):de()}function Rw(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Pg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,s,a,c=me.min(),f=me.min(),m=Pt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.ht=e}}function Pw(i){const e=ww({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.ln=new Vw}addToCollectionParentIndex(e,n){return this.ln.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Zr.min())}updateCollectionGroup(e,n,s){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class Vw{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(Ze.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Hs(0)}static Qn(){return new Hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm([i,e],[n,s]){const a=Re(i,n);return a===0?Re(e,s):a}class xw{constructor(e){this.Gn=e,this.buffer=new mt(pm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Dw{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Js(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ys(n)}await this.Yn(3e5)})}}class Nw{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return b.resolve(pu.oe);const s=new xw(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),b.resolve(dm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,y,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,f=Date.now(),this.nthSequenceNumber(e,a))).next(C=>(s=C,m=Date.now(),this.removeTargets(e,s,n))).next(C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(v=Date.now(),Os()<=Ve.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${C} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),b.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:C})))}}function Ow(i,e){return new Nw(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?b.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ra(s.mutation,a,an.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ie()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ie()){const a=Mi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Yo();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Mi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ie()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=vr();const f=na(),m=function(){return na()}();return n.forEach((y,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof si)?c=c.insert(v.key,v):w!==void 0?(f.set(v.key,w.mutation.getFieldMask()),ra(w.mutation,v,w.mutation.getFieldMask(),pt.now())):f.set(v.key,an.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((v,w)=>f.set(v,w)),n.forEach((v,w)=>{var C;return m.set(v,new Mw(w,(C=f.get(v))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(e,n){const s=na();let a=new Ye((f,m)=>f-m),c=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const v=n.get(y);if(v===null)return;let w=s.get(y)||an.empty();w=m.applyToLocalView(v,w),s.set(y,w);const C=(a.get(m.batchId)||Ie()).add(y);a=a.insert(m.batchId,C)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,w=y.value,C=cg();w.forEach(D=>{if(!c.has(D)){const j=gg(n.get(D),s.get(D));j!==null&&C.set(D,j),c=c.add(D)}}),f.push(this.documentOverlayCache.saveOverlays(e,v,C))}return b.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return he.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):b.resolve(Mi());let m=-1,y=c;return f.next(v=>b.forEach(v,(w,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),c.get(w)?b.resolve():this.remoteDocumentCache.getEntry(e,w).next(D=>{y=y.insert(w,D)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,y,v,Ie())).next(w=>({batchId:m,changes:ug(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(s=>{let a=Yo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Yo();return this.indexManager.getCollectionParents(e,c).next(m=>b.forEach(m,y=>{const v=function(C,D){return new yu(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(w=>{w.forEach((C,D)=>{f=f.insert(C,D)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,v)=>{const w=v.getKey();f.get(w)===null&&(f=f.insert(w,Ft.newInvalidDocument(w)))});let m=Yo();return f.forEach((y,v)=>{const w=c.get(y);w!==void 0&&ra(w.mutation,v,an.empty(),pt.now()),Eu(n,v)&&(m=m.insert(y,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return b.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Gn(a.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:Pw(a.bundledQuery),readTime:Gn(a.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.overlays=new Ye(he.comparator),this.dr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Mi();return b.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),b.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.dr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.dr.delete(s)),b.resolve()}getOverlaysForCollection(e,n,s){const a=Mi(),c=n.length+1,f=new he(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return b.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ye((v,w)=>v-w);const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Mi(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=Mi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=a)););return b.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.dr.get(a.largestBatchId).delete(s.key);this.dr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new iw(n,s));let c=this.dr.get(n);c===void 0&&(c=Ie(),this.dr.set(n,c)),this.dr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return b.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,b.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this.Er=new mt(wt.Ar),this.Rr=new mt(wt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new wt(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new wt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new he(new Ze([])),s=new wt(n,e),a=new wt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new he(new Ze([])),s=new wt(n,e),a=new wt(n,e+1);let c=Ie();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new wt(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return he.comparator(e.key,n.key)||Re(e.br,n.br)}static Vr(e,n){return Re(e.br,n.br)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new mt(wt.Ar)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new rw(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new wt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return b.resolve(f)}lookupMutationBatch(e,n){return b.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return b.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),b.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(Re);return n.forEach(a=>{const c=new wt(a,0),f=new wt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),b.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;he.isDocumentKey(c)||(c=c.child(""));const f=new wt(new he(c),0);let m=new mt(Re);return this.vr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.br)),!0)},f),b.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Fe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return b.forEach(n.mutations,a=>{const c=new wt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new wt(n,0),a=this.vr.firstAfterOrEqual(s);return b.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.Nr=e,this.docs=function(){return new Ye(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return b.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))}),b.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=vr();const f=n.path,m=new he(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||yE(gE(w),s)<=0||(a.has(w.key)||Eu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return b.resolve(c)}getAllFromCollectionGroup(e,n,s,a){de()}Br(e,n){return b.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new $w(this)}getSize(e){return b.resolve(this.size)}}class $w extends Lw{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),b.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.persistence=e,this.Lr=new zi(n=>Qh(n),Kh),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.kr=0,this.qr=new ef,this.targetCount=0,this.Qr=Hs.qn()}forEachTarget(e,n){return this.Lr.forEach((s,a)=>n(a)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),b.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Hs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.Un(n),b.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Lr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Lr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),b.waitFor(c).next(()=>a)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return b.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),b.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),b.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return b.resolve(s)}containsKey(e,n){return b.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new pu(0),this.Ur=!1,this.Ur=!0,this.Wr=new jw,this.referenceDelegate=e(this),this.Gr=new qw(this),this.indexManager=new kw,this.remoteDocumentCache=function(a){return new Bw(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new Cw(n),this.jr=new Uw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new bw(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new Hw(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return b.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class Hw extends vE{constructor(e){super(),this.currentSequenceNumber=e}}class tf{constructor(e){this.persistence=e,this.Zr=new ef,this.Xr=null}static ei(e){return new tf(e)}get ti(){if(this.Xr)return this.Xr;throw de()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),b.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),b.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.ti,s=>{const a=he.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,me.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return b.or([()=>b.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class au{constructor(e,n){this.persistence=e,this.ri=new zi(s=>TE(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=Ow(this,n)}static ei(e,n){return new au(e,n)}Hr(){}Jr(e){return b.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return b.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?b.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Br(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,me.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),b.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),b.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),b.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),b.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ql(e.data.value)),n}ir(e,n,s){return b.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return b.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ie(),a=Ie();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new nf(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return q_()?8:EE(B_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new Ww;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Os()<=Ve.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),b.resolve()):(Os()<=Ve.DEBUG&&te("QueryEngine","Query:",Ls(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Os()<=Ve.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):b.resolve())}Xi(e,n){if(rm(n))return b.resolve(null);let s=Hn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ph(n,null,"F"),s=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ie(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const v=this.rs(n,m);return this.ss(n,v,f,y.readTime)?this.Xi(e,Ph(n,null,"F")):this.os(e,v,n,y)}))})))}es(e,n,s,a){return rm(n)||a.isEqual(me.min())?b.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?b.resolve(null):(Os()<=Ve.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ls(n)),this.os(e,f,n,mE(a,-1)).next(m=>m))})}rs(e,n){let s=new mt(ag(e));return n.forEach((a,c)=>{Eu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Os()<=Ve.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Zi.getDocumentsMatchingQuery(e,n,Zr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Ye(Re),this.cs=new zi(c=>Qh(c),Kh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fw(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function Kw(i,e,n,s){return new Qw(i,e,n,s)}async function Vg(i,e){const n=_e(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Ie();for(const v of a){f.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(v=>({Ts:v,removedBatchIds:f,addedBatchIds:m}))})})}function Xw(i,e){const n=_e(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,y,v,w){const C=v.batch,D=C.keys();let j=b.resolve();return D.forEach(Q=>{j=j.next(()=>w.getEntry(y,Q)).next(X=>{const $=v.docVersions.get(Q);Fe($!==null),X.version.compareTo($)<0&&(C.applyToRemoteDocument(X,v),X.isValidDocument()&&(X.setReadTime(v.commitVersion),w.addEntry(X)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(y,C))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Ie();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function xg(i){const e=_e(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function Yw(i,e){const n=_e(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,C)=>{const D=a.get(C);if(!D)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,C).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,C)));let j=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?j=j.withResumeToken(Pt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):w.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(w.resumeToken,s)),a=a.insert(C,j),function(X,$,pe){return X.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0}(D,j,w)&&m.push(n.Gr.updateTargetData(c,j))});let y=vr(),v=Ie();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(Jw(c,f,e.documentUpdates).next(w=>{y=w.Is,v=w.ds})),!s.isEqual(me.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(C=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return b.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,v)).next(()=>y)}).then(c=>(n.us=a,c))}function Jw(i,e,n){let s=Ie(),a=Ie();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=vr();return n.forEach((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(me.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):te("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)}),{Is:f,ds:a}})}function Zw(i,e){const n=_e(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function e0(i,e){const n=_e(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,b.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new Gr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Nh(i,e,n){const s=_e(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Js(f))throw f;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function mm(i,e,n){const s=_e(i);let a=me.min(),c=Ie();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,v,w){const C=_e(y),D=C.cs.get(w);return D!==void 0?b.resolve(C.us.get(D)):C.Gr.getTargetData(v,w)}(s,f,Hn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:me.min(),n?c:Ie())).next(m=>(t0(s,bE(e),m),{documents:m,Es:c})))}function t0(i,e,n){let s=i.ls.get(e)||me.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class gm{constructor(){this.activeTargetIds=GE()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n0{constructor(){this._o=new gm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new gm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl=null;function mh(){return jl===null?jl=function(){return 268435456+Math.round(2147483648*Math.random())}():jl++,"0x"+jl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class o0 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=mh(),y=this.No(n,s.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(v,c,f),this.Lo(n,y,v,a).then(w=>(te("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw js("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",y,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Bo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=i0[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,a){const c=mh();return new Promise((f,m)=>{const y=new qm;y.setWithCredentials(!0),y.listenOnce(Hm.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case $l.NO_ERROR:const w=y.getResponseJson();te(Lt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case $l.TIMEOUT:te(Lt,`RPC '${e}' ${c} timed out`),m(new ae(W.DEADLINE_EXCEEDED,"Request time out"));break;case $l.HTTP_ERROR:const C=y.getStatus();if(te(Lt,`RPC '${e}' ${c} failed with status:`,C,"response text:",y.getResponseText()),C>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D==null?void 0:D.error;if(j&&j.status&&j.message){const Q=function($){const pe=$.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(pe)>=0?pe:W.UNKNOWN}(j.status);m(new ae(Q,j.message))}else m(new ae(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ae(W.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{te(Lt,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);te(Lt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",v,s,15)})}qo(e,n,s){const a=mh(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Qm(),m=Gm(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Bo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");te(Lt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const C=f.createWebChannel(w,y);let D=!1,j=!1;const Q=new s0({Eo:$=>{j?te(Lt,`Not sending because RPC '${e}' stream ${a} is closed:`,$):(D||(te(Lt,`Opening RPC '${e}' stream ${a} transport.`),C.open(),D=!0),te(Lt,`RPC '${e}' stream ${a} sending:`,$),C.send($))},Ao:()=>C.close()}),X=($,pe,ge)=>{$.listen(pe,ve=>{try{ge(ve)}catch(Se){setTimeout(()=>{throw Se},0)}})};return X(C,Xo.EventType.OPEN,()=>{j||(te(Lt,`RPC '${e}' stream ${a} transport opened.`),Q.So())}),X(C,Xo.EventType.CLOSE,()=>{j||(j=!0,te(Lt,`RPC '${e}' stream ${a} transport closed`),Q.Do())}),X(C,Xo.EventType.ERROR,$=>{j||(j=!0,js(Lt,`RPC '${e}' stream ${a} transport errored:`,$),Q.Do(new ae(W.UNAVAILABLE,"The operation could not be completed")))}),X(C,Xo.EventType.MESSAGE,$=>{var pe;if(!j){const ge=$.data[0];Fe(!!ge);const ve=ge,Se=(ve==null?void 0:ve.error)||((pe=ve[0])===null||pe===void 0?void 0:pe.error);if(Se){te(Lt,`RPC '${e}' stream ${a} received error:`,Se);const et=Se.status;let xe=function(A){const k=at[A];if(k!==void 0)return vg(k)}(et),V=Se.message;xe===void 0&&(xe=W.INTERNAL,V="Unknown error status: "+et+" with message "+Se.message),j=!0,Q.Do(new ae(xe,V)),C.close()}else te(Lt,`RPC '${e}' stream ${a} received:`,ge),Q.vo(ge)}}),X(m,Wm.STAT_EVENT,$=>{$.stat===Ih.PROXY?te(Lt,`RPC '${e}' stream ${a} detected buffering proxy`):$.stat===Ih.NOPROXY&&te(Lt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Q.bo()},0),Q}}function gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(i){return new dw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,s,a,c,f,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Dg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ae(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.d_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a0 extends Ng{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=gw(this.serializer,e),s=function(c){if(!("targetChange"in c))return me.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?me.min():f.readTime?Gn(f.readTime):me.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Dh(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=Ch(y)?{documents:vw(c,y)}:{query:Ew(c,y).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Tg(c,f.resumeToken);const v=kh(c,f.expectedCount);v!==null&&(m.expectedCount=v)}else if(f.snapshotVersion.compareTo(me.min())>0){m.readTime=ou(c,f.snapshotVersion.toTimestamp());const v=kh(c,f.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=Tw(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Dh(this.serializer),n.removeTarget=e,this.c_(n)}}class l0 extends Ng{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=_w(e.writeResults,e.commitTime),s=Gn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Dh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>yw(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,Vh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(W.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,Vh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(W.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class c0{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(_r(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{ji(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(y){const v=_e(y);v.k_.add(4),await ga(v),v.K_.set("Unknown"),v.k_.delete(4),await Au(v)}(this))})}),this.K_=new c0(s,a)}}async function Au(i){if(ji(i))for(const e of i.q_)await e(!0)}async function ga(i){for(const e of i.q_)await e(!1)}function Og(i,e){const n=_e(i);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),af(n)?of(n):Zs(n).s_()&&sf(n,e))}function rf(i,e){const n=_e(i),s=Zs(n);n.L_.delete(e),s.s_()&&Lg(n,e),n.L_.size===0&&(s.s_()?s.a_():ji(n)&&n.K_.set("Unknown"))}function sf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zs(i).V_(e)}function Lg(i,e){i.U_.xe(e),Zs(i).m_(e)}function of(i){i.U_=new uw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.L_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Zs(i).start(),i.K_.F_()}function af(i){return ji(i)&&!Zs(i).i_()&&i.L_.size>0}function ji(i){return _e(i).k_.size===0}function Mg(i){i.U_=void 0}async function f0(i){i.K_.set("Online")}async function d0(i){i.L_.forEach((e,n)=>{sf(i,e)})}async function p0(i,e){Mg(i),af(i)?(i.K_.O_(e),of(i)):i.K_.set("Unknown")}async function m0(i,e,n){if(i.K_.set("Online"),e instanceof wg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.L_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.L_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lu(i,s)}else if(e instanceof Gl?i.U_.$e(e):e instanceof Eg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(me.min()))try{const s=await xg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.L_.get(v);w&&c.L_.set(v,w.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,v)=>{const w=c.L_.get(y);if(!w)return;c.L_.set(y,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),Lg(c,y);const C=new Gr(w.target,y,v,w.sequenceNumber);sf(c,C)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){te("RemoteStore","Failed to raise snapshot:",s),await lu(i,s)}}async function lu(i,e,n){if(!Js(e))throw e;i.k_.add(1),await ga(i),i.K_.set("Offline"),n||(n=()=>xg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Au(i)})}function Fg(i,e){return e().catch(n=>lu(i,n,e))}async function Ru(i){const e=_e(i),n=ri(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;g0(e);)try{const a=await Zw(e.localStore,s);if(a===null){e.B_.length===0&&n.a_();break}s=a.batchId,y0(e,a)}catch(a){await lu(e,a)}Ug(e)&&zg(e)}function g0(i){return ji(i)&&i.B_.length<10}function y0(i,e){i.B_.push(e);const n=ri(i);n.s_()&&n.f_&&n.g_(e.mutations)}function Ug(i){return ji(i)&&!ri(i).i_()&&i.B_.length>0}function zg(i){ri(i).start()}async function _0(i){ri(i).w_()}async function v0(i){const e=ri(i);for(const n of i.B_)e.g_(n.mutations)}async function E0(i,e,n){const s=i.B_.shift(),a=Yh.from(s,e,n);await Fg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Ru(i)}async function w0(i,e){e&&ri(i).f_&&await async function(s,a){if(function(f){return ow(f)&&f!==W.ABORTED}(a.code)){const c=s.B_.shift();ri(s).__(),await Fg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await Ru(s)}}(i,e),Ug(i)&&zg(i)}async function _m(i,e){const n=_e(i);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=ji(n);n.k_.add(3),await ga(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Au(n)}async function T0(i,e){const n=_e(i);e?(n.k_.delete(2),await Au(n)):e||(n.k_.add(2),await ga(n),n.K_.set("Unknown"))}function Zs(i){return i.W_||(i.W_=function(n,s,a){const c=_e(n);return c.b_(),new a0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:f0.bind(null,i),mo:d0.bind(null,i),po:p0.bind(null,i),R_:m0.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),af(i)?of(i):i.K_.set("Unknown")):(await i.W_.stop(),Mg(i))})),i.W_}function ri(i){return i.G_||(i.G_=function(n,s,a){const c=_e(n);return c.b_(),new l0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:_0.bind(null,i),po:w0.bind(null,i),p_:v0.bind(null,i),y_:E0.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Ru(i)):(await i.G_.stop(),i.B_.length>0&&(te("RemoteStore",`Stopping write stream with ${i.B_.length} pending writes`),i.B_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new lf(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uf(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Js(i))return new ae(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static emptySet(e){return new zs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||he.comparator(n.key,s.key):(n,s)=>he.comparator(n.key,s.key),this.keyedMap=Yo(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new zs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.z_=new Ye(he.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):de():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ws{constructor(e,n,s,a,c,f,m,y,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ws(e,n,zs.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class S0{constructor(){this.queries=Em(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=_e(n),c=a.queries;a.queries=Em(),c.forEach((f,m)=>{for(const y of m.J_)y.onError(s)})})(this,new ae(W.ABORTED,"Firestore shutting down"))}}function Em(){return new zi(i=>og(i),vu)}async function jg(i,e){const n=_e(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new I0,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=uf(f,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&cf(n)}async function bg(i,e){const n=_e(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function A0(i,e){const n=_e(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&cf(n)}function R0(i,e,n){const s=_e(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function cf(i){i.X_.forEach(e=>{e.next()})}var Oh,wm;(wm=Oh||(Oh={})).na="default",wm.Cache="cache";class Bg{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ws(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Oh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.key=e}}class qg{constructor(e){this.key=e}}class C0{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ie(),this.mutatedKeys=Ie(),this.Va=ag(e),this.ma=new zs(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new vm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,C)=>{const D=a.get(w),j=Eu(this.query,C)?C:null,Q=!!D&&this.mutatedKeys.has(D.key),X=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;D&&j?D.data.isEqual(j.data)?Q!==X&&(s.track({type:3,doc:j}),$=!0):this.ya(D,j)||(s.track({type:2,doc:j}),$=!0,(y&&this.Va(j,y)>0||v&&this.Va(j,v)<0)&&(m=!0)):!D&&j?(s.track({type:0,doc:j}),$=!0):D&&!j&&(s.track({type:1,doc:D}),$=!0,(y||v)&&(m=!0)),$&&(j?(f=f.add(j),c=X?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,C)=>function(j,Q){const X=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return X(j)-X(Q)}(w.type,C.type)||this.Va(w.doc,C.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,v=y!==this.Aa;return this.Aa=y,f.length!==0||v?{snapshot:new Ws(this.query,e.ma,c,f,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new vm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ie(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new qg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new $g(s))}),n}va(e){this.Ea=e.Es,this.Ra=Ie();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Ws.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class P0{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class k0{constructor(e){this.key=e,this.Fa=!1}}class V0{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new zi(m=>og(m),vu),this.Oa=new Map,this.Na=new Set,this.Ba=new Ye(he.comparator),this.La=new Map,this.ka=new ef,this.qa={},this.Qa=new Map,this.Ka=Hs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function x0(i,e,n=!0){const s=Xg(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Hg(s,e,n,!0),a}async function D0(i,e){const n=Xg(i);await Hg(n,e,!0,!1)}async function Hg(i,e,n,s){const a=await e0(i.localStore,Hn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await N0(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&Og(i.remoteStore,a),m}async function N0(i,e,n,s,a){i.Ua=(C,D,j)=>async function(X,$,pe,ge){let ve=$.view.ga(pe);ve.ss&&(ve=await mm(X.localStore,$.query,!1).then(({documents:V})=>$.view.ga(V,ve)));const Se=ge&&ge.targetChanges.get($.targetId),et=ge&&ge.targetMismatches.get($.targetId)!=null,xe=$.view.applyChanges(ve,X.isPrimaryClient,Se,et);return Im(X,$.targetId,xe.ba),xe.snapshot}(i,C,D,j);const c=await mm(i.localStore,e,!0),f=new C0(e,c.Es),m=f.ga(c.documents),y=ma.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=f.applyChanges(m,i.isPrimaryClient,y);Im(i,n,v.ba);const w=new P0(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function O0(i,e,n){const s=_e(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!vu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Nh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&rf(s.remoteStore,a.targetId),Lh(s,a.targetId)}).catch(Ys)):(Lh(s,a.targetId),await Nh(s.localStore,a.targetId,!0))}async function L0(i,e){const n=_e(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rf(n.remoteStore,s.targetId))}async function M0(i,e,n){const s=$0(i);try{const a=await function(f,m){const y=_e(f),v=pt.now(),w=m.reduce((j,Q)=>j.add(Q.key),Ie());let C,D;return y.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Q=vr(),X=Ie();return y.hs.getEntries(j,w).next($=>{Q=$,Q.forEach((pe,ge)=>{ge.isValidDocument()||(X=X.add(pe))})}).next(()=>y.localDocuments.getOverlayedDocuments(j,Q)).next($=>{C=$;const pe=[];for(const ge of m){const ve=tw(ge,C.get(ge.key).overlayedDocument);ve!=null&&pe.push(new si(ge.key,ve,Zm(ve.value.mapValue),Wn.exists(!0)))}return y.mutationQueue.addMutationBatch(j,v,pe,m)}).next($=>{D=$;const pe=$.applyToLocalDocumentSet(C,X);return y.documentOverlayCache.saveOverlays(j,$.batchId,pe)})}).then(()=>({batchId:D.batchId,changes:ug(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,y){let v=f.qa[f.currentUser.toKey()];v||(v=new Ye(Re)),v=v.insert(m,y),f.qa[f.currentUser.toKey()]=v}(s,a.batchId,n),await ya(s,a.changes),await Ru(s.remoteStore)}catch(a){const c=uf(a,"Failed to persist write");n.reject(c)}}async function Wg(i,e){const n=_e(i);try{const s=await Yw(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.La.get(c);f&&(Fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Fe(f.Fa):a.removedDocuments.size>0&&(Fe(f.Fa),f.Fa=!1))}),await ya(n,s,e)}catch(s){await Ys(s)}}function Tm(i,e,n){const s=_e(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=_e(f);y.onlineState=m;let v=!1;y.queries.forEach((w,C)=>{for(const D of C.J_)D.ea(m)&&(v=!0)}),v&&cf(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function F0(i,e,n){const s=_e(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.La.get(e),c=a&&a.key;if(c){let f=new Ye(he.comparator);f=f.insert(c,Ft.newNoDocument(c,me.min()));const m=Ie().add(c),y=new Iu(me.min(),new Map,new Ye(Re),f,m);await Wg(s,y),s.Ba=s.Ba.remove(c),s.La.delete(e),hf(s)}else await Nh(s.localStore,e,!1).then(()=>Lh(s,e,n)).catch(Ys)}async function U0(i,e){const n=_e(i),s=e.batch.batchId;try{const a=await Xw(n.localStore,e);Qg(n,s,null),Gg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ya(n,a)}catch(a){await Ys(a)}}async function z0(i,e,n){const s=_e(i);try{const a=await function(f,m){const y=_e(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return y.mutationQueue.lookupMutationBatch(v,m).next(C=>(Fe(C!==null),w=C.keys(),y.mutationQueue.removeMutationBatch(v,C))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,w,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>y.localDocuments.getDocuments(v,w))})}(s.localStore,e);Qg(s,e,n),Gg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ya(s,a)}catch(a){await Ys(a)}}function Gg(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function Qg(i,e,n){const s=_e(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Lh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Kg(i,s)})}function Kg(i,e){i.Na.delete(e.path.canonicalString());const n=i.Ba.get(e);n!==null&&(rf(i.remoteStore,n),i.Ba=i.Ba.remove(e),i.La.delete(n),hf(i))}function Im(i,e,n){for(const s of n)s instanceof $g?(i.ka.addReference(s.key,e),j0(i,s)):s instanceof qg?(te("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Kg(i,s.key)):de()}function j0(i,e){const n=e.key,s=n.path.canonicalString();i.Ba.get(n)||i.Na.has(s)||(te("SyncEngine","New document in limbo: "+n),i.Na.add(s),hf(i))}function hf(i){for(;i.Na.size>0&&i.Ba.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new he(Ze.fromString(e)),s=i.Ka.next();i.La.set(s,new k0(n)),i.Ba=i.Ba.insert(n,s),Og(i.remoteStore,new Gr(Hn(_u(n.path)),s,"TargetPurposeLimboResolution",pu.oe))}}async function ya(i,e,n){const s=_e(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{f.push(s.Ua(y,e,n).then(v=>{var w;if((v||n)&&s.isPrimaryClient){const C=v?!v.fromCache:(w=n==null?void 0:n.targetChanges.get(y.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(y.targetId,C?"current":"not-current")}if(v){a.push(v);const C=nf.zi(y.targetId,v);c.push(C)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(y,v){const w=_e(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>b.forEach(v,D=>b.forEach(D.Wi,j=>w.persistence.referenceDelegate.addReference(C,D.targetId,j)).next(()=>b.forEach(D.Gi,j=>w.persistence.referenceDelegate.removeReference(C,D.targetId,j)))))}catch(C){if(!Js(C))throw C;te("LocalStore","Failed to update sequence numbers: "+C)}for(const C of v){const D=C.targetId;if(!C.fromCache){const j=w.us.get(D),Q=j.snapshotVersion,X=j.withLastLimboFreeSnapshotVersion(Q);w.us=w.us.insert(D,X)}}}(s.localStore,c))}async function b0(i,e){const n=_e(i);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const s=await Vg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new ae(W.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ya(n,s.Ts)}}function B0(i,e){const n=_e(i),s=n.La.get(e);if(s&&s.Fa)return Ie().add(s.key);{let a=Ie();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Xg(i){const e=_e(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F0.bind(null,e),e.Ma.R_=A0.bind(null,e.eventManager),e.Ma.Wa=R0.bind(null,e.eventManager),e}function $0(i){const e=_e(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z0.bind(null,e),e}class uu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Su(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return Kw(this.persistence,new Gw,e.initialUser,this.serializer)}ja(e){return new kg(tf.ei,this.serializer)}za(e){return new n0}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uu.provider={build:()=>new uu};class q0 extends uu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Fe(this.persistence.referenceDelegate instanceof au);const s=this.persistence.referenceDelegate.garbageCollector;return new Dw(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new kg(s=>au.ei(s,n),this.serializer)}}class Mh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Tm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=b0.bind(null,this.syncEngine),await T0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S0}()}createDatastore(e){const n=Su(e.databaseInfo.databaseId),s=function(c){return new o0(c)}(e.databaseInfo);return function(c,f,m,y){return new u0(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new h0(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Tm(this.syncEngine,n,0),function(){return ym.p()?new ym:new r0}())}createSyncEngine(e,n){return function(a,c,f,m,y,v,w){const C=new V0(a,c,f,m,y,v);return w&&(C.$a=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=_e(a);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ga(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Mh.provider={build:()=>new Mh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{te("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(te("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=uf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function yh(i,e){i.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Vg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Sm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await W0(i);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>_m(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>_m(e.remoteStore,a)),i._onlineComponents=e}async function W0(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await yh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===W.FAILED_PRECONDITION||a.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),await yh(i,new uu)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await yh(i,new q0(void 0));return i._offlineComponents}async function Jg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await Sm(i,i._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await Sm(i,new Mh))),i._onlineComponents}function G0(i){return Jg(i).then(e=>e.syncEngine)}async function Fh(i){const e=await Jg(i),n=e.eventManager;return n.onListen=x0.bind(null,e.syncEngine),n.onUnlisten=O0.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D0.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L0.bind(null,e.syncEngine),n}function Q0(i,e,n={}){const s=new Yr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,v){const w=new Yg({next:D=>{w.eu(),f.enqueueAndForget(()=>bg(c,C));const j=D.docs.has(m);!j&&D.fromCache?v.reject(new ae(W.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&D.fromCache&&y&&y.source==="server"?v.reject(new ae(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(D)},error:D=>v.reject(D)}),C=new Bg(_u(m.path),w,{includeMetadataChanges:!0,ua:!0});return jg(c,C)}(await Fh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(i,e,n){if(!n)throw new ae(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function X0(i,e,n,s){if(e===!0&&s===!0)throw new ae(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Rm(i){if(!he.isDocumentKey(i))throw new ae(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ff(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":de()}function Qn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ff(i);throw new ae(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new oE;switch(s.type){case"firstParty":return new cE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Am.get(n);s&&(te("ComponentProvider","Removing Datastore"),Am.delete(n),s.terminate())}(this),Promise.resolve()}}function Y0(i,e,n,s={}){var a;const c=(i=Qn(i,df))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Mt.MOCK_USER;else{m=b_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ae(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Mt(v)}i._authCredentials=new aE(new Km(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Cu(this.firestore,e,this._query)}}class Jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class da extends Cu{constructor(e,n,s){super(e,n,_u(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new he(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function ia(i,e,...n){if(i=Jr(i),arguments.length===1&&(e=Xm.newId()),K0("doc","path",e),i instanceof df){const s=Ze.fromString(e,...n);return Rm(s),new Jt(i,null,new he(s))}{if(!(i instanceof Jt||i instanceof da))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return Rm(s),new Jt(i.firestore,i instanceof da?i.converter:null,new he(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Dg(this,"async_queue_retry"),this.fu=()=>{const s=gh();s&&te("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=gh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Yr;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Js(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw _r("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=lf.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.Eu.push(a),a}pu(){this.Au&&de()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}function km(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1}(i,["next","error","complete"])}class Gs extends df{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Pm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pm(e),this._firestoreClient=void 0,await e}}}function J0(i,e){const n=typeof i=="object"?i:Xv(),s=typeof i=="string"?i:"(default)",a=Wv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=z_("firestore");c&&Y0(a,...c)}return a}function pf(i){if(i._terminated)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Z0(i),i._firestoreClient}function Z0(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,v,w){return new AE(m,y,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Zg(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new H0(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(Pt.fromBase64String(e))}catch(n){throw new ae(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=/^__.*__$/;class tT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new si(e,this.data,this.fieldMask,n,this.fieldTransforms):new pa(e,this.data,n,this.fieldTransforms)}}class ey{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new si(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ty(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Vu{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Vu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Bu(e),a}Lu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return cu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(ty(this.Mu)&&eT.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class nT{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Su(e)}$u(e,n,s,a=!1){return new Vu({Mu:e,methodName:n,Ku:s,path:Ct.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(i){const e=i._freezeSettings(),n=Su(i._databaseId);return new nT(i._databaseId,!!e.ignoreUndefinedProperties,n)}function rT(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);_f("Data must be an object, but it was:",f,s);const m=ry(s,f);let y,v;if(c.merge)y=new an(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const w=[];for(const C of c.mergeFields){const D=Uh(e,C,n);if(!f.contains(D))throw new ae(W.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);sy(w,D)||w.push(D)}y=new an(w),v=f.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,v=f.fieldTransforms;return new tT(new Yt(m),y,v)}class xu extends ku{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xu}}function iT(i,e,n){return new Vu({Mu:3,Ku:e.settings.Ku,methodName:i._methodName,Nu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yf extends ku{constructor(e,n){super(e),this.Uu=n}_toFieldTransform(e){const n=iT(this,e,!0),s=this.Uu.map(c=>_a(c,n)),a=new qs(s);return new YE(e.path,a)}isEqual(e){return e instanceof yf&&Jl(this.Uu,e.Uu)}}function sT(i,e,n,s){const a=i.$u(1,e,n);_f("Data must be an object, but it was:",a,s);const c=[],f=Yt.empty();ii(s,(y,v)=>{const w=vf(e,y,n);v=Jr(v);const C=a.Lu(w);if(v instanceof xu)c.push(w);else{const D=_a(v,C);D!=null&&(c.push(w),f.set(w,D))}});const m=new an(c);return new ey(f,m,a.fieldTransforms)}function oT(i,e,n,s,a,c){const f=i.$u(1,e,n),m=[Uh(e,s,n)],y=[a];if(c.length%2!=0)throw new ae(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)m.push(Uh(e,c[D])),y.push(c[D+1]);const v=[],w=Yt.empty();for(let D=m.length-1;D>=0;--D)if(!sy(v,m[D])){const j=m[D];let Q=y[D];Q=Jr(Q);const X=f.Lu(j);if(Q instanceof xu)v.push(j);else{const $=_a(Q,X);$!=null&&(v.push(j),w.set(j,$))}}const C=new an(v);return new ey(w,C,f.fieldTransforms)}function _a(i,e){if(iy(i=Jr(i)))return _f("Unsupported field value:",e,i),ry(i,e);if(i instanceof ku)return function(s,a){if(!ty(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let y=_a(m,a.ku(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Jr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QE(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pt.fromDate(s);return{timestampValue:ou(a.serializer,c)}}if(s instanceof pt){const c=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ou(a.serializer,c)}}if(s instanceof mf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qs)return{bytesValue:Tg(a.serializer,s._byteString)};if(s instanceof Jt){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof gf)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.qu("VectorValues must only contain numeric values.");return Xh(m.serializer,y)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${ff(s)}`)}(i,e)}function ry(i,e){const n={};return Ym(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(i,(s,a)=>{const c=_a(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function iy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof mf||i instanceof Qs||i instanceof Jt||i instanceof ku||i instanceof gf)}function _f(i,e,n){if(!iy(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=ff(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function Uh(i,e,n){if((e=Jr(e))instanceof Pu)return e._internalPath;if(typeof e=="string")return vf(i,e);throw cu("Field path arguments must be of type string or ",i,!1,void 0,n)}const aT=new RegExp("[~\\*/\\[\\]]");function vf(i,e,n){if(e.search(aT)>=0)throw cu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Pu(...e.split("."))._internalPath}catch{throw cu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function cu(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${a}`),y+=")"),new ae(W.INVALID_ARGUMENT,m+i+y)}function sy(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ay("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lT extends oy{data(){return super.data()}}function ay(i,e){return typeof e=="string"?vf(i,e):e instanceof Pu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cT{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ii(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>it(f.doubleValue));return new gf(c)}convertGeoPoint(e){return new mf(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const n=ei(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);Fe(Pg(s));const a=new ca(s.get(1),s.get(3)),c=new he(s.popFirst(5));return a.isEqual(n)||_r(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ly extends oy{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ay("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ql extends ly{data(e={}){return super.data(e)}}class fT{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Zo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ql(this._firestore,this._userDataWriter,s.key,s,new Zo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new Ql(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Zo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Ql(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Zo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:dT(m.type),doc:y,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(i){i=Qn(i,Jt);const e=Qn(i.firestore,Gs);return Q0(pf(e),i._key).then(n=>hy(e,i,n))}class uy extends cT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function mT(i,e,n){i=Qn(i,Jt);const s=Qn(i.firestore,Gs),a=hT(i.converter,e);return cy(s,[rT(ny(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,Wn.none())])}function zh(i,e,n,...s){i=Qn(i,Jt);const a=Qn(i.firestore,Gs),c=ny(a);let f;return f=typeof(e=Jr(e))=="string"||e instanceof Pu?oT(c,"updateDoc",i._key,e,n,s):sT(c,"updateDoc",i._key,e),cy(a,[f.toMutation(i._key,Wn.exists(!0))])}function gT(i,...e){var n,s,a;i=Jr(i);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||km(e[f])||(c=e[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(km(e[f])){const C=e[f];e[f]=(n=C.next)===null||n===void 0?void 0:n.bind(C),e[f+1]=(s=C.error)===null||s===void 0?void 0:s.bind(C),e[f+2]=(a=C.complete)===null||a===void 0?void 0:a.bind(C)}let y,v,w;if(i instanceof Jt)v=Qn(i.firestore,Gs),w=_u(i._key.path),y={next:C=>{e[f]&&e[f](hy(v,i,C))},error:e[f+1],complete:e[f+2]};else{const C=Qn(i,Cu);v=Qn(C.firestore,Gs),w=C._query;const D=new uy(v);y={next:j=>{e[f]&&e[f](new fT(v,D,C,j))},error:e[f+1],complete:e[f+2]},uT(i._query)}return function(D,j,Q,X){const $=new Yg(X),pe=new Bg(j,$,Q);return D.asyncQueue.enqueueAndForget(async()=>jg(await Fh(D),pe)),()=>{$.eu(),D.asyncQueue.enqueueAndForget(async()=>bg(await Fh(D),pe))}}(pf(v),w,m,y)}function cy(i,e){return function(s,a){const c=new Yr;return s.asyncQueue.enqueueAndForget(async()=>M0(await G0(s),a,c)),c.promise}(pf(i),e)}function hy(i,e,n){const s=n.docs.get(e._key),a=new uy(i);return new ly(i,a,e._key,s,new Zo(n.hasPendingWrites,n.fromCache),e.converter)}function yT(...i){return new yf("arrayUnion",i)}(function(e,n=!0){(function(a){Xs=a})(Kv),eu(new aa("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Gs(new lE(s.getProvider("auth-internal")),new fE(s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ae(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(v.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Us(Wp,"4.7.6",e),Us(Wp,"4.7.6","esm2017")})();var _T="firebase",vT="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(_T,vT,"app");const ET={apiKey:"AIzaSyBeuAxA35t_LabwU8Gu-rkuV-mkd02qL0s",authDomain:"test-project-multiplayer.firebaseapp.com",projectId:"test-project-multiplayer",storageBucket:"test-project-multiplayer.firebasestorage.app",messagingSenderId:"983160703654",appId:"1:983160703654:web:535d064be3bd8ccf7e0267",measurementId:"G-FNH4PJMMRD"},wT=jm(ET),sa=J0(wT);let TT={data:""},IT=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||TT,ST=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AT=/\/\*[^]*?\*\/|  +/g,Vm=/\n+/g,Wr=(i,e)=>{let n="",s="",a="";for(let c in i){let f=i[c];c[0]=="@"?c[1]=="i"?n=c+" "+f+";":s+=c[1]=="f"?Wr(f,c):c+"{"+Wr(f,c[1]=="k"?"":e)+"}":typeof f=="object"?s+=Wr(f,e?e.replace(/([^,])+/g,m=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,y=>/&/.test(y)?y.replace(/&/g,m):m?m+" "+y:y)):c):f!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Wr.p?Wr.p(c,f):c+":"+f+";")}return n+(e&&a?e+"{"+a+"}":a)+s},mr={},fy=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+fy(i[n]);return e}return i},RT=(i,e,n,s,a)=>{let c=fy(i),f=mr[c]||(mr[c]=(y=>{let v=0,w=11;for(;v<y.length;)w=101*w+y.charCodeAt(v++)>>>0;return"go"+w})(c));if(!mr[f]){let y=c!==i?i:(v=>{let w,C,D=[{}];for(;w=ST.exec(v.replace(AT,""));)w[4]?D.shift():w[3]?(C=w[3].replace(Vm," ").trim(),D.unshift(D[0][C]=D[0][C]||{})):D[0][w[1]]=w[2].replace(Vm," ").trim();return D[0]})(i);mr[f]=Wr(a?{["@keyframes "+f]:y}:y,n?"":"."+f)}let m=n&&mr.g?mr.g:null;return n&&(mr.g=mr[f]),((y,v,w,C)=>{C?v.data=v.data.replace(C,y):v.data.indexOf(y)===-1&&(v.data=w?y+v.data:v.data+y)})(mr[f],e,s,m),f},CT=(i,e,n)=>i.reduce((s,a,c)=>{let f=e[c];if(f&&f.call){let m=f(n),y=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=y?"."+y:m&&typeof m=="object"?m.props?"":Wr(m,""):m===!1?"":m}return s+a+(f??"")},"");function Du(i){let e=this||{},n=i.call?i(e.p):i;return RT(n.unshift?n.raw?CT(n,[].slice.call(arguments,1),e.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(e.p):a),{}):n,IT(e.target),e.g,e.o,e.k)}let dy,jh,bh;Du.bind({g:1});let Er=Du.bind({k:1});function PT(i,e,n,s){Wr.p=e,dy=i,jh=n,bh=s}function oi(i,e){let n=this||{};return function(){let s=arguments;function a(c,f){let m=Object.assign({},c),y=m.className||a.className;n.p=Object.assign({theme:jh&&jh()},m),n.o=/ *go\d+/.test(y),m.className=Du.apply(n,s)+(y?" "+y:"");let v=i;return i[0]&&(v=m.as||i,delete m.as),bh&&v[0]&&bh(m),dy(v,m)}return a}}var kT=i=>typeof i=="function",hu=(i,e)=>kT(i)?i(e):i,VT=(()=>{let i=0;return()=>(++i).toString()})(),py=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),xT=20,my=(i,e)=>{switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,xT)};case 1:return{...i,toasts:i.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:n}=e;return my(i,{type:i.toasts.find(c=>c.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...i,toasts:i.toasts.map(c=>c.id===s||s===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let a=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+a}))}}},Kl=[],Xl={toasts:[],pausedAt:void 0},bi=i=>{Xl=my(Xl,i),Kl.forEach(e=>{e(Xl)})},DT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},NT=(i={})=>{let[e,n]=Me.useState(Xl);Me.useEffect(()=>(Kl.push(n),()=>{let a=Kl.indexOf(n);a>-1&&Kl.splice(a,1)}),[e]);let s=e.toasts.map(a=>{var c,f,m;return{...i,...i[a.type],...a,removeDelay:a.removeDelay||((c=i[a.type])==null?void 0:c.removeDelay)||(i==null?void 0:i.removeDelay),duration:a.duration||((f=i[a.type])==null?void 0:f.duration)||(i==null?void 0:i.duration)||DT[a.type],style:{...i.style,...(m=i[a.type])==null?void 0:m.style,...a.style}}});return{...e,toasts:s}},OT=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:(n==null?void 0:n.id)||VT()}),va=i=>(e,n)=>{let s=OT(e,i,n);return bi({type:2,toast:s}),s.id},qe=(i,e)=>va("blank")(i,e);qe.error=va("error");qe.success=va("success");qe.loading=va("loading");qe.custom=va("custom");qe.dismiss=i=>{bi({type:3,toastId:i})};qe.remove=i=>bi({type:4,toastId:i});qe.promise=(i,e,n)=>{let s=qe.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof i=="function"&&(i=i()),i.then(a=>{let c=e.success?hu(e.success,a):void 0;return c?qe.success(c,{id:s,...n,...n==null?void 0:n.success}):qe.dismiss(s),a}).catch(a=>{let c=e.error?hu(e.error,a):void 0;c?qe.error(c,{id:s,...n,...n==null?void 0:n.error}):qe.dismiss(s)}),i};var LT=(i,e)=>{bi({type:1,toast:{id:i,height:e}})},MT=()=>{bi({type:5,time:Date.now()})},oa=new Map,FT=1e3,UT=(i,e=FT)=>{if(oa.has(i))return;let n=setTimeout(()=>{oa.delete(i),bi({type:4,toastId:i})},e);oa.set(i,n)},zT=i=>{let{toasts:e,pausedAt:n}=NT(i);Me.useEffect(()=>{if(n)return;let c=Date.now(),f=e.map(m=>{if(m.duration===1/0)return;let y=(m.duration||0)+m.pauseDuration-(c-m.createdAt);if(y<0){m.visible&&qe.dismiss(m.id);return}return setTimeout(()=>qe.dismiss(m.id),y)});return()=>{f.forEach(m=>m&&clearTimeout(m))}},[e,n]);let s=Me.useCallback(()=>{n&&bi({type:6,time:Date.now()})},[n]),a=Me.useCallback((c,f)=>{let{reverseOrder:m=!1,gutter:y=8,defaultPosition:v}=f||{},w=e.filter(j=>(j.position||v)===(c.position||v)&&j.height),C=w.findIndex(j=>j.id===c.id),D=w.filter((j,Q)=>Q<C&&j.visible).length;return w.filter(j=>j.visible).slice(...m?[D+1]:[0,D]).reduce((j,Q)=>j+(Q.height||0)+y,0)},[e]);return Me.useEffect(()=>{e.forEach(c=>{if(c.dismissed)UT(c.id,c.removeDelay);else{let f=oa.get(c.id);f&&(clearTimeout(f),oa.delete(c.id))}})},[e]),{toasts:e,handlers:{updateHeight:LT,startPause:MT,endPause:s,calculateOffset:a}}},jT=Er`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bT=Er`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BT=Er`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$T=oi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${BT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,qT=Er`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,HT=oi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${qT} 1s linear infinite;
`,WT=Er`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GT=Er`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,QT=oi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,KT=oi("div")`
  position: absolute;
`,XT=oi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,YT=Er`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JT=oi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${YT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ZT=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?Me.createElement(JT,null,e):e:n==="blank"?null:Me.createElement(XT,null,Me.createElement(HT,{...s}),n!=="loading"&&Me.createElement(KT,null,n==="error"?Me.createElement($T,{...s}):Me.createElement(QT,{...s})))},e1=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,t1=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,n1="0%{opacity:0;} 100%{opacity:1;}",r1="0%{opacity:1;} 100%{opacity:0;}",i1=oi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,s1=oi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,o1=(i,e)=>{let n=i.includes("top")?1:-1,[s,a]=py()?[n1,r1]:[e1(n),t1(n)];return{animation:e?`${Er(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Er(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},a1=Me.memo(({toast:i,position:e,style:n,children:s})=>{let a=i.height?o1(i.position||e||"top-center",i.visible):{opacity:0},c=Me.createElement(ZT,{toast:i}),f=Me.createElement(s1,{...i.ariaProps},hu(i.message,i));return Me.createElement(i1,{className:i.className,style:{...a,...n,...i.style}},typeof s=="function"?s({icon:c,message:f}):Me.createElement(Me.Fragment,null,c,f))});PT(Me.createElement);var l1=({id:i,className:e,style:n,onHeightUpdate:s,children:a})=>{let c=Me.useCallback(f=>{if(f){let m=()=>{let y=f.getBoundingClientRect().height;s(i,y)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return Me.createElement("div",{ref:c,className:e,style:n},a)},u1=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},a=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:py()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...a}},c1=Du`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bl=16,h1=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:a,containerStyle:c,containerClassName:f})=>{let{toasts:m,handlers:y}=zT(n);return Me.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:bl,left:bl,right:bl,bottom:bl,pointerEvents:"none",...c},className:f,onMouseEnter:y.startPause,onMouseLeave:y.endPause},m.map(v=>{let w=v.position||e,C=y.calculateOffset(v,{reverseOrder:i,gutter:s,defaultPosition:e}),D=u1(w,C);return Me.createElement(l1,{id:v.id,key:v.id,onHeightUpdate:y.updateHeight,className:v.visible?c1:"",style:D},v.type==="custom"?hu(v.message,v):a?a(v):Me.createElement(a1,{toast:v,position:w}))}))};const Bl=4,gr=8,f1=({gameId:i,playerId:e})=>{const[n,s]=Me.useState(null);Me.useEffect(()=>{const y=ia(sa,"games",i),v=gT(y,w=>{const C=w.data();s(C),C.winner&&qe.success(`Game Over! ${C.winner} player wins!`)});return()=>v()},[i]);const a=(y,v)=>{const w=y[v];if(!w)return!1;const C=Math.floor(v/gr),D=v%gr,j=(Q,X)=>{let $=0,pe=C+Q,ge=D+X;for(;pe>=0&&pe<gr&&ge>=0&&ge<gr&&y[pe*gr+ge]===w;)$++,pe+=Q,ge+=X;return $};return j(0,-1)+j(0,1)+1>=Bl||j(-1,0)+j(1,0)+1>=Bl||j(-1,-1)+j(1,1)+1>=Bl||j(-1,1)+j(1,-1)+1>=Bl},c=async y=>{if(!(!n||n.status==="finished")){if(n.players.length<2){qe.error("Waiting for opponent to join");return}if(n.currentPlayer!==f()){qe.error("It's not your turn!");return}if(n.board[y]){qe.error("Invalid move");return}try{const v=[...n.board],w=f();v[y]=w;const C=a(v,y);await zh(ia(sa,"games",i),{board:v,currentPlayer:n.currentPlayer==="red"?"yellow":"red",...C&&{winner:w,status:"finished"}})}catch(v){qe.error("Move failed"),console.error("Error updating document:",v)}}},f=()=>n?n.players[0]===e?"red":"yellow":"spectator",m=async()=>{try{await zh(ia(sa,"games",i),{board:Array(gr**2).fill(""),currentPlayer:"red",status:"playing",winner:null})}catch(y){console.error("Error restarting game:",y)}};return n?ye.jsxs("div",{className:"game-container",children:[ye.jsxs("div",{className:"game-info",children:[ye.jsxs("p",{children:["Your color: ",ye.jsx("span",{className:f(),children:f()})]}),ye.jsxs("p",{children:["Players connected: ",n.players.length,"/2"]}),ye.jsxs("p",{children:["Current turn: ",n.currentPlayer]})]}),n.status==="finished"?ye.jsxs("div",{className:"game-over",children:[ye.jsxs("h2",{children:["Game Over! ",n.winner," wins!"]}),ye.jsx("button",{onClick:m,children:"Play Again"})]}):n.players.length===2?ye.jsx("div",{className:"board",children:Array.from({length:gr}).map((y,v)=>ye.jsx("div",{className:"row",children:Array.from({length:gr}).map((w,C)=>{const D=v*gr+C;return ye.jsx("div",{className:"cell",onClick:()=>c(D),children:n.board[D]&&ye.jsx("div",{className:`piece ${n.board[D]}`})},D)})},v))}):ye.jsxs("div",{className:"waiting-message",children:[ye.jsx("p",{children:"Share this Game ID with player 2:"}),ye.jsx("h2",{children:i}),ye.jsx("p",{children:"Waiting for opponent to join..."})]})]}):ye.jsx("div",{children:"Loading game..."})},d1=8,p1=()=>{const[i,e]=Me.useState(""),[n,s]=Me.useState(""),a=async()=>{const f=`game-${Date.now()}`,m=`player-${Math.random().toString(36).slice(2,9)}`;try{await mT(ia(sa,"games",f),{board:Array(d1**2).fill(""),currentPlayer:"red",players:[m],status:"waiting"}),e(f),s(m),qe.success(`Game created! ID: ${f}`)}catch(y){qe.error("Failed to create game"),console.error("Error creating game:",y)}},c=async()=>{if(!i){qe.error("Please enter a Game ID");return}try{const f=ia(sa,"games",i),m=await pT(f);if(!m.exists()){qe.error("Game not found");return}if(m.data().players.length>=2){qe.error("Game is full");return}const v=`player-${Math.random().toString(36).slice(2,9)}`;await zh(f,{players:yT(v),status:"playing"}),s(v),qe.success("Joined game!")}catch(f){qe.error("Failed to join game"),console.error("Error joining game:",f)}};return ye.jsx("div",{className:"lobby",children:n?ye.jsx(f1,{gameId:i,playerId:n}):ye.jsxs("div",{className:"lobby-actions",children:[ye.jsx("button",{onClick:a,children:"Create New Game"}),ye.jsxs("div",{className:"join-section",children:[ye.jsx("input",{value:i,onChange:f=>e(f.target.value),placeholder:"Enter Game ID"}),ye.jsx("button",{onClick:c,children:"Join Game"})]})]})})};var gy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xm=Fi.createContext&&Fi.createContext(gy),m1=["attr","size","title"];function g1(i,e){if(i==null)return{};var n=y1(i,e),s,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(a=0;a<c.length;a++)s=c[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function y1(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function fu(){return fu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},fu.apply(this,arguments)}function Dm(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),n.push.apply(n,s)}return n}function du(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dm(Object(n),!0).forEach(function(s){_1(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Dm(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function _1(i,e,n){return e=v1(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function v1(i){var e=E1(i,"string");return typeof e=="symbol"?e:e+""}function E1(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function yy(i){return i&&i.map((e,n)=>Fi.createElement(e.tag,du({key:n},e.attr),yy(e.child)))}function w1(i){return e=>Fi.createElement(T1,fu({attr:du({},i.attr)},e),yy(i.child))}function T1(i){var e=n=>{var{attr:s,size:a,title:c}=i,f=g1(i,m1),m=a||n.size||"1em",y;return n.className&&(y=n.className),i.className&&(y=(y?y+" ":"")+i.className),Fi.createElement("svg",fu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:y,style:du(du({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&Fi.createElement("title",null,c),i.children)};return xm!==void 0?Fi.createElement(xm.Consumer,null,n=>e(n)):e(gy)}function I1(i){return w1({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(i)}function S1(){const[i,e]=Me.useState(!1);return ye.jsxs("div",{className:"app-container",children:[ye.jsx(h1,{position:"top-right"}),ye.jsx("header",{className:"app-header",children:ye.jsxs("h1",{children:["Multiplayer Board Game ",ye.jsx(I1,{className:"game-icon"})]})}),ye.jsx("main",{className:"game-container",children:ye.jsx(p1,{})}),i&&ye.jsxs("div",{className:"rules-popup",children:[ye.jsx("h3",{children:"Game Rules"}),ye.jsxs("ol",{children:[ye.jsx("li",{children:"Players take turns placing their pieces"}),ye.jsx("li",{children:"Red always goes first"}),ye.jsx("li",{children:"Click any empty cell to place your piece"}),ye.jsx("li",{children:"Game continues until all cells are filled"})]}),ye.jsx("button",{onClick:()=>e(!1),children:"Close"})]}),ye.jsx("footer",{className:"app-footer",children:ye.jsx("button",{className:"rules-button",onClick:()=>e(!i),children:i?"Hide Rules":"Show Rules"})})]})}k_.createRoot(document.getElementById("root")).render(ye.jsx(Me.StrictMode,{children:ye.jsx(S1,{})}));
